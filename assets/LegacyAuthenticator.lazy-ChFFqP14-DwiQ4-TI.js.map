{"version":3,"file":"LegacyAuthenticator.lazy-ChFFqP14-DwiQ4-TI.js","sources":["../../node_modules/.pnpm/solid-auth-client@2.4.1_encoding@0.1.13/node_modules/solid-auth-client/browser/index.js"],"sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _solid_auth_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n // Export a singleton instance of SolidAuthClient\n\nconst auth = new _solid_auth_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n/* harmony default export */ __webpack_exports__[\"default\"] = (auth); // Bind methods to instance, so they can be invoked as regular functions\n// (e.g., to pass around the fetch function)\n\nObject.getOwnPropertyNames(_solid_auth_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype).forEach(property => {\n  const value = auth[property];\n\n  if (typeof value === 'function') {\n    auth[property] = value.bind(auth);\n  }\n}); // Expose window.SolidAuthClient for backward compatibility\n\nif (typeof window !== 'undefined') {\n  if ('SolidAuthClient' in window) {\n    console.warn('Caution: multiple versions of solid-auth-client active.');\n  } else {\n    let warned = false;\n    Object.defineProperty(window, 'SolidAuthClient', {\n      enumerable: true,\n      get: () => {\n        if (!warned) {\n          warned = true;\n          console.warn('window.SolidAuthClient has been deprecated.');\n          console.warn('Please use window.solid.auth instead.');\n        }\n\n        return auth;\n      }\n    });\n  }\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SolidAuthClient; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _authn_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n/* harmony import */ var _popup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81);\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9);\n/* harmony import */ var _url_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6);\n/* harmony import */ var _webid_oidc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(11);\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* global fetch */\n\n\n\n\n\n\n // Store the global fetch, so the user is free to override it\n\nconst globalFetch = fetch;\nclass SolidAuthClient extends events__WEBPACK_IMPORTED_MODULE_1___default.a {\n  constructor() {\n    super(...arguments);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_pendingSession\", void 0);\n  }\n\n  fetch(input, options) {\n    this.emit('request', Object(_url_util__WEBPACK_IMPORTED_MODULE_6__[\"toUrlString\"])(input));\n    return Object(_authn_fetch__WEBPACK_IMPORTED_MODULE_2__[\"authnFetch\"])(Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])(), globalFetch, input, options);\n  }\n\n  login(idp, options) {\n    options = _objectSpread({}, defaultLoginOptions(Object(_url_util__WEBPACK_IMPORTED_MODULE_6__[\"currentUrlNoParams\"])()), {}, options);\n    return _webid_oidc__WEBPACK_IMPORTED_MODULE_7__[\"login\"](idp, options);\n  }\n\n  async popupLogin(options) {\n    options = _objectSpread({}, defaultLoginOptions(), {}, options);\n\n    if (!/https?:/.test(options.popupUri)) {\n      options.popupUri = new URL(options.popupUri || '/.well-known/solid/login', window.location).toString();\n    }\n\n    if (!options.callbackUri) {\n      options.callbackUri = options.popupUri;\n    }\n\n    const popup = Object(_popup__WEBPACK_IMPORTED_MODULE_3__[\"openIdpPopup\"])(options.popupUri);\n    const session = await Object(_popup__WEBPACK_IMPORTED_MODULE_3__[\"obtainSession\"])(options.storage, popup, options);\n    this.emit('login', session);\n    this.emit('session', session);\n    return session;\n  }\n\n  async currentSession() {\n    let storage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])();\n    // Try to obtain a stored or pending session\n    let session = this._pendingSession || (await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"getSession\"])(storage)); // If none found, attempt to create a new session\n\n    if (!session) {\n      // Try to create a new OIDC session from stored tokens\n      try {\n        this._pendingSession = _webid_oidc__WEBPACK_IMPORTED_MODULE_7__[\"currentSession\"](storage);\n        session = await this._pendingSession;\n      } catch (err) {\n        console.error(err);\n      } // Save the new session and emit session events\n\n\n      if (session) {\n        await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"saveSession\"])(storage)(session);\n        this.emit('login', session);\n        this.emit('session', session);\n      }\n\n      delete this._pendingSession;\n    }\n\n    return session;\n  }\n\n  async trackSession(callback) {\n    /* eslint-disable standard/no-callback-literal */\n    callback((await this.currentSession()));\n    this.on('session', callback);\n  }\n\n  stopTrackSession(callback) {\n    this.removeListener('session', callback);\n  }\n\n  async logout() {\n    let storage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])();\n    const session = await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"getSession\"])(storage);\n\n    if (session) {\n      try {\n        await _webid_oidc__WEBPACK_IMPORTED_MODULE_7__[\"logout\"](storage, globalFetch);\n        this.emit('logout');\n        this.emit('session', null);\n      } catch (err) {\n        console.warn('Error logging out:');\n        console.error(err);\n      }\n\n      await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"clearSession\"])(storage);\n    }\n  }\n\n}\n\nfunction defaultLoginOptions(url) {\n  return {\n    callbackUri: url ? url.split('#')[0] : '',\n    popupUri: '',\n    storage: Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])()\n  };\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"authnFetch\", function() { return authnFetch; });\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _url_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n/* harmony import */ var _host__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);\n/* harmony import */ var _webid_oidc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);\n\n\n\n\n\nasync function authnFetch(storage, fetch, input, options) {\n  // If not authenticated, perform a regular fetch\n  const session = await Object(_session__WEBPACK_IMPORTED_MODULE_3__[\"getSession\"])(storage);\n\n  if (!session) {\n    return fetch(input, options);\n  } // If we know the server expects credentials, send them\n\n\n  if (await shouldShareCredentials(storage, input)) {\n    return Object(_webid_oidc__WEBPACK_IMPORTED_MODULE_4__[\"fetchWithCredentials\"])(session, fetch, input, options);\n  } // If we don't know for sure, try a regular fetch first\n\n\n  let resp = await fetch(input, options); // If the server then requests credentials, send them\n\n  if (resp.status === 401) {\n    await Object(_host__WEBPACK_IMPORTED_MODULE_2__[\"updateHostFromResponse\"])(storage)(resp);\n\n    if (await shouldShareCredentials(storage, input)) {\n      resp = Object(_webid_oidc__WEBPACK_IMPORTED_MODULE_4__[\"fetchWithCredentials\"])(session, fetch, input, options);\n    }\n  }\n\n  return resp;\n}\n\nasync function shouldShareCredentials(storage, input) {\n  const requestHost = await Object(_host__WEBPACK_IMPORTED_MODULE_2__[\"getHost\"])(storage)(Object(_url_util__WEBPACK_IMPORTED_MODULE_1__[\"toUrlString\"])(input));\n  return requestHost != null && requestHost.requiresAuth;\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n(function() { module.exports = window[\"fetch\"]; }());\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"currentUrl\", function() { return currentUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"currentUrlNoParams\", function() { return currentUrlNoParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"navigateTo\", function() { return navigateTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"originOf\", function() { return originOf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toUrlString\", function() { return toUrlString; });\n/* eslint-env browser */\nfunction getLocation() {\n  return typeof window !== 'undefined' ? window.location : {\n    href: 'https://example.org/',\n    pathname: '/',\n    origin: 'example.org'\n  };\n}\n\nconst currentUrl = () => getLocation().href;\nconst currentUrlNoParams = () => getLocation().origin + getLocation().pathname;\nconst navigateTo = url => {\n  getLocation().href = url;\n};\nconst originOf = url => new URL(url).origin;\nconst toUrlString = url => {\n  if (typeof url !== 'string') {\n    url = 'url' in url ? url.url : url.toString();\n  }\n\n  return new URL(url, currentUrl()).toString();\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHost\", function() { return getHost; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveHost\", function() { return saveHost; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateHostFromResponse\", function() { return updateHostFromResponse; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);\n/* harmony import */ var _webid_oidc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* globalRequest, Response, URL */\n\n\n\nfunction getHost(storage) {\n  return async url => {\n    const {\n      host\n    } = new URL(url);\n    const session = await Object(_session__WEBPACK_IMPORTED_MODULE_1__[\"getSession\"])(storage);\n\n    if (session && host === new URL(session.idp).host) {\n      return {\n        url: host,\n        requiresAuth: true\n      };\n    }\n\n    const {\n      hosts\n    } = await Object(_storage__WEBPACK_IMPORTED_MODULE_2__[\"getData\"])(storage);\n    return hosts && hosts[host];\n  };\n}\nfunction saveHost(storage) {\n  return async (_ref) => {\n    let {\n      url,\n      requiresAuth\n    } = _ref;\n    await Object(_storage__WEBPACK_IMPORTED_MODULE_2__[\"updateStorage\"])(storage, data => _objectSpread({}, data, {\n      hosts: _objectSpread({}, data.hosts, {\n        [url]: {\n          requiresAuth\n        }\n      })\n    }));\n  };\n}\nfunction updateHostFromResponse(storage) {\n  return async resp => {\n    if (_webid_oidc__WEBPACK_IMPORTED_MODULE_3__[\"requiresAuth\"](resp)) {\n      const {\n        host\n      } = new URL(resp.url);\n      await saveHost(storage)({\n        url: host,\n        requiresAuth: true\n      });\n    }\n  };\n}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSession\", function() { return getSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveSession\", function() { return saveSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearSession\", function() { return clearSession; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\nasync function getSession(storage) {\n  const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_1__[\"getData\"])(storage);\n  return data.session || null;\n}\nfunction saveSession(storage) {\n  return async session => {\n    const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_1__[\"updateStorage\"])(storage, data => _objectSpread({}, data, {\n      session\n    }));\n    return data.session;\n  };\n}\nasync function clearSession(storage) {\n  await Object(_storage__WEBPACK_IMPORTED_MODULE_1__[\"updateStorage\"])(storage, data => _objectSpread({}, data, {\n    session: null\n  }));\n}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NAMESPACE\", function() { return NAMESPACE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultStorage\", function() { return defaultStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getData\", function() { return getData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateStorage\", function() { return updateStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"asyncStorage\", function() { return asyncStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"memStorage\", function() { return memStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ipcStorage\", function() { return ipcStorage; });\n/* harmony import */ var _ipc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n\nconst NAMESPACE = 'solid-auth-client';\nconst defaultStorage = () => {\n  const hasLocalStorage = typeof window !== 'undefined' && 'localStorage' in window;\n  return asyncStorage(hasLocalStorage ? window.localStorage : memStorage());\n};\n/**\n * Gets the deserialized stored data\n */\n\nasync function getData(store) {\n  let serialized;\n  let data;\n\n  try {\n    serialized = await store.getItem(NAMESPACE);\n    data = JSON.parse(serialized || '{}');\n  } catch (e) {\n    console.warn('Could not deserialize data:', serialized);\n    console.error(e);\n    data = {};\n  }\n\n  return data;\n}\n/**\n * Updates a Storage object without mutating its intermediate representation.\n */\n\nasync function updateStorage(store, update) {\n  const currentData = await getData(store);\n  const newData = update(currentData);\n  await store.setItem(NAMESPACE, JSON.stringify(newData));\n  return newData;\n}\n/**\n * Takes a synchronous storage interface and wraps it with an async interface.\n */\n\nfunction asyncStorage(storage) {\n  return {\n    getItem: key => {\n      return Promise.resolve(storage.getItem(key));\n    },\n    setItem: (key, val) => {\n      return Promise.resolve(storage.setItem(key, val));\n    },\n    removeItem: key => {\n      return Promise.resolve(storage.removeItem(key));\n    }\n  };\n}\nconst memStorage = () => {\n  const store = {};\n  return {\n    getItem: key => {\n      if (typeof store[key] === 'undefined') return null;\n      return store[key];\n    },\n    setItem: (key, val) => {\n      store[key] = val;\n    },\n    removeItem: key => {\n      delete store[key];\n    }\n  };\n};\nfunction ipcStorage(client) {\n  return {\n    getItem: key => client.request('storage/getItem', key),\n    setItem: (key, val) => client.request('storage/setItem', key, val),\n    removeItem: key => client.request('storage/removeItem', key)\n  };\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Server\", function() { return Server; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Client\", function() { return Client; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n\n\n/*\n  This module describes a simple IPC interface for communicating between browser windows.\n  window.postMessage() is the transport interface, and a request/response interface\n  is defined on top of it as follows:\n\n  const request = {\n    'solid-auth-client': {\n      id: 1234,\n      method: 'doSomethingPlease',\n      args: [ 'one', 'two', 'three' ]\n    }\n  }\n\n  const response = {\n    'solid-auth-client': {\n      id: 1234,\n      ret: 'the_value'\n    }\n  }\n*/\nconst NAMESPACE = 'solid-auth-client';\n/**\n * Receives and handles remote procedure calls.\n */\n\nclass Server {\n  constructor(clientWindow, clientOrigin, handle) {\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_clientWindow\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_clientOrigin\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_handler\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_messageListener\", void 0);\n\n    this._clientWindow = clientWindow;\n    this._clientOrigin = clientOrigin;\n    this._handler = handle;\n\n    this._messageListener = event => this._handleMessage(event);\n  }\n\n  async _handleMessage(_ref) {\n    let {\n      data,\n      origin\n    } = _ref;\n\n    // Ensure we can post to the origin\n    if (origin !== this._clientOrigin) {\n      console.warn(\"solid-auth-client is listening to \".concat(this._clientOrigin, \" \") + \"so ignored a message received from \".concat(origin, \".\"));\n      return;\n    } // Parse the request and send it to the handler\n\n\n    const req = data && data[NAMESPACE];\n\n    if (req && req.method) {\n      const {\n        id,\n        method,\n        args\n      } = req;\n      const ret = await this._handler(method, ...args);\n\n      this._clientWindow.postMessage({\n        [NAMESPACE]: {\n          id,\n          ret\n        }\n      }, this._clientOrigin);\n    }\n  }\n\n  start() {\n    window.addEventListener('message', this._messageListener);\n  }\n\n  stop() {\n    window.removeEventListener('message', this._messageListener);\n  }\n\n}\n/**\n * Makes remote procedure calls.\n */\n\nclass Client {\n  constructor(serverWindow, serverOrigin) {\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_serverWindow\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_serverOrigin\", void 0);\n\n    this._serverWindow = serverWindow;\n    this._serverOrigin = serverOrigin;\n  }\n\n  request(method) {\n    // Send the request as a message to the server window\n    const id = Math.random();\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    this._serverWindow.postMessage({\n      [NAMESPACE]: {\n        id,\n        method,\n        args\n      }\n    }, this._serverOrigin); // Create a promise that resolves to the request's return value\n\n\n    return new Promise((resolve, reject) => {\n      // Listen for responses to the request\n      window.addEventListener('message', responseListener); // Cancel if the response takes too long\n\n      const timeout = setTimeout(() => {\n        reject(new Error('Could not connect to main window.'));\n        window.removeEventListener('message', responseListener);\n      }, 2000); // Processes a possible response to the request\n\n      function responseListener(_ref2) {\n        let {\n          data\n        } = _ref2;\n        const resp = data && data[NAMESPACE];\n\n        if (resp && resp.id === id && resp.hasOwnProperty('ret')) {\n          resolve(resp.ret);\n          clearTimeout(timeout);\n          window.removeEventListener('message', responseListener);\n        }\n      }\n    });\n  }\n\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"login\", function() { return login; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"currentSession\", function() { return currentSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"logout\", function() { return logout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRegisteredRp\", function() { return getRegisteredRp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"requiresAuth\", function() { return requiresAuth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchWithCredentials\", function() { return fetchWithCredentials; });\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var auth_header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14);\n/* harmony import */ var auth_header__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(auth_header__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(18);\n/* harmony import */ var _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _solid_oidc_rp_lib_PoPToken__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80);\n/* harmony import */ var _solid_oidc_rp_lib_PoPToken__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_solid_oidc_rp_lib_PoPToken__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _url_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6);\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9);\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* global Response */\n\n\n\n\n\nasync function login(idp, options) {\n  try {\n    const rp = await getRegisteredRp(idp, options);\n    await saveAppHashFragment(options.storage);\n    return sendAuthRequest(rp, options);\n  } catch (err) {\n    console.warn('Error logging in with WebID-OIDC');\n    console.error(err);\n    return null;\n  }\n}\nasync function currentSession() {\n  let storage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"defaultStorage\"])();\n\n  try {\n    // Obtain the Relying Party\n    const rp = await getStoredRp(storage);\n\n    if (!rp) {\n      return null;\n    } // Obtain and clear the OIDC URL fragment\n\n\n    const url = Object(_url_util__WEBPACK_IMPORTED_MODULE_5__[\"currentUrl\"])();\n\n    if (!/#(.*&)?access_token=/.test(url)) {\n      return null;\n    }\n\n    window.location.hash = '';\n    await restoreAppHashFragment(storage); // Obtain a session from the Relying Party\n\n    const storeData = await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"getData\"])(storage);\n    const session = await rp.validateResponse(url, storeData);\n\n    if (!session) {\n      return null;\n    }\n\n    return _objectSpread({}, session, {\n      webId: session.idClaims.sub,\n      idp: session.issuer\n    });\n  } catch (err) {\n    console.warn('Error finding a WebID-OIDC session');\n    console.error(err);\n    return null;\n  }\n}\nasync function logout(storage, fetch) {\n  const rp = await getStoredRp(storage);\n\n  if (rp) {\n    try {\n      // First log out from the IDP\n      await rp.logout(); // Then, log out from the RP\n\n      try {\n        await fetch('/.well-known/solid/logout', {\n          credentials: 'include'\n        });\n      } catch (e) {// Ignore errors for when we are not on a Solid pod\n      }\n    } catch (err) {\n      console.warn('Error logging out of the WebID-OIDC session');\n      console.error(err);\n    }\n  }\n}\nasync function getRegisteredRp(idp, options) {\n  // To reuse a possible previous RP,\n  // it be for the same IDP and redirect URI\n  let rp = await getStoredRp(options.storage);\n\n  if (!rp || rp.provider.url !== idp || !rp.registration.redirect_uris.includes(options.callbackUri)) {\n    // Register a new RP\n    rp = await registerRp(idp, options);\n    await storeRp(options.storage, idp, rp);\n  }\n\n  return rp;\n}\n\nasync function getStoredRp(storage) {\n  const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"getData\"])(storage);\n  const {\n    rpConfig\n  } = data;\n\n  if (rpConfig) {\n    rpConfig.store = storage;\n    return _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default.a.from(rpConfig);\n  } else {\n    return null;\n  }\n}\n\nasync function storeRp(storage, idp, rp) {\n  await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(storage, data => _objectSpread({}, data, {\n    rpConfig: rp\n  }));\n  return rp;\n}\n\nfunction registerRp(idp, opts) {\n  const {\n    storage,\n    callbackUri\n  } = opts;\n  const responseType = 'id_token token';\n  const clientNameI18n = {};\n  Object.entries(opts).filter((_ref) => {\n    let [key, _] = _ref;\n    return key.startsWith('clientName#');\n  }).forEach((_ref2) => {\n    let [key, value] = _ref2;\n    return clientNameI18n[key.replace('clientName#', 'client_name#')] = value;\n  });\n  const supplementaryOptions = {\n    logo_uri: opts.logoUri,\n    contacts: opts.contacts,\n    client_name: opts.clientName\n  };\n\n  const registration = _objectSpread({\n    issuer: idp,\n    grant_types: ['implicit'],\n    redirect_uris: [callbackUri],\n    response_types: [responseType],\n    scope: 'openid profile'\n  }, clientNameI18n, {}, supplementaryOptions);\n\n  const options = {\n    defaults: {\n      authenticate: {\n        redirect_uri: callbackUri,\n        response_type: responseType\n      }\n    },\n    store: storage\n  };\n  return _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default.a.register(idp, registration, options);\n}\n\nasync function sendAuthRequest(rp, _ref3) {\n  let {\n    callbackUri,\n    storage\n  } = _ref3;\n  const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"getData\"])(storage);\n  const url = await rp.createRequest({\n    redirect_uri: callbackUri\n  }, data);\n  await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(storage, () => data);\n  return Object(_url_util__WEBPACK_IMPORTED_MODULE_5__[\"navigateTo\"])(url);\n}\n\nasync function saveAppHashFragment(store) {\n  await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(store, data => _objectSpread({}, data, {\n    appHashFragment: window.location.hash\n  }));\n}\n\nasync function restoreAppHashFragment(store) {\n  await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(store, (_ref4) => {\n    let {\n      appHashFragment = ''\n    } = _ref4,\n        data = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref4, [\"appHashFragment\"]);\n\n    window.location.hash = appHashFragment;\n    return data;\n  });\n}\n/**\n * Answers whether a HTTP response requires WebID-OIDC authentication.\n */\n\n\nfunction requiresAuth(resp) {\n  if (resp.status !== 401) {\n    return false;\n  }\n\n  const wwwAuthHeader = resp.headers.get('www-authenticate');\n\n  if (!wwwAuthHeader) {\n    return false;\n  }\n\n  const auth = auth_header__WEBPACK_IMPORTED_MODULE_2__[\"parse\"](wwwAuthHeader);\n  return auth.scheme === 'Bearer' && auth.params && auth.params.scope === 'openid webid';\n}\n/**\n * Fetches a resource, providing the WebID-OIDC ID Token as authentication.\n * Assumes that the resource has requested those tokens in a previous response.\n */\n\nasync function fetchWithCredentials(session, fetch, input, options) {\n  // Create a copy of the headers\n  const headers = {};\n  const origHeaders = options ? options.headers : input.headers;\n\n  if (origHeaders) {\n    const entries = typeof origHeaders.entries === 'function' ? origHeaders.entries() : Object.entries(origHeaders);\n\n    for (const [name, value] of entries) {\n      headers[name] = value;\n    }\n  } // Add Authorization header\n\n\n  const popToken = await _solid_oidc_rp_lib_PoPToken__WEBPACK_IMPORTED_MODULE_4___default.a.issueFor(Object(_url_util__WEBPACK_IMPORTED_MODULE_5__[\"toUrlString\"])(input), session);\n  headers.authorization = \"Bearer \".concat(popToken);\n  return fetch(input, _objectSpread({}, options, {\n    credentials: 'include',\n    headers\n  }));\n}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar objectWithoutPropertiesLoose = __webpack_require__(13);\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"format\", {\n  enumerable: true,\n  get: function get() {\n    return _format.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.default;\n  }\n});\n\nvar _format = _interopRequireDefault(__webpack_require__(15));\n\nvar _parse = _interopRequireDefault(__webpack_require__(17));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = __webpack_require__(16);\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar xxx = function xxx(key) {\n  return function (value) {\n    return `${key}=${value && !(0, _util.isToken)(value) ? (0, _util.quote)(value) : value}`;\n  };\n};\n\nvar build = function build(params) {\n  return params.reduce(function (prev, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        values = _ref2[1];\n\n    var transform = xxx(key);\n\n    if (!(0, _util.isToken)(key)) {\n      throw new TypeError();\n    }\n\n    if (Array.isArray(values)) {\n      return _toConsumableArray(prev).concat(_toConsumableArray(values.map(transform)));\n    }\n\n    return _toConsumableArray(prev).concat([transform(values)]);\n  }, []);\n};\n\nvar challenge = function challenge(params, options) {\n  if (Array.isArray(params)) {\n    return build(params);\n  } else if (typeof params === 'object') {\n    var entries = params;\n    return challenge(Object.keys(params).map(function (key) {\n      return [key, entries[key]];\n    }), options);\n  }\n\n  throw new TypeError();\n};\n\nvar _default = function _default(scheme, token, params) {\n  var obj = typeof scheme === 'string' ? {\n    scheme,\n    token,\n    params\n  } : scheme;\n\n  if (typeof obj !== 'object') {\n    throw new TypeError();\n  } else if (!(0, _util.isScheme)(obj.scheme)) {\n    throw new TypeError('Invalid scheme.');\n  }\n\n  return [obj.scheme].concat(_toConsumableArray(typeof obj.token !== 'undefined' ? [obj.token] : []), _toConsumableArray(typeof obj.params !== 'undefined' ? challenge(obj.params) : [])).join(' ');\n};\n\nexports.default = _default;\n//# sourceMappingURL=format.js.map\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unquote = exports.quote = exports.isScheme = exports.isToken = void 0;\nvar token = /^[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+$/;\n\nvar isToken = function isToken(str) {\n  return typeof str === 'string' && token.test(str);\n};\n\nexports.isToken = isToken;\nvar isScheme = isToken;\nexports.isScheme = isScheme;\n\nvar quote = function quote(str) {\n  return `\"${str.replace(/\"/g, '\\\\\"')}\"`;\n};\n\nexports.quote = quote;\n\nvar unquote = function unquote(str) {\n  return str.substr(1, str.length - 2).replace(/\\\\\"/g, '\"');\n};\n\nexports.unquote = unquote;\n//# sourceMappingURL=util.js.map\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = __webpack_require__(16);\n\n// lol dis\nvar body = /((?:[a-zA-Z0-9._~+\\/-]+=*(?:\\s+|$))|[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+)(?:=([^\\\\\"=\\s,]+|\"(?:[^\"\\\\]|\\\\.)*\"))?/g; // eslint-disable-line\n\nvar normalize = function normalize(prev, _cur) {\n  // Fixup quoted strings and tokens with spaces around them\n  var cur = _cur.charAt(0) === '\"' ? (0, _util.unquote)(_cur) : _cur.trim(); // Marshal\n\n  if (Array.isArray(prev)) {\n    return prev.concat(cur);\n  } else if (typeof prev === 'string') {\n    return [prev, cur];\n  }\n\n  return cur;\n};\n\nvar parseProperties = function parseProperties(scheme, string) {\n  var token = null;\n  var params = {}; // eslint-disable-next-line no-constant-condition\n\n  while (true) {\n    var res = body.exec(string);\n\n    if (res === null) {\n      break;\n    }\n\n    if (res[2]) {\n      params[res[1]] = normalize(params[res[1]], res[2]);\n    } else {\n      token = normalize(token, res[1]);\n    }\n  }\n\n  return {\n    scheme,\n    params,\n    token\n  };\n};\n\nvar _default = function _default(str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Header value must be a string.');\n  }\n\n  var start = str.indexOf(' ');\n  var scheme = str.substr(0, start);\n\n  if (!(0, _util.isScheme)(scheme)) {\n    throw new TypeError(`Invalid scheme ${scheme}`);\n  }\n\n  return parseProperties(scheme, str.substr(start));\n};\n\nexports.default = _default;\n//# sourceMappingURL=parse.js.map\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(19);\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * Dependencies\n */\nconst assert = __webpack_require__(21);\n\nconst fetch = __webpack_require__(5);\n\nconst {\n  URL\n} = __webpack_require__(27);\n\nconst Headers = fetch.Headers ? fetch.Headers : global.Headers;\n\nconst {\n  JSONDocument\n} = __webpack_require__(28);\n\nconst {\n  JWKSet\n} = __webpack_require__(37);\n\nconst AuthenticationRequest = __webpack_require__(68);\n\nconst AuthenticationResponse = __webpack_require__(70);\n\nconst RelyingPartySchema = __webpack_require__(79);\n\nconst onHttpError = __webpack_require__(74);\n\nconst FormUrlEncoded = __webpack_require__(69);\n/**\n * RelyingParty\n *\n * @class\n * Client interface for OpenID Connect Relying Party.\n *\n * @example\n *  let client = RelyingParty({\n *    provider: {\n *      name: 'Anvil Research, Inc.',\n *      url: 'https://forge.anvil.io'\n *      // configuration\n *      // jwks\n *    },\n *    defaults: {\n *      popToken: false,\n *      authenticate: {\n *        response_type: 'code',\n *        display: 'popup',\n *        scope: 'openid profile email'\n *      },\n *      register: {\n *        client_name: 'Example',\n *        client_uri: 'https://example.com',\n *        logo_uri: 'https://example.com/assets/logo.png',\n *        redirect_uris: ['https://app.example.com/callback'],\n *        response_types: ['code', 'code id_token token'],\n *        grant_types: ['authorization_code'],\n *        default_max_age: 7200,\n *        post_logout_redirect_uris: ['https://app.example.com']\n *      },\n *    },\n *    registration: {\n *      // if you have it saved somewhere\n *    },\n *    store: localStorage || req.session\n *  })\n *\n *  client.discover() => Promise\n *  client.jwks() => Promise\n *  client.authenticate()\n *  client.authenticateUri()\n *  client.validateResponse(uri) => Promise\n *  client.userinfo() => Promise\n *  client.logout()\n */\n\n\nclass RelyingParty extends JSONDocument {\n  /**\n   * Schema\n   */\n  static get schema() {\n    return RelyingPartySchema;\n  }\n  /**\n   * from\n   *\n   * @description\n   * Create a RelyingParty instance from a previously registered client.\n   *\n   * @param {Object} data\n   * @returns {Promise<RelyingParty>}\n   */\n\n\n  static from(data) {\n    let rp = new RelyingParty(data);\n    let validation = rp.validate(); // schema validation\n\n    if (!validation.valid) {\n      return Promise.reject(new Error(JSON.stringify(validation)));\n    }\n\n    let jwks = rp.provider.jwks; // request the JWK Set if missing\n\n    if (!jwks) {\n      return rp.jwks().then(() => rp);\n    } // otherwise import the JWK Set to webcrypto\n\n\n    return JWKSet.importKeys(jwks).then(jwks => {\n      rp.provider.jwks = jwks;\n      return rp;\n    });\n  }\n  /**\n   * register\n   *\n   * @param issuer {string} Provider URL\n   * @param registration {Object} Client dynamic registration options\n   * @param options {Object}\n   * @param options.defaults\n   * @param [options.store] {Session|Storage}\n   * @returns {Promise<RelyingParty>} RelyingParty instance, registered.\n   */\n\n\n  static register(issuer, registration, options) {\n    let rp = new RelyingParty({\n      provider: {\n        url: issuer\n      },\n      defaults: Object.assign({}, options.defaults),\n      store: options.store\n    });\n    return Promise.resolve().then(() => rp.discover()).then(() => rp.jwks()).then(() => rp.register(registration)).then(() => rp);\n  }\n  /**\n   * Discover\n   *\n   * @description Fetches the issuer's OpenID Configuration.\n   * @returns {Promise<Object>} Resolves with the provider configuration response\n   */\n\n\n  discover() {\n    try {\n      let issuer = this.provider.url;\n      assert(issuer, 'RelyingParty provider must define \"url\"');\n      let url = new URL(issuer);\n      url.pathname = '.well-known/openid-configuration';\n      return fetch(url.toString()).then(onHttpError('Error fetching openid configuration')).then(response => {\n        return response.json().then(json => this.provider.configuration = json);\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * Register\n   *\n   * @description Register's a client with provider as a Relying Party\n   *\n   * @param options {Object}\n   * @returns {Promise<Object>} Resolves with the registration response object\n   */\n\n\n  register(options) {\n    try {\n      let configuration = this.provider.configuration;\n      assert(configuration, 'OpenID Configuration is not initialized.');\n      assert(configuration.registration_endpoint, 'OpenID Configuration is missing registration_endpoint.');\n      let uri = configuration.registration_endpoint;\n      let method = 'post';\n      let headers = new Headers({\n        'Content-Type': 'application/json'\n      });\n      let params = this.defaults.register;\n      let body = JSON.stringify(Object.assign({}, params, options));\n      return fetch(uri, {\n        method,\n        headers,\n        body\n      }).then(onHttpError('Error registering client')).then(response => {\n        return response.json().then(json => this.registration = json);\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  serialize() {\n    return JSON.stringify(this);\n  }\n  /**\n   * jwks\n   *\n   * @description Promises the issuer's JWK Set.\n   * @returns {Promise}\n   */\n\n\n  jwks() {\n    try {\n      let configuration = this.provider.configuration;\n      assert(configuration, 'OpenID Configuration is not initialized.');\n      assert(configuration.jwks_uri, 'OpenID Configuration is missing jwks_uri.');\n      let uri = configuration.jwks_uri;\n      return fetch(uri).then(onHttpError('Error resolving provider keys')).then(response => {\n        return response.json().then(json => JWKSet.importKeys(json)).then(jwks => this.provider.jwks = jwks);\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * createRequest\n   *\n   * @param options {Object} Authn request options hashmap\n   * @param options.redirect_uri {string}\n   * @param options.response_type {string} e.g. 'code' or 'id_token token'\n   * @param session {Session|Storage} req.session or localStorage\n   * @returns {Promise<string>} Authn request URL\n   */\n\n\n  createRequest(options, session) {\n    return AuthenticationRequest.create(this, options, session || this.store);\n  }\n  /**\n   * Validate Response\n   *\n   * @param response {string} req.query or req.body.text\n   * @param session {Session|Storage} req.session or localStorage or similar\n   *\n   * @returns {Promise<Session>}\n   */\n\n\n  validateResponse(response, session = this.store) {\n    let options;\n\n    if (response.match(/^http(s?):\\/\\//)) {\n      options = {\n        rp: this,\n        redirect: response,\n        session\n      };\n    } else {\n      options = {\n        rp: this,\n        body: response,\n        session\n      };\n    }\n\n    const authResponse = new AuthenticationResponse(options);\n    return AuthenticationResponse.validateResponse(authResponse);\n  }\n  /**\n   * userinfo\n   *\n   * @description Promises the authenticated user's claims.\n   * @returns {Promise}\n   */\n\n\n  userinfo() {\n    try {\n      let configuration = this.provider.configuration;\n      assert(configuration, 'OpenID Configuration is not initialized.');\n      assert(configuration.userinfo_endpoint, 'OpenID Configuration is missing userinfo_endpoint.');\n      let uri = configuration.userinfo_endpoint;\n      let access_token = this.store.access_token;\n      assert(access_token, 'Missing access token.');\n      let headers = new Headers({\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${access_token}`\n      });\n      return fetch(uri, {\n        headers\n      }).then(onHttpError('Error fetching userinfo')).then(response => response.json());\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * logoutRequest\n   *\n   * Composes and returns the logout request URI, based on the OP's\n   * `end_session_endpoint`, with appropriate parameters.\n   *\n   * Note: Calling client code has the responsibility to clear the local\n   * session state (for example, by calling `rp.clearSession()`). In addition,\n   * some IdPs (such as Google) may not provide an `end_session_endpoint`,\n   * in which case, this method will return null.\n   *\n   * @see https://openid.net/specs/openid-connect-session-1_0.html#RPLogout\n   *\n   * @throws {Error} If provider config is not initialized\n   *\n   * @throws {Error} If `post_logout_redirect_uri` was provided without a\n   *   corresponding `id_token_hint`\n   *\n   * @param [options={}] {object}\n   *\n   * @param [options.id_token_hint] {string} RECOMMENDED.\n   *   Previously issued ID Token passed to the logout endpoint as\n   *   a hint about the End-User's current authenticated session with the\n   *   Client. This is used as an indication of the identity of the End-User\n   *   that the RP is requesting be logged out by the OP. The OP *need not* be\n   *   listed as an audience of the ID Token when it is used as an\n   *   `id_token_hint` value.\n   *\n   * @param [options.post_logout_redirect_uri] {string} OPTIONAL. URL to which\n   *   the RP is requesting that the End-User's User Agent be redirected after\n   *   a logout has been performed. The value MUST have been previously\n   *   registered with the OP, either using the `post_logout_redirect_uris`\n   *   Registration parameter or via another mechanism. If supplied, the OP\n   *   SHOULD honor this request following the logout.\n   *\n   *   Note: The requirement to validate the uri for previous registration means\n   *   that, in practice, the `id_token_hint` is REQUIRED if\n   *   `post_logout_redirect_uri` is used. Otherwise, the OP has no way to get\n   *   the `client_id` to load the saved client registration, to validate the\n   *   uri. The only way it can get it is by decoding the `id_token_hint`.\n   *\n   * @param [options.state] {string} OPTIONAL. Opaque value used by the RP to\n   *   maintain state between the logout request and the callback to the\n   *   endpoint specified by the `post_logout_redirect_uri` query parameter. If\n   *   included in the logout request, the OP passes this value back to the RP\n   *   using the `state` query parameter when redirecting the User Agent back to\n   *   the RP.\n   *\n   * TODO: In the future, consider adding `response_mode` param, for the OP to\n   *   determine how to return the `state` back the RP.\n   *   @see http://openid.net/specs/oauth-v2-multiple-response-types-1_0.html#ResponseModes\n   *\n   * TODO: Handle special cases for popular providers (Google, MSFT)\n   *\n   * @returns {string|null} Logout uri (or null if no end_session_endpoint was\n   *   provided in the IdP config)\n   */\n\n\n  logoutRequest(options = {}) {\n    const {\n      id_token_hint,\n      post_logout_redirect_uri,\n      state\n    } = options;\n    let configuration;\n    assert(this.provider, 'OpenID Configuration is not initialized');\n    configuration = this.provider.configuration;\n    assert(configuration, 'OpenID Configuration is not initialized');\n\n    if (!configuration.end_session_endpoint) {\n      console.log(`OpenId Configuration for ` + `${configuration.issuer} is missing end_session_endpoint`);\n      return null;\n    }\n\n    if (post_logout_redirect_uri && !id_token_hint) {\n      throw new Error('id_token_hint is required when using post_logout_redirect_uri');\n    }\n\n    const params = {};\n\n    if (id_token_hint) {\n      params.id_token_hint = id_token_hint;\n    }\n\n    if (post_logout_redirect_uri) {\n      params.post_logout_redirect_uri = post_logout_redirect_uri;\n    }\n\n    if (state) {\n      params.state = state;\n    }\n\n    const url = new URL(configuration.end_session_endpoint);\n    url.search = FormUrlEncoded.encode(params);\n    return url.href;\n  }\n  /**\n   * Logout\n   *\n   * @deprecated\n   *\n   * TODO: Add deprecation warnings, then remove. Client code should\n   *   use `logoutRequest()` instead\n   *\n   * @returns {Promise}\n   */\n\n\n  logout() {\n    let configuration;\n\n    try {\n      assert(this.provider, 'OpenID Configuration is not initialized.');\n      configuration = this.provider.configuration;\n      assert(configuration, 'OpenID Configuration is not initialized.');\n      assert(configuration.end_session_endpoint, 'OpenID Configuration is missing end_session_endpoint.');\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    if (!configuration.end_session_endpoint) {\n      this.clearSession();\n      return Promise.resolve(undefined);\n    }\n\n    let uri = configuration.end_session_endpoint;\n    let method = 'get';\n    return fetch(uri, {\n      method,\n      credentials: 'include'\n    }).then(onHttpError('Error logging out')).then(() => this.clearSession()); // TODO: Validate `frontchannel_logout_uri` if necessary\n\n    /**\n     * frontchannel_logout_uri - OPTIONAL. RP URL that will cause the RP to log\n     * itself out when rendered in an iframe by the OP.\n     *\n     * An `iss` (issuer) query parameter and a `sid`\n     * (session ID) query parameter MAY be included by the OP to enable the RP\n     * to validate the request and to determine which of the potentially\n     * multiple sessions is to be logged out. If a sid (session ID) query\n     * parameter is included, an iss (issuer) query parameter MUST also be\n     * included.\n     * @see https://openid.net/specs/openid-connect-frontchannel-1_0.html#RPLogout\n     */\n  }\n\n  clearSession() {\n    let session = this.store;\n\n    if (!session) {\n      return;\n    }\n\n    delete session[SESSION_PRIVATE_KEY];\n  }\n  /**\n   * @param uri {string} Target Resource Server URI\n   * @param idToken {IDToken} ID Token to be embedded in the PoP token\n   *\n   * @returns {Promise<PoPToken>}\n   */\n\n\n  popTokenFor(uri, idToken) {\n    return PoPToken.issueFor(uri, idToken);\n  }\n\n}\n\nconst SESSION_PRIVATE_KEY = 'oidc.session.privateKey';\nRelyingParty.SESSION_PRIVATE_KEY = SESSION_PRIVATE_KEY;\nmodule.exports = RelyingParty;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20)))\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar objectAssign = __webpack_require__(22);\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = __webpack_require__(23);\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20)))\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = __webpack_require__(25);\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = __webpack_require__(26);\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(24)))\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\nmodule.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\n(function() { module.exports = window[\"window\"]; }());\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  Formats: __webpack_require__(29),\n  Initializer: __webpack_require__(30),\n  JSONDocument: __webpack_require__(31),\n  JSONMapping: __webpack_require__(34),\n  JSONPatch: __webpack_require__(32),\n  JSONPointer: __webpack_require__(33),\n  JSONSchema: __webpack_require__(35),\n  Validator: __webpack_require__(36)\n};\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * JSON Schema Formats\n *\n * TODO\n * Is there a good way to express these over multiple lines with comments\n * for easier debugging and auditing?\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DATETIME_REGEXP = /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i;\nvar URI_REGEXP = /^(?:[a-z][a-z0-9+-.]*)?(?:\\:|\\/)\\/?[^\\s]*$/i;\nvar EMAIL_REGEXP = /^[a-z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i;\nvar IPV4_REGEXP = /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/;\nvar IPV6_REGEXP = /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i;\nvar HOSTNAME_REGEXP = /^[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?(\\.[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?)*$/i;\n\n/**\n * Formats\n */\n\nvar Formats = function () {\n  function Formats() {\n    _classCallCheck(this, Formats);\n  }\n\n  _createClass(Formats, [{\n    key: 'register',\n\n\n    /**\n     * Register\n     *\n     * @description\n     * Register a new mapping from named format to RegExp instance\n     *\n     * TODO\n     * We can do some extra validation of the RegExp to\n     * ensure it's the acceptable subset of RegExps allowed\n     * by JSON Schema.\n     *\n     * @param {string} name\n     * @param {RegExp} pattern\n     * @returns {RegExp}\n     */\n    value: function register(name, pattern) {\n      // verify name is a string\n      if (typeof name !== 'string') {\n        throw new Error('Format name must be a string');\n      }\n\n      // cast a string to RegExp\n      if (typeof pattern === 'string') {\n        pattern = new RegExp(pattern);\n      }\n\n      return this[name] = pattern;\n    }\n\n    /**\n     * Resolve\n     *\n     * @description\n     * Given a format name, return the corresponding registered validation. In the\n     * event a format is not registered, throw an error.\n     *\n     * @param {string} name\n     * @returns {RegExp}\n     */\n\n  }, {\n    key: 'resolve',\n    value: function resolve(name) {\n      var format = this[name];\n\n      if (!format) {\n        throw new Error('Unknown JSON Schema format.');\n      }\n\n      return format;\n    }\n\n    /**\n     * Test\n     *\n     * @description\n     * Test that a value conforms to a format.\n     *\n     * @param {string} name\n     * @param {string} value\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'test',\n    value: function test(name, value) {\n      var format = this.resolve(name);\n      return format.test(value);\n    }\n  }], [{\n    key: 'initialize',\n\n\n    /**\n     * Initialize\n     *\n     * @description\n     * Create a new Formats instance and register default formats\n     *\n     * @returns {Formats}\n     */\n    value: function initialize() {\n      var formats = new Formats();\n      formats.register('date-time', DATETIME_REGEXP);\n      formats.register('uri', URI_REGEXP);\n      formats.register('email', EMAIL_REGEXP);\n      formats.register('ipv4', IPV4_REGEXP);\n      formats.register('ipv6', IPV6_REGEXP);\n      formats.register('hostname', HOSTNAME_REGEXP);\n      return formats;\n    }\n  }]);\n\n  return Formats;\n}();\n\n/**\n * Export\n */\n\n\nmodule.exports = Formats.initialize();\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Initializer\n */\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Initializer = function () {\n\n  /**\n   * constructor\n   */\n  function Initializer(schema, options) {\n    _classCallCheck(this, Initializer);\n\n    Object.assign(this, options || {});\n    this.root = this.root || this;\n\n    this.root.depth = this.root.depth || 1;\n\n    if (this.level > this.root.depth) {\n      this.root.depth = this.level;\n    }\n\n    this.level = this.level || 0;\n    this.schema = schema;\n  }\n\n  /**\n   * compile (static)\n   */\n\n\n  _createClass(Initializer, [{\n    key: 'compile',\n\n\n    /**\n     * compile\n     */\n    value: function compile() {\n      var root = this.root,\n          depth = this.depth,\n          level = this.level;\n\n      var declarations = '';\n      var body = '';\n\n      // traverse the schema and generate code\n      body += this.default();\n      body += this.properties();\n      //body += this.additionalProperties()\n      body += this.items();\n      //body += this.additionalItems()\n\n\n      // value\n      body += this.member();\n      body += this.item();\n\n      // after traversing the schema\n      // generate the variable declarations\n      if (root === this) {\n        for (var i = 1; i <= this.root.depth; i++) {\n          declarations += this.declaration(i);\n        }\n\n        return '\\n        options = options || {}\\n\\n        if (options.filter === false) {\\n          Object.assign(target, JSON.parse(JSON.stringify(source)))\\n        }\\n\\n        ' + declarations + '\\n        ' + body + '\\n      ';\n      }\n\n      return body;\n    }\n\n    /**\n     * declaration\n     */\n\n  }, {\n    key: 'declaration',\n    value: function declaration(level) {\n      return '\\n      var target' + level + '\\n      var source' + level + '\\n      var count' + level + '\\n    ';\n    }\n\n    /**\n     * default\n     */\n\n  }, {\n    key: 'default',\n    value: function _default() {\n      var schema = this.schema,\n          level = this.level,\n          key = this.key,\n          index = this.index;\n      var value = schema.default; // rename default to value because it's a keyword and syntax highlighter breaks\n\n      var block = '';\n\n      if (schema.hasOwnProperty('default')) {\n\n        if (key) {\n          block += '\\n          target' + level + '[\\'' + key + '\\'] = ' + JSON.stringify(value) + '\\n        ';\n        }\n\n        if (index) {\n          block += '\\n          target' + level + '[' + index + '] = ' + JSON.stringify(value) + '\\n        ';\n        }\n\n        if (level > 1) {\n          block += '\\n          count' + level + '++\\n        ';\n        }\n\n        block = '\\n        if (options.defaults !== false) {\\n          ' + block + '\\n        }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * member\n     */\n\n  }, {\n    key: 'member',\n    value: function member() {\n      var schema = this.schema,\n          root = this.root,\n          level = this.level,\n          key = this.key;\n      var properties = schema.properties,\n          additionalProperties = schema.additionalProperties,\n          items = schema.items,\n          additionalItems = schema.additionalItems;\n\n      var block = '';\n\n      // `key` tells us to treat this subschema as an object member vs an array item\n      // and the absence of the other values here indicates we are dealing with a\n      // primitive value\n      if (key && !properties && !additionalProperties && !items && !additionalItems) {\n\n        // first generate the assignment statement\n        block += '\\n        target' + level + '[\\'' + key + '\\'] = source' + level + '[\\'' + key + '\\']\\n      ';\n\n        // for nested container objects, add the counter incrementing statement\n        if (level > 1) {\n          block += '\\n          count' + level + '++\\n        ';\n        }\n\n        // wrap the foregoing in a check for presence on the source\n        block = '\\n        if (source' + level + '.hasOwnProperty(\\'' + key + '\\')) {\\n          ' + block + '\\n        }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * item\n     */\n\n  }, {\n    key: 'item',\n    value: function item() {\n      var schema = this.schema,\n          root = this.root,\n          level = this.level,\n          index = this.index;\n      var properties = schema.properties,\n          additionalProperties = schema.additionalProperties,\n          items = schema.items,\n          additionalItems = schema.additionalItems;\n\n      var block = '';\n\n      if (index && !properties && !additionalProperties && !items && !additionalItems) {\n\n        block += '\\n        target' + level + '[' + index + '] = source' + level + '[' + index + ']\\n      ';\n\n        if (level > 1) {\n          block += '\\n          count' + level + '++\\n        ';\n        }\n\n        block = '\\n        if (' + index + ' < len) {\\n          ' + block + '\\n        }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * properties\n     */\n\n  }, {\n    key: 'properties',\n    value: function properties() {\n      var schema = this.schema,\n          root = this.root,\n          level = this.level,\n          key = this.key,\n          index = this.index;\n      var properties = schema.properties;\n\n      var block = '';\n\n      if (properties) {\n        Object.keys(properties).forEach(function (key) {\n          var subschema = properties[key];\n          var initializer = new Initializer(subschema, { key: key, root: root, level: level + 1 });\n\n          block += initializer.compile();\n        });\n\n        // root-level properties boilerplate\n        if (root === this) {\n          block = '\\n          if (typeof source === \\'object\\' && source !== null && !Array.isArray(source)) {\\n            if (typeof target !== \\'object\\') {\\n              throw new Error(\\'?\\')\\n            }\\n\\n            source1 = source\\n            target1 = target\\n            count1 = 0\\n\\n            ' + block + '\\n          }\\n        ';\n\n          // nested properties boilerplate\n        } else {\n\n          if (index) {\n            block = '\\n            if (' + index + ' < source' + level + '.length || typeof source' + level + '[' + index + '] === \\'object\\') {\\n\\n              source' + (level + 1) + ' = source' + level + '[' + index + '] || {}\\n              count' + (level + 1) + ' = 0\\n\\n              if (' + index + ' < target' + level + '.length || typeof target' + level + '[' + index + '] !== \\'object\\') {\\n                target' + (level + 1) + ' = {}\\n                if (' + index + ' < source' + level + '.length) {\\n                  count' + (level + 1) + '++\\n                }\\n              } else {\\n                target' + (level + 1) + ' = target' + level + '[' + index + ']\\n              }\\n\\n              ' + block + '\\n\\n              if (count' + (level + 1) + ' > 0) {\\n                target' + level + '[' + index + '] = target' + (level + 1) + '\\n                count' + level + '++\\n              }\\n\\n            } else {\\n              target' + level + '[' + index + '] = source' + level + '[' + index + ']\\n              count' + level + '++\\n            }\\n          ';\n          }\n\n          if (key) {\n            block = '\\n            if ((typeof source' + level + '[\\'' + key + '\\'] === \\'object\\'\\n                  && source' + level + '[\\'' + key + '\\'] !== null\\n                  && !Array.isArray(source' + level + '[\\'' + key + '\\']))\\n                || !source' + level + '.hasOwnProperty(\\'' + key + '\\')) {\\n\\n              source' + (level + 1) + ' = source' + level + '[\\'' + key + '\\'] || {}\\n              count' + (level + 1) + ' = 0\\n\\n              if (!target' + level + '.hasOwnProperty(\\'' + key + '\\')\\n                  || typeof target' + level + '[\\'' + key + '\\'] !== \\'object\\'\\n                  || target' + level + '[\\'' + key + '\\'] === null\\n                  || Array.isArray(target' + level + '[\\'' + key + '\\'])) {\\n                target' + (level + 1) + ' = {}\\n                if (source' + level + '.hasOwnProperty(\\'' + key + '\\')) {\\n                  count' + (level + 1) + '++\\n                }\\n              } else {\\n                target' + (level + 1) + ' = target' + level + '[\\'' + key + '\\']\\n                count' + (level + 1) + '++\\n              }\\n\\n              ' + block + '\\n\\n              if (count' + (level + 1) + ' > 0) {\\n                target' + level + '[\\'' + key + '\\'] = target' + (level + 1) + '\\n                count' + level + '++\\n              }\\n\\n            } else {\\n              target' + level + '[\\'' + key + '\\'] = source' + level + '[\\'' + key + '\\']\\n              count' + level + '++\\n            }\\n          ';\n          }\n        }\n      }\n\n      return block;\n    }\n\n    /**\n     *\n     */\n\n  }, {\n    key: 'additionalProperties',\n    value: function additionalProperties() {}\n\n    /**\n     * items\n     */\n\n  }, {\n    key: 'items',\n    value: function items() {\n      var schema = this.schema,\n          root = this.root,\n          level = this.level,\n          key = this.key,\n          index = this.index;\n      var items = schema.items;\n\n      var block = '';\n\n      if (items) {\n\n        if (Array.isArray(items)) {\n          // TODO\n          //\n          //\n          //\n          //\n          //\n          // ...\n\n        } else if ((typeof items === 'undefined' ? 'undefined' : _typeof(items)) === 'object' && items !== null) {\n          var _index = 'i' + (level + 1);\n          var initializer = new Initializer(items, { index: _index, root: root, level: level + 1 });\n\n          block += '\\n          var sLen = source' + (level + 1) + '.length || 0\\n          var tLen = target' + (level + 1) + '.length || 0\\n          var len = 0\\n\\n          if (sLen > len) { len = sLen }\\n          // THIS IS WRONG, CAUSED SIMPLE ARRAY INIT TO FAIL (OVERWRITE\\n          // EXISTING TARGET VALUES WITH UNDEFINED WHEN SOURCE IS SHORTER THAN\\n          // TARGET). LEAVING HERE UNTIL WE FINISH TESTING AND SEE WHY IT MIGHT\\n          // HAVE BEEN HERE IN THE FIRST PLACE.\\n          //\\n          // if (tLen > len) { len = tLen }\\n\\n          for (var ' + _index + ' = 0; ' + _index + ' < len; ' + _index + '++) {\\n            ' + initializer.compile() + '\\n          }\\n        ';\n        }\n\n        // root-level properties boilerplate\n        if (root === this) {\n          block = '\\n          if (Array.isArray(source)) {\\n            if (!Array.isArray(target)) {\\n              throw new Error(\\'?\\')\\n            }\\n\\n            source1 = source\\n            target1 = target\\n\\n            ' + block + '\\n          }\\n        ';\n\n          // nested properties boilerplate\n        } else {\n          block = '\\n          if (Array.isArray(source' + level + '[\\'' + key + '\\']) || !source' + level + '.hasOwnProperty(\\'' + key + '\\')) {\\n\\n            source' + (level + 1) + ' = source' + level + '[\\'' + key + '\\'] || []\\n            count' + (level + 1) + ' = 0\\n\\n            if (!target' + level + '.hasOwnProperty(\\'' + key + '\\') || !Array.isArray(target' + level + '[\\'' + key + '\\'])) {\\n              target' + (level + 1) + ' = []\\n                if (source' + level + '.hasOwnProperty(\\'' + key + '\\')) {\\n                  count' + (level + 1) + '++\\n                }\\n\\n            } else {\\n              target' + (level + 1) + ' = target' + level + '[\\'' + key + '\\']\\n              count' + (level + 1) + '++\\n            }\\n\\n            ' + block + '\\n\\n            if (count' + (level + 1) + ' > 0) {\\n              target' + level + '[\\'' + key + '\\'] = target' + (level + 1) + '\\n              count' + level + '++\\n            }\\n\\n          } else {\\n            target' + level + '[\\'' + key + '\\'] = source' + level + '[\\'' + key + '\\']\\n            count' + level + '++\\n          }\\n        ';\n        }\n      }\n\n      return block;\n    }\n\n    /**\n     *\n     */\n\n  }, {\n    key: 'additionalItems',\n    value: function additionalItems() {}\n  }], [{\n    key: 'compile',\n    value: function compile(schema) {\n      var initializer = new Initializer(schema);\n      var block = initializer.compile();\n\n      //console.log(beautify(block))\n      try {\n        return new Function('target', 'source', 'options', block);\n      } catch (e) {\n        console.log(e, e.stack);\n      }\n    }\n  }]);\n\n  return Initializer;\n}();\n\nmodule.exports = Initializer;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Module dependencies\n * @ignore\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar JSONPatch = __webpack_require__(32);\n\n/**\n * JSONDocument\n *\n * @class\n * JSONDocument is a high level interface that binds together all other features of\n * this package and provides the principle method of data modeling.\n */\n\nvar JSONDocument = function () {\n  _createClass(JSONDocument, null, [{\n    key: 'schema',\n\n\n    /**\n     * Schema\n     */\n    get: function get() {\n      throw new Error('Schema must be defined by classes extending JSONDocument');\n    }\n\n    /**\n     * Constructor\n     *\n     * @param {Object} data\n     * @param {Object} options\n     */\n\n  }]);\n\n  function JSONDocument() {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, JSONDocument);\n\n    this.initialize(data, options);\n  }\n\n  /**\n   * Initialize\n   *\n   * @param {Object} data\n   * @param {Object} options\n   */\n\n\n  _createClass(JSONDocument, [{\n    key: 'initialize',\n    value: function initialize() {\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var schema = this.constructor.schema;\n\n      schema.initialize(this, data, options);\n    }\n\n    /**\n     * Validate\n     *\n     * @param {JSONSchema} alternate - OPTIONAL alternate schema\n     * @returns {Object}\n     */\n\n  }, {\n    key: 'validate',\n    value: function validate(alternate) {\n      var schema = this.constructor.schema;\n\n      return (alternate || schema).validate(this);\n    }\n\n    /**\n     * Patch\n     *\n     * @param {Array} ops\n     */\n\n  }, {\n    key: 'patch',\n    value: function patch(ops) {\n      var patch = new JSONPatch(ops);\n      patch.apply(this);\n    }\n\n    /**\n     * Select\n     */\n\n  }, {\n    key: 'select',\n    value: function select() {}\n\n    /**\n     * Project\n     *\n     * @description\n     * Given a mapping, return an object projected from the current instance.\n     *\n     * @example\n     * let schema = new JSONSchema({\n     *   properties: {\n     *     foo: { type: 'Array' }\n     *   }\n     * })\n     *\n     * let mapping = new JSONMapping({\n     *   '/foo/0': '/bar/baz'\n     * })\n     *\n     * class FooTracker extends JSONDocument {\n     *   static get schema () { return schema }\n     * }\n     *\n     * let instance = new FooTracker({ foo: ['qux'] })\n     * instance.project(mapping)\n     * // => { bar: { baz: 'qux' } }\n     *\n     * @param {JSONMapping} mapping\n     * @return {Object}\n     */\n\n  }, {\n    key: 'project',\n    value: function project(mapping) {\n      return mapping.project(this);\n    }\n\n    /**\n     * Serialize\n     *\n     * @param {Object} object\n     * @returns {string}\n     */\n\n  }], [{\n    key: 'serialize',\n    value: function serialize(object) {\n      return JSON.stringify(object);\n    }\n\n    /**\n     * Deserialize\n     *\n     * @param {string} data\n     * @return {*}\n     */\n\n  }, {\n    key: 'deserialize',\n    value: function deserialize(data) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        throw new Error('Failed to parse JSON');\n      }\n    }\n  }]);\n\n  return JSONDocument;\n}();\n\n/**\n * Export\n */\n\n\nmodule.exports = JSONDocument;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Module dependencies\n * @ignore\n */\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar JSONPointer = __webpack_require__(33);\n\n/**\n * Modes\n */\nvar THROW = 0;\nvar RECOVER = 1;\nvar SILENT = 2;\n\n/**\n * Operations list\n */\nvar OPERATIONS = ['add', 'remove', 'replace', 'move', 'copy', 'test'];\n\n/**\n * Patch\n *\n * @class\n * Implements RFC 6902: JavaScript Object Notation (JSON) Patch\n * https://tools.ietf.org/html/rfc6902\n */\n\nvar JSONPatch = function () {\n\n  /**\n   * Constructor\n   *\n   * @param {Array} ops\n   */\n  function JSONPatch(ops) {\n    _classCallCheck(this, JSONPatch);\n\n    this.ops = ops || [];\n  }\n\n  /**\n   * Apply\n   *\n   * @todo handle errors/roll back\n   * @todo protect properties that are private in the schema\n   * @todo map JSON Pointers real property names\n   *\n   * @param {Object} target\n   */\n\n\n  _createClass(JSONPatch, [{\n    key: 'apply',\n    value: function apply(target) {\n      var _this = this;\n\n      this.ops.forEach(function (operation) {\n        var op = operation.op;\n\n        if (!op) {\n          throw new Error('Missing \"op\" in JSON Patch operation');\n        }\n\n        if (OPERATIONS.indexOf(op) === -1) {\n          throw new Error('Invalid \"op\" in JSON Patch operation');\n        }\n\n        if (!operation.path) {\n          throw new Error('Missing \"path\" in JSON Patch operation');\n        }\n\n        _this[op](operation, target);\n      });\n    }\n\n    /**\n     * Add\n     *\n     * @param {Object} op\n     * @param {Object} target\n     */\n\n  }, {\n    key: 'add',\n    value: function add(op, target) {\n      if (op.value === undefined) {\n        throw new Error('Missing \"value\" in JSON Patch add operation');\n      }\n\n      var pointer = new JSONPointer(op.path, SILENT);\n      pointer.add(target, op.value);\n    }\n\n    /**\n     * Remove\n     *\n     * @param {Object} op\n     * @param {Object} target\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(op, target) {\n      var pointer = new JSONPointer(op.path);\n      pointer.remove(target);\n    }\n\n    /**\n     * Replace\n     *\n     * @param {Object} op\n     * @param {Object} target\n     */\n\n  }, {\n    key: 'replace',\n    value: function replace(op, target) {\n      if (op.value === undefined) {\n        throw new Error('Missing \"value\" in JSON Patch replace operation');\n      }\n\n      var pointer = new JSONPointer(op.path);\n      pointer.replace(target, op.value);\n    }\n\n    /**\n     * Move\n     *\n     * @param {Object} op\n     * @param {Object} target\n     */\n\n  }, {\n    key: 'move',\n    value: function move(op, target) {\n      if (op.from === undefined) {\n        throw new Error('Missing \"from\" in JSON Patch move operation');\n      }\n\n      if (op.path.match(new RegExp('^' + op.from))) {\n        throw new Error('Invalid \"from\" in JSON Patch move operation');\n      }\n\n      var pointer = new JSONPointer(op.path);\n      var from = new JSONPointer(op.from);\n      var value = from.get(target);\n\n      from.remove(target);\n      pointer.add(target, value);\n    }\n\n    /**\n     * Copy\n     *\n     * @param {Object} op\n     * @param {Object} target\n     */\n\n  }, {\n    key: 'copy',\n    value: function copy(op, target) {\n      if (op.from === undefined) {\n        throw new Error('Missing \"from\" in JSON Patch copy operation');\n      }\n\n      var pointer = new JSONPointer(op.path);\n      var from = new JSONPointer(op.from);\n      var value = from.get(target);\n\n      pointer.add(target, value);\n    }\n\n    /**\n     * Test\n     *\n     * @param {Object} op\n     * @param {Object} target\n     */\n\n  }, {\n    key: 'test',\n    value: function test(op, target) {\n      if (op.value === undefined) {\n        throw new Error('Missing \"value\" in JSON Patch test operation');\n      }\n\n      var pointer = new JSONPointer(op.path);\n      var value = pointer.get(target);\n\n      switch (_typeof(op.value)) {\n        //case 'string':\n        //case 'number':\n        //case 'boolean':\n        //  if (value !== op.value) {\n        //    throw new Error('Mismatching JSON Patch test value')\n        //  }\n        default:\n          if (value !== op.value) {\n            throw new Error('Mismatching JSON Patch test value');\n          }\n      }\n    }\n  }]);\n\n  return JSONPatch;\n}();\n\n/**\n * Exports\n */\n\n\nmodule.exports = JSONPatch;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Mode enumeration\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar THROW = 0;\nvar RECOVER = 1;\nvar SILENT = 2;\n\n/**\n * JSONPointer\n *\n * @class\n * Implements RFC 6901: JavaScript Object Notation (JSON) Pointer\n * https://tools.ietf.org/html/rfc6901\n */\n\nvar JSONPointer = function () {\n\n  /**\n   * Constructor\n   */\n  function JSONPointer(expr, mode) {\n    _classCallCheck(this, JSONPointer);\n\n    this.expr = expr;\n    this.mode = mode || THROW;\n    this.tokens = expr && expr.charAt(0) === '#' ? this.parseURIFragmentIdentifier(expr) : this.parseJSONString(expr);\n  }\n\n  /**\n   * Escape\n   */\n\n\n  _createClass(JSONPointer, [{\n    key: 'escape',\n    value: function escape(expr) {\n      return expr.replace(/~/g, '~0').replace(/\\//g, '~1');\n    }\n\n    /**\n     * Unescape\n     */\n\n  }, {\n    key: 'unescape',\n    value: function unescape(expr) {\n      return expr.replace(/~1/g, '/').replace(/~0/g, '~');\n    }\n\n    /**\n     * Parse\n     */\n\n  }, {\n    key: 'parseJSONString',\n\n\n    /**\n     * Parse JSON String\n     *\n     * @description Parse an expression into a list of tokens\n     * @param {string} expr\n     * @returns {Array}\n     */\n    value: function parseJSONString(expr) {\n      if (typeof expr !== 'string') {\n        throw new Error('JSON Pointer must be a string');\n      }\n\n      if (expr === '') {\n        return [];\n      }\n\n      if (expr.charAt(0) !== '/') {\n        throw new Error('Invalid JSON Pointer');\n      }\n\n      if (expr === '/') {\n        return [''];\n      }\n\n      return expr.substr(1).split('/').map(this.unescape);\n    }\n\n    /**\n     * To JSON String\n     *\n     * @description Render a JSON string representation of a pointer\n     * @returns {string}\n     */\n\n  }, {\n    key: 'toJSONString',\n    value: function toJSONString() {\n      return '/' + this.tokens.map(this.escape).join('/');\n    }\n\n    /**\n     * Parse URI Fragment Identifer\n     */\n\n  }, {\n    key: 'parseURIFragmentIdentifier',\n    value: function parseURIFragmentIdentifier(expr) {\n      if (typeof expr !== 'string') {\n        throw new Error('JSON Pointer must be a string');\n      }\n\n      if (expr.charAt(0) !== '#') {\n        throw new Error('Invalid JSON Pointer URI Fragment Identifier');\n      }\n\n      return this.parseJSONString(decodeURIComponent(expr.substr(1)));\n    }\n\n    /**\n     * To URI Fragment Identifier\n     *\n     * @description Render a URI Fragment Identifier representation of a pointer\n     * @returns {string}\n     */\n\n  }, {\n    key: 'toURIFragmentIdentifier',\n    value: function toURIFragmentIdentifier() {\n      var _this = this;\n\n      var value = this.tokens.map(function (token) {\n        return encodeURIComponent(_this.escape(token));\n      }).join('/');\n\n      return '#/' + value;\n    }\n\n    /**\n     * Get\n     *\n     * @description Get a value from the source object referenced by the pointer\n     * @param {Object} source\n     * @returns {*}\n     */\n\n  }, {\n    key: 'get',\n    value: function get(source) {\n      var current = source;\n      var tokens = this.tokens;\n\n      for (var i = 0; i < tokens.length; i++) {\n        if (!current || current[tokens[i]] === undefined) {\n          if (this.mode !== THROW) {\n            return undefined;\n          } else {\n            throw new Error('Invalid JSON Pointer reference');\n          }\n        }\n\n        current = current[tokens[i]];\n      }\n\n      return current;\n    }\n\n    /**\n     * Add\n     *\n     * @description Set a value on a target object referenced by the pointer. Put\n     * will insert an array element. To change an existing array elemnent, use\n     * `pointer.set()`\n     * @param {Object} target\n     * @param {*} value\n     */\n\n  }, {\n    key: 'add',\n    value: function add(target, value) {\n      var tokens = this.tokens;\n      var current = target;\n\n      // iterate through the tokens\n      for (var i = 0; i < tokens.length; i++) {\n        var token = tokens[i];\n\n        // set the property on the target location\n        if (i === tokens.length - 1) {\n          if (token === '-') {\n            current.push(value);\n          } else if (Array.isArray(current)) {\n            current.splice(token, 0, value);\n          } else if (value !== undefined) {\n            current[token] = value;\n          }\n\n          // handle missing target location based on \"mode\"\n        } else if (!current[token]) {\n          switch (this.mode) {\n            case THROW:\n              throw new Error('Invalid JSON Pointer reference');\n\n            case RECOVER:\n              current = current[token] = parseInt(token) ? [] : {};\n              break;\n\n            case SILENT:\n              return;\n\n            default:\n              throw new Error('Invalid pointer mode');\n          }\n\n          // reference the next object in the path\n        } else {\n          current = current[token];\n        }\n      }\n    }\n\n    /**\n     * Replace\n     *\n     * @description Set a value on a target object referenced by the pointer. Set will\n     * overwrite an existing array element at the target location.\n     * @param {Object} target\n     * @param {*} value\n     */\n\n  }, {\n    key: 'replace',\n    value: function replace(target, value) {\n      var tokens = this.tokens;\n      var current = target;\n\n      for (var i = 0; i < tokens.length; i++) {\n        var token = tokens[i];\n\n        if (i === tokens.length - 1) {\n          current[token] = value;\n        } else if (!current[token]) {\n          current = current[token] = parseInt(token) ? [] : {};\n        } else {\n          current = current[token];\n        }\n      }\n    }\n\n    /**\n     * Del\n     *\n     * - if this is an array it should splice the value out\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(target) {\n      var tokens = this.tokens;\n      var current = target;\n\n      for (var i = 0; i < tokens.length; i++) {\n        var token = tokens[i];\n\n        if (current === undefined || current[token] === undefined) {\n          return undefined;\n        } else if (Array.isArray(current)) {\n          current.splice(token, 1);\n          return undefined;\n        } else if (i === tokens.length - 1) {\n          delete current[token];\n        }\n\n        current = current[token];\n      }\n\n      // delete from the target\n    }\n  }], [{\n    key: 'parse',\n    value: function parse(expr) {\n      return new JSONPointer(expr);\n    }\n  }]);\n\n  return JSONPointer;\n}();\n\n/**\n * Exports\n */\n\n\nmodule.exports = JSONPointer;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Module dependencies\n * @ignore\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar JSONPointer = __webpack_require__(33);\n\n/**\n * JSONPointer mode\n */\nvar RECOVER = 1;\n\n/**\n * JSONMapping\n *\n * @class\n * Defines a means to declaratively translate between object\n * representations using JSON Pointer syntax.\n */\n\nvar JSONMapping = function () {\n\n  /**\n   * Constructor\n   *\n   * @description Translate pointers from JSON Strings into Pointer objects\n   * @param {Object} mapping\n   */\n  function JSONMapping(mapping) {\n    var _this = this;\n\n    _classCallCheck(this, JSONMapping);\n\n    Object.defineProperty(this, 'mapping', {\n      enumerable: false,\n      value: new Map()\n    });\n\n    Object.keys(mapping).forEach(function (key) {\n      var value = mapping[key];\n      _this.mapping.set(new JSONPointer(key, RECOVER), new JSONPointer(value, RECOVER));\n    });\n  }\n\n  /**\n   * Map\n   *\n   * @description Assign values from source to target by reading the mapping\n   * from right to left.\n   * @param {Object} target\n   * @param {Object} source\n   */\n\n\n  _createClass(JSONMapping, [{\n    key: 'map',\n    value: function map(target, source) {\n      this.mapping.forEach(function (right, left) {\n        left.add(target, right.get(source));\n      });\n    }\n\n    /**\n     * Project\n     *\n     * @description Assign values from source to target by reading the mapping\n     * from left to right.\n     * @param {Object} source\n     * @param {Object} target\n     */\n\n  }, {\n    key: 'project',\n    value: function project(source, target) {\n      this.mapping.forEach(function (right, left) {\n        right.add(target, left.get(source));\n      });\n    }\n  }]);\n\n  return JSONMapping;\n}();\n\n/**\n * Exports\n */\n\n\nmodule.exports = JSONMapping;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Module dependencies\n * @ignore\n */\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Initializer = __webpack_require__(30);\nvar Validator = __webpack_require__(36);\n\n/**\n * JSONSchema\n *\n * @class\n * Compiles JSON Schema documents to an object with object initialization\n * and validation methods.\n */\n\nvar JSONSchema = function () {\n\n  /**\n   * Constructor\n   *\n   * @param {Object} schema\n   */\n  function JSONSchema(schema) {\n    _classCallCheck(this, JSONSchema);\n\n    // TODO: optionally parse JSON string?\n    Object.assign(this, schema);\n\n    // add schema-derived initialize and validate methods\n    Object.defineProperties(this, {\n      initialize: {\n        enumerable: false,\n        writeable: false,\n        value: Initializer.compile(schema)\n      },\n      validate: {\n        enumerable: false,\n        writeable: false,\n        value: Validator.compile(schema)\n      }\n    });\n  }\n\n  /**\n   * Extend\n   *\n   * @description\n   * ...\n   * Dear future,\n   *\n   * This function was meticulously plagiarized from some curious amalgam of\n   * stackoverflow posts whilst dozing off at my keyboard, too deprived of REM-\n   * sleep to recurse unassisted. If it sucks, you have only yourself to blame.\n   *\n   * Goodnight.\n   *\n   * @param {Object} schema\n   * @returns {JSONSchema}\n   */\n\n\n  _createClass(JSONSchema, [{\n    key: 'extend',\n    value: function extend(schema) {\n      function isObject(data) {\n        return data && (typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object' && data !== null && !Array.isArray(data);\n      }\n\n      function extender(target, source) {\n        var result = Object.assign({}, target);\n        if (isObject(target) && isObject(source)) {\n          Object.keys(source).forEach(function (key) {\n            if (isObject(source[key])) {\n              if (!(key in target)) {\n                Object.assign(result, _defineProperty({}, key, source[key]));\n              } else {\n                result[key] = extender(target[key], source[key]);\n              }\n            } else {\n              Object.assign(result, _defineProperty({}, key, source[key]));\n            }\n          });\n        }\n        return result;\n      }\n\n      var descriptor = extender(this, schema);\n      return new JSONSchema(descriptor);\n    }\n  }]);\n\n  return JSONSchema;\n}();\n\n/**\n * Export\n */\n\n\nmodule.exports = JSONSchema;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Module dependencies\n * @ignore\n */\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar formats = __webpack_require__(29);\n\n/**\n * For variable iterator counter\n *\n * @type {number}\n */\nvar indexCount = 0;\n\n/**\n * Validator\n *\n * Compile an object describing a JSON Schema into a validation function.\n */\n\nvar Validator = function () {\n  _createClass(Validator, null, [{\n    key: 'compile',\n\n\n    /**\n     * Compile (static)\n     *\n     * @description\n     * Compile an object describing a JSON Schema into a validation function.\n     *\n     * @param {Object} schema\n     * @returns {Function}\n     */\n    value: function compile(schema) {\n      var validator = new Validator(schema);\n\n      var body = '\\n      // \"cursor\"\\n      let value = data\\n      let container\\n      let stack = []\\n      let top = -1\\n\\n      // error state\\n      let valid = true\\n      let errors = []\\n\\n      // complex schema state\\n      let initialValidity\\n      let anyValid\\n      let notValid\\n      let countOfValid\\n      let initialErrorCount\\n      let accumulatedErrorCount\\n\\n      // validation code\\n      ' + validator.compile() + '\\n\\n      // validation result\\n      return {\\n        valid,\\n        errors\\n      }\\n    ';\n\n      return new Function('data', body);\n    }\n\n    /**\n     * Return current iterator index counter and increase value\n     *\n     * @returns {number}\n     */\n\n  }, {\n    key: 'counter',\n    get: function get() {\n      return indexCount++;\n    }\n\n    /**\n     * Constructor\n     *\n     * @param {Object} schema - object representation of a schema\n     * @param {string} options - compilation options\n     */\n\n  }]);\n\n  function Validator(schema) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Validator);\n\n    // assign schema to this\n    this.schema = schema;\n\n    // assign all options to this\n    Object.assign(this, options);\n\n    // ensure address is defined\n    if (!this.address) {\n      this.address = '';\n    }\n\n    // ensure require is boolean\n    if (this.require !== true) {\n      this.require = false;\n    }\n  }\n\n  /**\n   * Compile\n   *\n   * @description\n   * The instance compile method is \"dumb\". It only sequences invocation of\n   * more specific compilation methods. It generates code to\n   *\n   *  - read a value from input\n   *  - validate type(s) of input\n   *  - validate constraints described by various schema keywords\n   *\n   * Conditional logic related to code generation is pushed downsteam to\n   * type-specific methods.\n   */\n\n\n  _createClass(Validator, [{\n    key: 'compile',\n    value: function compile() {\n      var block = '';\n\n      if (this.require) {\n        block += this.required();\n      }\n\n      // type validation\n      block += this.type();\n\n      // type specific validation generators\n      // null and boolean are covered by this.type()\n      // integer should be covered by number and this.type()\n      block += this.array();\n      block += this.number();\n      block += this.object();\n      block += this.string();\n\n      // non-type-specific validation generators\n      block += this.enum();\n      block += this.anyOf();\n      block += this.allOf();\n      block += this.not();\n      block += this.oneOf();\n\n      return block;\n    }\n\n    /**\n     * push\n     */\n\n  }, {\n    key: 'push',\n    value: function push() {\n      return '\\n      stack.push(value)\\n      container = value\\n      top++\\n    ';\n    }\n\n    /**\n     * pop\n     */\n\n  }, {\n    key: 'pop',\n    value: function pop() {\n      return '\\n      if (stack.length > 1) {\\n        top--\\n        stack.pop()\\n      }\\n\\n      value = container = stack[top]\\n    ';\n    }\n\n    /**\n     * type\n     *\n     * @description\n     * > An instance matches successfully if its primitive type is one of the\n     * > types defined by keyword. Recall: \"number\" includes \"integer\".\n     * > JSON Schema Validation Section 5.5.2\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'type',\n    value: function type() {\n      var type = this.schema.type,\n          address = this.address;\n\n      var block = '';\n\n      if (type) {\n        var types = Array.isArray(type) ? type : [type];\n        var conditions = types.map(function (type) {\n          // TODO: can we make a mapping object for this to clean it up?\n          if (type === 'array') return '!Array.isArray(value)';\n          if (type === 'boolean') return 'typeof value !== \\'boolean\\'';\n          if (type === 'integer') return '!Number.isInteger(value)';\n          if (type === 'null') return 'value !== null';\n          if (type === 'number') return 'typeof value !== \\'number\\'';\n          if (type === 'object') return '(typeof value !== \\'object\\' || Array.isArray(value) || value === null)';\n          if (type === 'string') return 'typeof value !== \\'string\\'';\n        }).join(' && ');\n\n        block += '\\n      // ' + address + ' type checking\\n      if (value !== undefined && ' + conditions + ') {\\n        valid = false\\n        errors.push({\\n          keyword: \\'type\\',\\n          message: \\'invalid type\\'\\n        })\\n      }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * Type-specific validations\n     *\n     * Type checking is optional in JSON Schema, and a schema can allow\n     * multiple types. Generated code needs to apply type-specific validations\n     * only to appropriate values, and ignore everything else. Type validation\n     * itself is handled separately from other validation keywords.\n     *\n     * The methods `array`, `number`, `object`, `string` generate type-specific\n     * validation code blocks, wrapped in a conditional such that they will\n     * only be applied to values of that type.\n     *\n     * For example, the `number` method, given the schema\n     *\n     *     { minimum: 3 }\n     *\n     * will generate\n     *\n     *     if (typeof value === 'number') {\n     *       if (value < 3) {\n     *         valid = false\n     *         errors.push({ message: '...' })\n     *       }\n     *     }\n     *\n     * Integer values are also numbers, and are validated the same as numbers\n     * other than the type validation itself. Therefore no `integer` method is\n     * needed.\n     */\n\n    /**\n     * array\n     *\n     * @description\n     * Invoke methods for array-specific keywords and wrap resulting code in\n     * type-checking conditional so that any resulting validations are only\n     * applied to array values.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'array',\n    value: function array() {\n      var keywords = ['additionalItems', 'items', 'minItems', 'maxItems', 'uniqueItems'];\n      var validations = this.validations(keywords);\n      var block = '';\n\n      if (validations.length > 0) {\n        block += '\\n      /**\\n       * Array validations\\n       */\\n      if (Array.isArray(value)) {\\n      ' + validations + '\\n      }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * number\n     *\n     * @description\n     * Invoke methods for number-specific keywords and wrap resulting code in\n     * type-checking conditional so that any resulting validations are only\n     * applied to number values.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'number',\n    value: function number() {\n      var keywords = ['minimum', 'maximum', 'multipleOf'];\n      var validations = this.validations(keywords);\n      var block = '';\n\n      if (validations.length > 0) {\n        block += '\\n      /**\\n       * Number validations\\n       */\\n      if (typeof value === \\'number\\') {\\n      ' + validations + '\\n      }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * object\n     *\n     * @description\n     * Invoke methods for object-specific keywords and wrap resulting code in\n     * type-checking conditional so that any resulting validations are only\n     * applied to object values.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'object',\n    value: function object() {\n      var keywords = ['maxProperties', 'minProperties', 'additionalProperties', 'properties', 'patternProperties', 'dependencies', 'schemaDependencies', 'propertyDependencies'];\n      var validations = this.validations(keywords);\n      var block = '';\n\n      if (validations.length > 0) {\n        block += '\\n      /**\\n       * Object validations\\n       */\\n      if (typeof value === \\'object\\' && value !== null && !Array.isArray(value)) {\\n      ' + validations + '\\n      }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * string\n     *\n     * @description\n     * Invoke methods for string-specific keywords and wrap resulting code in\n     * type-checking conditional so that any resulting validations are only\n     * applied to string values.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'string',\n    value: function string() {\n      var keywords = ['maxLength', 'minLength', 'pattern', 'format'];\n      var validations = this.validations(keywords);\n      var block = '';\n\n      if (validations.length > 0) {\n        block += '\\n      /**\\n       * String validations\\n       */\\n      if (typeof value === \\'string\\') {\\n      ' + validations + '\\n      }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * validations\n     *\n     * @description\n     * Iterate over an array of keywords and invoke code generator methods\n     * for each. Concatenate the results together and return. Used by \"type\"\n     * methods such as this.array() and this.string()\n     *\n     * @param {Array} keywords\n     * @returns {string}\n     */\n\n  }, {\n    key: 'validations',\n    value: function validations(keywords) {\n      var _this = this;\n\n      var schema = this.schema;\n\n      var block = '';\n\n      var constraints = Object.keys(schema).filter(function (key) {\n        return keywords.indexOf(key) !== -1;\n      });\n\n      constraints.forEach(function (keyword) {\n        block += _this[keyword]();\n      });\n\n      return block;\n    }\n\n    /**\n     * enum\n     *\n     * @description\n     * > An instance validates successfully against this keyword if its value\n     * > is equal to one of the elements in this keyword's array value.\n     * > JSON Schema Validation Section 5.5.1\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'enum',\n    value: function _enum() {\n      var enumerated = this.schema.enum,\n          address = this.address;\n\n      var conditions = ['value !== undefined'];\n      var block = '';\n\n      if (enumerated) {\n        enumerated.forEach(function (value) {\n          switch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n            case 'boolean':\n              conditions.push('value !== ' + value);\n              break;\n\n            case 'number':\n              conditions.push('value !== ' + value);\n              break;\n\n            case 'string':\n              conditions.push('value !== \"' + value + '\"');\n              break;\n\n            case 'object':\n              if (value === null) {\n                conditions.push('value !== null');\n              } else {\n                conditions.push('\\'' + JSON.stringify(value) + '\\' !== JSON.stringify(value)');\n              }\n              break;\n\n            default:\n              throw new Error('Things are not well in the land of enum');\n\n          }\n        });\n\n        block += '\\n      /**\\n       * Validate \"' + address + '\" enum\\n       */\\n      if (' + conditions.join(' && ') + ') {\\n        valid = false\\n        errors.push({\\n          keyword: \\'enum\\',\\n          message: JSON.stringify(value) + \\' is not an enumerated value\\'\\n        })\\n      }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * anyOf\n     *\n     * @description\n     * > An instance validates successfully against this keyword if it\n     * > validates successfully against at least one schema defined by this\n     * > keyword's value.\n     * > JSON Schema Validation Section 5.5.4\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'anyOf',\n    value: function anyOf() {\n      var anyOf = this.schema.anyOf,\n          address = this.address;\n\n      var block = '';\n\n      if (Array.isArray(anyOf)) {\n        block += '\\n        initialValidity = valid\\n        initialErrorCount = errors.length\\n        anyValid = false\\n      ';\n\n        anyOf.forEach(function (subschema) {\n          var validator = new Validator(subschema, { address: address });\n          block += '\\n        accumulatedErrorCount = errors.length\\n        ' + validator.compile() + '\\n        if (accumulatedErrorCount === errors.length) {\\n          anyValid = true\\n        }\\n        ';\n        });\n\n        block += '\\n          if (anyValid === true) {\\n            valid = initialValidity\\n            errors = errors.slice(0, initialErrorCount)\\n          }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * allOf\n     *\n     * @description\n     * > An instance validates successfully against this keyword if it\n     * > validates successfully against all schemas defined by this keyword's\n     * > value.\n     * > JSON Schema Validation Section 5.5.3\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'allOf',\n    value: function allOf() {\n      var allOf = this.schema.allOf,\n          address = this.address;\n\n      var block = '';\n\n      if (Array.isArray(allOf)) {\n        allOf.forEach(function (subschema) {\n          var validator = new Validator(subschema, { address: address });\n          block += '\\n        ' + validator.compile() + '\\n        ';\n        });\n      }\n\n      return block;\n    }\n\n    /**\n     * oneOf\n     *\n     * @description\n     * > An instance validates successfully against this keyword if it\n     * > validates successfully against exactly one schema defined by this\n     * > keyword's value.\n     * > JSON Schema Validation Section 5.5.5\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'oneOf',\n    value: function oneOf() {\n      var oneOf = this.schema.oneOf,\n          address = this.address;\n\n      var block = '';\n\n      if (Array.isArray(oneOf)) {\n        block += '\\n        /**\\n         * Validate ' + address + ' oneOf\\n         */\\n        initialValidity = valid\\n        initialErrorCount = errors.length\\n        countOfValid = 0\\n      ';\n\n        oneOf.forEach(function (subschema) {\n          var validator = new Validator(subschema, { address: address });\n          block += '\\n        accumulatedErrorCount = errors.length\\n        ' + validator.compile() + '\\n        if (accumulatedErrorCount === errors.length) {\\n          countOfValid += 1\\n        }\\n        ';\n        });\n\n        block += '\\n          if (countOfValid === 1) {\\n            valid = initialValidity\\n            errors = errors.slice(0, initialErrorCount)\\n          } else {\\n            valid = false\\n            errors.push({\\n              keyword: \\'oneOf\\',\\n              message: \\'what is a reasonable error message for this case?\\'\\n            })\\n          }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * not\n     *\n     * @description\n     * > An instance is valid against this keyword if it fails to validate\n     * > successfully against the schema defined by this keyword.\n     * > JSON Schema Validation Section 5.5.6\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'not',\n    value: function not() {\n      var not = this.schema.not,\n          address = this.address;\n\n      var block = '';\n\n      if ((typeof not === 'undefined' ? 'undefined' : _typeof(not)) === 'object' && not !== null && !Array.isArray(not)) {\n        var subschema = not;\n        var validator = new Validator(subschema, { address: address });\n\n        block += '\\n        /**\\n         * NOT\\n         */\\n        if (value !== undefined) {\\n          initialValidity = valid\\n          initialErrorCount = errors.length\\n          notValid = true\\n\\n          accumulatedErrorCount = errors.length\\n\\n          ' + validator.compile() + '\\n\\n          if (accumulatedErrorCount === errors.length) {\\n            notValid = false\\n          }\\n\\n          if (notValid === true) {\\n            valid = initialValidity\\n            errors = errors.slice(0, initialErrorCount)\\n          } else {\\n            valid = false\\n            errors = errors.slice(0, initialErrorCount)\\n            errors.push({\\n              keyword: \\'not\\',\\n              message: \\'hmm...\\'\\n            })\\n          }\\n        }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * properties\n     *\n     * @description\n     * Iterate over the `properties` schema property if it is an object. For each\n     * key, initialize a new Validator for the subschema represented by the property\n     * value and invoke compile. Append the result of compiling each subschema to\n     * the block of code being generated.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'properties',\n    value: function properties() {\n      var schema = this.schema,\n          address = this.address;\n      var properties = schema.properties,\n          required = schema.required;\n\n      var block = this.push();\n\n      // ensure the value of \"required\" schema property is an array\n      required = Array.isArray(required) ? required : [];\n\n      if ((typeof properties === 'undefined' ? 'undefined' : _typeof(properties)) === 'object') {\n        Object.keys(properties).forEach(function (key) {\n          var subschema = properties[key];\n          var isRequired = required.indexOf(key) !== -1;\n          // TODO\n          // how should we be calculating these things? should be json pointer?\n          // needs a separate function\n          var pointer = [address, key].filter(function (segment) {\n            return !!segment;\n          }).join('.');\n          var validation = new Validator(subschema, { address: pointer, require: isRequired });\n\n          // read the value\n          block += '\\n        value = container[\\'' + key + '\\']\\n        ';\n\n          block += validation.compile();\n        });\n      }\n\n      block += this.pop();\n\n      return block;\n    }\n\n    /**\n     * Other Properties\n     *\n     * @description\n     * This method is not for a keyword. It wraps validations for\n     * patternProperties and additionalProperties in a single iteration over\n     * an object-type value's properties.\n     *\n     * It should only be invoked once for a given subschema.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'otherProperties',\n    value: function otherProperties() {\n      return '\\n      /**\\n       * Validate Other Properties\\n       */\\n      ' + this.push() + '\\n\\n      for (let key in container) {\\n        value = container[key]\\n        matched = false\\n\\n        ' + this.patternValidations() + '\\n        ' + this.additionalValidations() + '\\n      }\\n\\n      ' + this.pop() + '\\n    ';\n    }\n\n    /**\n     * Pattern Validations\n     *\n     * @description\n     * Generate validation code from a subschema for properties matching a\n     * regular expression.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'patternValidations',\n    value: function patternValidations() {\n      var patternProperties = this.schema.patternProperties;\n\n      var block = '';\n\n      if ((typeof patternProperties === 'undefined' ? 'undefined' : _typeof(patternProperties)) === 'object') {\n        Object.keys(patternProperties).forEach(function (pattern) {\n          var subschema = patternProperties[pattern];\n          var validator = new Validator(subschema);\n          block += '\\n          if (key.match(\\'' + pattern + '\\')) {\\n            matched = true\\n            ' + validator.compile() + '\\n          }\\n        ';\n        });\n      }\n\n      return block;\n    }\n\n    /**\n     * Additional Validations\n     *\n     * @description\n     * Generate validation code, either from a subschema for properties not\n     * defined in the schema, or to disallow properties not defined in the\n     * schema.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'additionalValidations',\n    value: function additionalValidations() {\n      var _schema = this.schema,\n          properties = _schema.properties,\n          additionalProperties = _schema.additionalProperties,\n          address = this.address;\n\n      var validations = '';\n      var block = '';\n\n      // catch additional unmatched properties\n      var conditions = ['matched !== true'];\n\n      // ignore defined properties\n      Object.keys(properties || {}).forEach(function (key) {\n        conditions.push('key !== \\'' + key + '\\'');\n      });\n\n      // validate additional properties\n      if ((typeof additionalProperties === 'undefined' ? 'undefined' : _typeof(additionalProperties)) === 'object') {\n        var subschema = additionalProperties;\n        var validator = new Validator(subschema, { address: address + '[APKey]' });\n        block += '\\n        // validate additional properties\\n        if (' + conditions.join(' && ') + ') {\\n          ' + validator.compile() + '\\n        }\\n      ';\n      }\n\n      // error for additional properties\n      if (additionalProperties === false) {\n        block += '\\n        // validate non-presence of additional properties\\n        if (' + conditions.join(' && ') + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'additionalProperties\\',\\n            message: key + \\' is not a defined property\\'\\n          })\\n        }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * patternProperties\n     *\n     * @description\n     * Generate validation code for properties matching a pattern\n     * defined by the property name (key), which must be a string\n     * representing a valid regular expression.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'patternProperties',\n    value: function patternProperties() {\n      var block = '';\n\n      if (!this.otherPropertiesCalled) {\n        this.otherPropertiesCalled = true;\n        block += this.otherProperties();\n      }\n\n      return block;\n    }\n\n    /**\n     * additionalProperties\n     *\n     * @description\n     * Generate validation code for additional properties not defined\n     * in the schema, or disallow additional properties if the value of\n     * `additionalProperties` in the schema is `false`.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'additionalProperties',\n    value: function additionalProperties() {\n      var block = '';\n\n      if (!this.otherPropertiesCalled) {\n        this.otherPropertiesCalled = true;\n        block += this.otherProperties();\n      }\n\n      return block;\n    }\n\n    /**\n     * minProperties\n     *\n     * @description\n     * > An object instance is valid against \"minProperties\" if its number of\n     * > properties is greater than, or equal to, the value of this keyword.\n     * > JSON Schema Validation Section 5.4.2\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'minProperties',\n    value: function minProperties() {\n      var minProperties = this.schema.minProperties,\n          address = this.address;\n\n\n      return '\\n        // ' + address + ' min properties\\n        if (Object.keys(value).length < ' + minProperties + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'minProperties\\',\\n            message: \\'too few properties\\'\\n          })\\n        }\\n    ';\n    }\n\n    /**\n     * maxProperties\n     *\n     * @description\n     * > An object instance is valid against \"maxProperties\" if its number of\n     * > properties is less than, or equal to, the value of this keyword.\n     * > JSON Schema Validation Section 5.4.1\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'maxProperties',\n    value: function maxProperties() {\n      var maxProperties = this.schema.maxProperties,\n          address = this.address;\n\n\n      return '\\n        // ' + address + ' max properties\\n        if (Object.keys(value).length > ' + maxProperties + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'maxProperties\\',\\n            message: \\'too many properties\\'\\n          })\\n        }\\n    ';\n    }\n\n    /**\n     * Dependencies\n     *\n     * @description\n     * > For all (name, schema) pair of schema dependencies, if the instance has\n     * > a property by this name, then it must also validate successfully against\n     * > the schema.\n     * >\n     * > Note that this is the instance itself which must validate successfully,\n     * > not the value associated with the property name.\n     * >\n     * > For each (name, propertyset) pair of property dependencies, if the\n     * > instance has a property by this name, then it must also have properties\n     * > with the same names as propertyset.\n     * > JSON Schema Validation Section 5.4.5.2\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'dependencies',\n    value: function dependencies() {\n      var dependencies = this.schema.dependencies,\n          address = this.address;\n\n\n      var block = this.push();\n\n      if ((typeof dependencies === 'undefined' ? 'undefined' : _typeof(dependencies)) === 'object') {\n        Object.keys(dependencies).forEach(function (key) {\n          var dependency = dependencies[key];\n          var conditions = [];\n\n          if (Array.isArray(dependency)) {\n            dependency.forEach(function (item) {\n              conditions.push('container[\\'' + item + '\\'] === undefined');\n            });\n\n            block += '\\n            if (container[\\'' + key + '\\'] !== undefined && (' + conditions.join(' || ') + ')) {\\n              valid = false\\n              errors.push({\\n                keyword: \\'dependencies\\',\\n                message: \\'unmet dependencies\\'\\n              })\\n            }\\n          ';\n          } else if ((typeof dependency === 'undefined' ? 'undefined' : _typeof(dependency)) === 'object') {\n            var subschema = dependency;\n            var validator = new Validator(subschema, { address: address });\n\n            block += '\\n            if (container[\\'' + key + '\\'] !== undefined) {\\n              ' + validator.compile() + '\\n            }\\n          ';\n          }\n        });\n      }\n\n      block += this.pop();\n\n      return block;\n    }\n\n    /**\n     * Required\n     *\n     * @description\n     * > An object instance is valid against this keyword if its property set\n     * > contains all elements in this keyword's array value.\n     * > JSON Schema Validation Section 5.4.3\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'required',\n    value: function required() {\n      var properties = this.schema.properties,\n          address = this.address;\n\n      var block = '';\n\n      block += '\\n      // validate ' + address + ' presence\\n      if (value === undefined) {\\n        valid = false\\n        errors.push({\\n          keyword: \\'required\\',\\n          message: \\'is required\\'\\n        })\\n      }\\n    ';\n\n      return block;\n    }\n\n    /**\n     * additionalItems\n     *\n     * @description\n     * > Successful validation of an array instance with regards to these two\n     * > keywords is determined as follows: if \"items\" is not present, or its\n     * > value is an object, validation of the instance always succeeds,\n     * > regardless of the value of \"additionalItems\"; if the value of\n     * > \"additionalItems\" is boolean value true or an object, validation of\n     * > the instance always succeeds; if the value of \"additionalItems\" is\n     * > boolean value false and the value of \"items\" is an array, the\n     * > instance is valid if its size is less than, or equal to, the size\n     * > of \"items\".\n     * > JSON Schema Validation Section 5.3.1\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'additionalItems',\n    value: function additionalItems() {\n      var _schema2 = this.schema,\n          items = _schema2.items,\n          additionalItems = _schema2.additionalItems,\n          address = this.address;\n\n      var block = '';\n\n      if (additionalItems === false && Array.isArray(items)) {\n        block += '\\n        // don\\'t allow additional items\\n        if (value.length > ' + items.length + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'additionalItems\\',\\n            message: \\'additional items not allowed\\'\\n          })\\n        }\\n      ';\n      }\n\n      if ((typeof additionalItems === 'undefined' ? 'undefined' : _typeof(additionalItems)) === 'object' && additionalItems !== null && Array.isArray(items)) {\n        var subschema = additionalItems;\n        var validator = new Validator(subschema);\n        var counter = Validator.counter;\n\n        block += '\\n        // additional items\\n        ' + this.push() + '\\n\\n        for (var i' + counter + ' = ' + items.length + '; i' + counter + ' <= container.length; i' + counter + '++) {\\n          value = container[i' + counter + ']\\n          ' + validator.compile() + '\\n        }\\n\\n        ' + this.pop() + '\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * Items\n     *\n     * @description\n     * > Successful validation of an array instance with regards to these two\n     * > keywords is determined as follows: if \"items\" is not present, or its\n     * > value is an object, validation of the instance always succeeds,\n     * > regardless of the value of \"additionalItems\"; if the value of\n     * > \"additionalItems\" is boolean value true or an object, validation of\n     * > the instance always succeeds; if the value of \"additionalItems\" is\n     * > boolean value false and the value of \"items\" is an array, the\n     * > instance is valid if its size is less than, or equal to, the size\n     * > of \"items\".\n     * > JSON Schema Validation Section 5.3.1\n     *\n     * Code to generate\n     *\n     *     // this outer conditional is generated by this.array()\n     *     if (Array.isArray(value) {\n     *       let parent = value\n     *       for (let i = 0; i < parent.length; i++) {\n     *         value = parent[i]\n     *         // other validation code depending on value here\n     *       }\n     *       value = parent\n     *     }\n     *\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'items',\n    value: function items() {\n      var items = this.schema.items,\n          address = this.address;\n\n      var block = '';\n\n      // if items is an array\n      if (Array.isArray(items)) {\n        block += this.push();\n\n        items.forEach(function (item, index) {\n          var subschema = item;\n          var validator = new Validator(subschema, { address: address + '[' + index + ']' });\n\n          block += '\\n          // item #' + index + '\\n          value = container[' + index + ']\\n          ' + validator.compile() + '\\n        ';\n        });\n\n        block += this.pop();\n\n        // if items is an object\n      } else if ((typeof items === 'undefined' ? 'undefined' : _typeof(items)) === 'object' && items !== null) {\n        var subschema = items;\n        var validator = new Validator(subschema);\n        var counter = Validator.counter;\n\n        block += '\\n        // items\\n        ' + this.push() + '\\n\\n        for (var i' + counter + ' = 0; i' + counter + ' < container.length; i' + counter + '++) {\\n          // read array element\\n          value = container[i' + counter + ']\\n          ' + validator.compile() + '\\n        }\\n\\n        ' + this.pop() + '\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * minItems\n     *\n     * @description\n     * > An array instance is valid against \"minItems\" if its size is greater\n     * > than, or equal to, the value of this keyword.\n     * > JSON Schema Validation Section 5.3.3\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'minItems',\n    value: function minItems() {\n      var minItems = this.schema.minItems,\n          address = this.address;\n\n\n      return '\\n        // ' + address + ' min items\\n        if (value.length < ' + minItems + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'minItems\\',\\n            message: \\'too few properties\\'\\n          })\\n        }\\n    ';\n    }\n\n    /**\n     * maxItems\n     *\n     * @description\n     * > An array instance is valid against \"maxItems\" if its size is less\n     * > than, or equal to, the value of this keyword.\n     * > JSON Schema Validation Section 5.3.2\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'maxItems',\n    value: function maxItems() {\n      var maxItems = this.schema.maxItems,\n          address = this.address;\n\n\n      return '\\n        // ' + address + ' max items\\n        if (value.length > ' + maxItems + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'maxItems\\',\\n            message: \\'too many properties\\'\\n          })\\n        }\\n    ';\n    }\n\n    /**\n     * uniqueItems\n     *\n     * @description\n     * > If this keyword has boolean value false, the instance validates\n     * > successfully. If it has boolean value true, the instance validates\n     * > successfully if all of its elements are unique.\n     * > JSON Schema Validation Section 5.3.4\n     *\n     * TODO\n     * optimize\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'uniqueItems',\n    value: function uniqueItems() {\n      var uniqueItems = this.schema.uniqueItems,\n          address = this.address;\n\n      var block = '';\n\n      if (uniqueItems === true) {\n        block += '\\n        // validate ' + address + ' unique items\\n        let values = value.map(v => JSON.stringify(v)) // TODO: optimize\\n        let set = new Set(values)\\n        if (values.length !== set.size) {\\n          valid = false\\n          errors.push({\\n            keyword: \\'uniqueItems\\',\\n            message: \\'items must be unique\\'\\n          })\\n        }\\n      ';\n      }\n\n      return block;\n    }\n\n    /**\n     * minLength\n     *\n     * @description\n     * > A string instance is valid against this keyword if its length is\n     * > greater than, or equal to, the value of this keyword. The length of\n     * > a string instance is defined as the number of its characters as\n     * > defined by RFC 4627 [RFC4627].\n     * > JSON Schema Validation Section 5.2.2\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'minLength',\n    value: function minLength() {\n      var minLength = this.schema.minLength,\n          address = this.address;\n\n\n      return '\\n        // ' + address + ' validate minLength\\n        if (Array.from(value).length < ' + minLength + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'minLength\\',\\n            message: \\'too short\\'\\n          })\\n        }\\n    ';\n    }\n\n    /**\n     * maxLength\n     *\n     * @description\n     * > A string instance is valid against this keyword if its length is less\n     * > than, or equal to, the value of this keyword. The length of a string\n     * > instance is defined as the number of its characters as defined by\n     * > RFC 4627 [RFC4627].\n     * > JSON Schema Validation Section 5.2.1\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'maxLength',\n    value: function maxLength() {\n      var maxLength = this.schema.maxLength,\n          address = this.address;\n\n\n      return '\\n        // ' + address + ' validate maxLength\\n        if (Array.from(value).length > ' + maxLength + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'maxLength\\',\\n            message: \\'too long\\'\\n          })\\n        }\\n    ';\n    }\n\n    /**\n     * Pattern\n     *\n     * @description\n     * > A string instance is considered valid if the regular expression\n     * > matches the instance successfully.\n     * > JSON Schema Validation Section 5.2.3\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'pattern',\n    value: function pattern() {\n      var pattern = this.schema.pattern,\n          address = this.address;\n\n\n      if (pattern) {\n        return '\\n          // ' + address + ' validate pattern\\n          if (!value.match(new RegExp(\\'' + pattern + '\\'))) {\\n            valid = false\\n            errors.push({\\n              keyword: \\'pattern\\',\\n              message: \\'does not match the required pattern\\'\\n            })\\n          }\\n      ';\n      }\n    }\n\n    /**\n     * Format\n     *\n     * @description\n     * > Structural validation alone may be insufficient to validate that\n     * > an instance meets all the requirements of an application. The\n     * > \"format\" keyword is defined to allow interoperable semantic\n     * > validation for a fixed subset of values which are accurately\n     * > described by authoritative resources, be they RFCs or other\n     * > external specifications.\n     * > JSON Schema Validation Section 7.1\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'format',\n    value: function format() {\n      var format = this.schema.format,\n          address = this.address;\n\n      var matcher = formats.resolve(format);\n\n      if (matcher) {\n        return '\\n      // ' + address + ' validate format\\n      if (!value.match(' + matcher + ')) {\\n        valid = false\\n        errors.push({\\n          keyword: \\'format\\',\\n          message: \\'is not \"' + format + '\" format\\'\\n        })\\n      }\\n      ';\n      }\n    }\n\n    /**\n     * Minimum\n     *\n     * @description\n     * > Successful validation depends on the presence and value of\n     * > \"exclusiveMinimum\": if \"exclusiveMinimum\" is not present, or has\n     * > boolean value false, then the instance is valid if it is greater\n     * > than, or equal to, the value of \"minimum\"; if \"exclusiveMinimum\" is\n     * > present and has boolean value true, the instance is valid if it is\n     * > strictly greater than the value of \"minimum\".\n     * > JSON Schema Validation Section 5.1.3\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'minimum',\n    value: function minimum() {\n      var _schema3 = this.schema,\n          minimum = _schema3.minimum,\n          exclusiveMinimum = _schema3.exclusiveMinimum,\n          address = this.address;\n\n      var operator = exclusiveMinimum === true ? '<=' : '<';\n\n      return '\\n        // ' + address + ' validate minimum\\n        if (value ' + operator + ' ' + minimum + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'minimum\\',\\n            message: \\'too small\\'\\n          })\\n        }\\n    ';\n    }\n\n    /**\n     * Maximum\n     *\n     * @description\n     * > Successful validation depends on the presence and value of\n     * > \"exclusiveMaximum\": if \"exclusiveMaximum\" is not present, or has\n     * > boolean value false, then the instance is valid if it is lower than,\n     * > or equal to, the value of \"maximum\"; if \"exclusiveMaximum\" has\n     * > boolean value true, the instance is valid if it is strictly lower\n     * > than the value of \"maximum\".\n     * > JSON Schema Validation Section 5.1.2\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'maximum',\n    value: function maximum() {\n      var _schema4 = this.schema,\n          maximum = _schema4.maximum,\n          exclusiveMaximum = _schema4.exclusiveMaximum,\n          address = this.address;\n\n      var operator = exclusiveMaximum === true ? '>=' : '>';\n\n      return '\\n        // ' + address + ' validate maximum\\n        if (value ' + operator + ' ' + maximum + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'maximum\\',\\n            message: \\'too large\\'\\n          })\\n        }\\n    ';\n    }\n\n    /**\n     * multipleOf\n     *\n     * @description\n     * > A numeric instance is valid against \"multipleOf\" if the result of\n     * > the division of the instance by this keyword's value is an integer.\n     * > JSON Schema Validation Section 5.1.1\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: 'multipleOf',\n    value: function multipleOf() {\n      var multipleOf = this.schema.multipleOf;\n\n      var block = '';\n\n      if (typeof multipleOf === 'number') {\n        var length = multipleOf.toString().length;\n        var decimals = length - multipleOf.toFixed(0).length - 1;\n        var pow = decimals > 0 ? Math.pow(10, decimals) : 1;\n        var condition = void 0;\n\n        if (decimals > 0) {\n          condition = '(value * ' + pow + ') % ' + multipleOf * pow + ' !== 0';\n        } else {\n          condition = 'value % ' + multipleOf + ' !== 0';\n        }\n\n        block += '\\n        if (' + condition + ') {\\n          valid = false\\n          errors.push({\\n            keyword: \\'multipleOf\\',\\n            message: \\'must be a multiple of ' + multipleOf + '\\'\\n          })\\n        }\\n      ';\n      }\n\n      return block;\n    }\n  }]);\n\n  return Validator;\n}();\n\n/**\n * Export\n */\n\n\nmodule.exports = Validator;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * @module JSON Object Signing and Encryption (JOSE)\n */\nvar JWA = __webpack_require__(38);\nvar JWK = __webpack_require__(57);\nvar JWKSet = __webpack_require__(60);\nvar JWT = __webpack_require__(62);\nvar JWS = __webpack_require__(67);\nvar Base64URLSchema = __webpack_require__(64);\nvar JOSEHeaderSchema = __webpack_require__(66);\nvar JWKSchema = __webpack_require__(58);\nvar JWKSetSchema = __webpack_require__(61);\nvar JWTClaimsSetSchema = __webpack_require__(65);\nvar JWTSchema = __webpack_require__(63);\n\n/**\n * Export\n */\nmodule.exports = {\n  JWA: JWA,\n  JWK: JWK,\n  JWKSet: JWKSet,\n  JWT: JWT,\n  JWS: JWS,\n  Base64URLSchema: Base64URLSchema,\n  JOSEHeaderSchema: JOSEHeaderSchema,\n  JWKSchema: JWKSchema,\n  JWKSetSchema: JWKSetSchema,\n  JWTClaimsSetSchema: JWTClaimsSetSchema,\n  JWTSchema: JWTSchema\n};\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Dependencies\n *\n * TODO\n * - switch between Node.js webcrypto package and browser implementation\n */\nvar base64url = __webpack_require__(39);\nvar supportedAlgorithms = __webpack_require__(46);\n\nvar _require = __webpack_require__(55),\n    NotSupportedError = _require.NotSupportedError;\n\n/**\n * JWA\n * https://tools.ietf.org/html/rfc7518\n */\n\n\nvar JWA = function () {\n  function JWA() {\n    _classCallCheck(this, JWA);\n  }\n\n  _createClass(JWA, null, [{\n    key: 'sign',\n\n\n    /**\n     * Sign\n     *\n     * @description\n     * Create a digital signature.\n     *\n     * @param {string} alg\n     * @param {CryptoKey} key\n     * @param {string|Buffer} data\n     *\n     * @return {Promise}\n     */\n    value: function sign(alg, key, data) {\n      // normalize the algorithm\n      var normalizedAlgorithm = supportedAlgorithms.normalize('sign', alg);\n\n      // validate algorithm is supported\n      if (normalizedAlgorithm instanceof Error) {\n        return Promise.reject(new NotSupportedError(alg));\n      }\n\n      // validate type of key\n      // TODO\n      //  - is the key suitable for the algorithm?\n      //  - does that get validated in webcrypto?\n      //if (key instanceof CryptoKey) {\n      //  return Promise.reject(new InvalidKeyError())\n      //}\n\n      // sign the data\n      return normalizedAlgorithm.sign(key, data);\n    }\n\n    /**\n     * Verify\n     *\n     * @description\n     * Verify a digital signature.\n     *\n     * @param {string} alg\n     * @param {CryptoKey} privateKey\n     * @param {string|Buffer} signature\n     * @param {string|Buffer} data\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'verify',\n    value: function verify(alg, key, signature, data) {\n      var normalizedAlgorithm = supportedAlgorithms.normalize('verify', alg);\n\n      if (normalizedAlgorithm instanceof Error) {\n        return Promise.reject(new NotSupportedError(alg));\n      }\n\n      // TODO\n      // validate publicKey\n\n      // verify the signature\n      return normalizedAlgorithm.verify(key, signature, data);\n    }\n\n    /**\n     * Encrypt\n     */\n\n    /**\n     * Decrypt\n     */\n\n    /**\n     * Import\n     */\n\n  }, {\n    key: 'importKey',\n    value: function importKey(key) {\n      var normalizedAlgorithm = supportedAlgorithms.normalize('importKey', key.alg);\n      return normalizedAlgorithm.importKey(key);\n    }\n  }]);\n\n  return JWA;\n}();\n\n/**\n * Export\n */\n\n\nmodule.exports = JWA;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(40).default;\nmodule.exports.default = module.exports;\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pad_string_1 = __webpack_require__(45);\nfunction encode(input, encoding) {\n    if (encoding === void 0) { encoding = \"utf8\"; }\n    if (Buffer.isBuffer(input)) {\n        return fromBase64(input.toString(\"base64\"));\n    }\n    return fromBase64(Buffer.from(input, encoding).toString(\"base64\"));\n}\n;\nfunction decode(base64url, encoding) {\n    if (encoding === void 0) { encoding = \"utf8\"; }\n    return Buffer.from(toBase64(base64url), \"base64\").toString(encoding);\n}\nfunction toBase64(base64url) {\n    base64url = base64url.toString();\n    return pad_string_1.default(base64url)\n        .replace(/\\-/g, \"+\")\n        .replace(/_/g, \"/\");\n}\nfunction fromBase64(base64) {\n    return base64\n        .replace(/=/g, \"\")\n        .replace(/\\+/g, \"-\")\n        .replace(/\\//g, \"_\");\n}\nfunction toBuffer(base64url) {\n    return Buffer.from(toBase64(base64url), \"base64\");\n}\nvar base64url = encode;\nbase64url.encode = encode;\nbase64url.decode = decode;\nbase64url.toBase64 = toBase64;\nbase64url.fromBase64 = fromBase64;\nbase64url.toBuffer = toBuffer;\nexports.default = base64url;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(41).Buffer))\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(42)\nvar ieee754 = __webpack_require__(43)\nvar isArray = __webpack_require__(44)\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20)))\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports) {\n\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction padString(input) {\n    var segmentLength = 4;\n    var stringLength = input.length;\n    var diff = stringLength % segmentLength;\n    if (!diff) {\n        return input;\n    }\n    var position = stringLength;\n    var padLength = segmentLength - diff;\n    var paddedStringLength = stringLength + padLength;\n    var buffer = Buffer.alloc(paddedStringLength);\n    buffer.write(input);\n    while (padLength--) {\n        buffer.write(\"=\", position++);\n    }\n    return buffer.toString();\n}\nexports.default = padString;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(41).Buffer))\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Local dependencies\n */\nvar None = __webpack_require__(47);\nvar HMAC = __webpack_require__(48);\nvar RSASSA_PKCS1_v1_5 = __webpack_require__(52);\nvar SupportedAlgorithms = __webpack_require__(53);\n\n/**\n * Register Supported Algorithms\n */\nvar supportedAlgorithms = new SupportedAlgorithms();\n\n/**\n * Sign\n */\nsupportedAlgorithms.define('HS256', 'sign', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-256'\n  }\n}));\n\nsupportedAlgorithms.define('HS384', 'sign', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-384'\n  }\n}));\n\nsupportedAlgorithms.define('HS512', 'sign', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-512'\n  }\n}));\n\nsupportedAlgorithms.define('RS256', 'sign', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-256'\n  }\n}));\n\nsupportedAlgorithms.define('RS384', 'sign', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-384'\n  }\n}));\n\nsupportedAlgorithms.define('RS512', 'sign', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-512'\n  }\n}));\n//supportedAlgorithms.define('ES256', 'sign', {})\n//supportedAlgorithms.define('ES384', 'sign', {})\n//supportedAlgorithms.define('ES512', 'sign', {})\n//supportedAlgorithms.define('PS256', 'sign', {})\n//supportedAlgorithms.define('PS384', 'sign', {})\n//supportedAlgorithms.define('PS512', 'sign', {})\n\nsupportedAlgorithms.define('none', 'sign', new None({\n  // nothing goes here\n}));\n\n/**\n * Verify\n */\nsupportedAlgorithms.define('HS256', 'verify', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-256'\n  }\n}));\n\nsupportedAlgorithms.define('HS384', 'verify', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-384'\n  }\n}));\n\nsupportedAlgorithms.define('HS512', 'verify', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-512'\n  }\n}));\n\nsupportedAlgorithms.define('RS256', 'verify', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-256'\n  }\n}));\n\nsupportedAlgorithms.define('RS384', 'verify', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-384'\n  }\n}));\n\nsupportedAlgorithms.define('RS512', 'verify', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-512'\n  }\n}));\n//supportedAlgorithms.define('ES256', 'verify', {})\n//supportedAlgorithms.define('ES384', 'verify', {})\n//supportedAlgorithms.define('ES512', 'verify', {})\n//supportedAlgorithms.define('PS256', 'verify', {})\n//supportedAlgorithms.define('PS384', 'verify', {})\n//supportedAlgorithms.define('PS512', 'verify', {})\n\nsupportedAlgorithms.define('none', 'verify', new None({\n  // nothing goes here\n}));\n\nsupportedAlgorithms.define('RS256', 'importKey', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-256'\n  }\n}));\n\nsupportedAlgorithms.define('RS384', 'importKey', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-384'\n  }\n}));\n\nsupportedAlgorithms.define('RS512', 'importKey', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-512'\n  }\n}));\n\n/**\n * Export\n */\nmodule.exports = supportedAlgorithms;\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * None\n */\nvar None = function () {\n  function None() {\n    _classCallCheck(this, None);\n  }\n\n  _createClass(None, [{\n    key: 'sign',\n\n    /**\n     * sign\n     */\n    value: function sign() {\n      return Promise.resolve('');\n    }\n\n    /**\n     * verify\n     */\n\n  }, {\n    key: 'verify',\n    value: function verify() {\n      // this will never get called. but you looked.\n    }\n  }]);\n\n  return None;\n}();\n\n/**\n * Export\n */\n\n\nmodule.exports = None;\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\n/**\n * Dependencies\n * @ignore\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar base64url = __webpack_require__(39);\nvar crypto = __webpack_require__(49);\nvar TextEncoder = __webpack_require__(50);\n\n/**\n * HMAC with SHA-2 Functions\n */\n\nvar HMAC = function () {\n\n  /**\n   * Constructor\n   *\n   * @param {string} bitlength\n   */\n  function HMAC(params) {\n    _classCallCheck(this, HMAC);\n\n    this.params = params;\n  }\n\n  /**\n   * Sign\n   *\n   * @description\n   * Generate a hash-based message authentication code for a\n   * given input and key. Enforce the key length is equal to\n   * or greater than the bitlength.\n   *\n   * @param {CryptoKey} key\n   * @param {string} data\n   *\n   * @returns {string}\n   */\n\n\n  _createClass(HMAC, [{\n    key: 'sign',\n    value: function sign(key, data) {\n      var algorithm = this.params;\n\n      // TODO: validate key length\n\n      data = new TextEncoder().encode(data);\n\n      return crypto.subtle.sign(algorithm, key, data).then(function (signature) {\n        return base64url(Buffer.from(signature));\n      });\n    }\n\n    /**\n     * Verify\n     *\n     * @description\n     * Verify a digital signature for a given input and private key.\n     *\n     * @param {CryptoKey} key\n     * @param {string} signature\n     * @param {string} data\n     *\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'verify',\n    value: function verify(key, signature, data) {\n      var algorithm = this.params;\n\n      if (typeof signature === 'string') {\n        signature = Uint8Array.from(base64url.toBuffer(signature));\n      }\n\n      if (typeof data === 'string') {\n        data = new TextEncoder().encode(data);\n      }\n\n      return crypto.subtle.verify(algorithm, key, signature, data);\n    }\n\n    /**\n     * Assert Sufficient Key Length\n     *\n     * @description Assert that the key length is sufficient\n     * @param {string} key\n     */\n\n  }, {\n    key: 'assertSufficientKeyLength',\n    value: function assertSufficientKeyLength(key) {\n      if (key.length < this.bitlength) {\n        throw new Error('The key is too short.');\n      }\n    }\n  }]);\n\n  return HMAC;\n}();\n\n/**\n * Export\n */\n\n\nmodule.exports = HMAC;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(41).Buffer))\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports) {\n\n(function() { module.exports = window[\"crypto\"]; }());\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar TextEncoder = global.TextEncoder ? global.TextEncoder // browser\n: __webpack_require__(51).TextEncoder; // node shim\nmodule.exports = TextEncoder;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20)))\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n(function() { module.exports = window[\"TextEncoder\"]; }());\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\n/**\n * Dependencies\n * @ignore\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar base64url = __webpack_require__(39);\nvar crypto = __webpack_require__(49);\nvar TextEncoder = __webpack_require__(50);\n\n/**\n * RSASSA-PKCS1-v1_5\n */\n\nvar RSASSA_PKCS1_v1_5 = function () {\n\n  /**\n   * constructor\n   *\n   * @param {string} bitlength\n   */\n  function RSASSA_PKCS1_v1_5(params) {\n    _classCallCheck(this, RSASSA_PKCS1_v1_5);\n\n    this.params = params;\n  }\n\n  /**\n   * sign\n   *\n   * @description\n   * Generate a digital signature for a given input and private key.\n   *\n   * @param {CryptoKey} key\n   * @param {BufferSource} data\n   *\n   * @returns {Promise}\n   */\n\n\n  _createClass(RSASSA_PKCS1_v1_5, [{\n    key: 'sign',\n    value: function sign(key, data) {\n      var algorithm = this.params;\n\n      // TODO\n      //if (!this.sufficientKeySize()) {\n      //  return Promise.reject(\n      //    new Error(\n      //      'A key size of 2048 bits or larger must be used with RSASSA-PKCS1-v1_5'\n      //    )\n      //  )\n      //}\n\n      data = new TextEncoder().encode(data);\n\n      return crypto.subtle.sign(algorithm, key, data).then(function (signature) {\n        return base64url(Buffer.from(signature));\n      });\n    }\n\n    /**\n     * verify\n     *\n     * @description\n     * Verify a digital signature for a given input and private key.\n     *\n     * @param {CryptoKey} key\n     * @param {BufferSource} signature\n     * @param {BufferSource} data\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'verify',\n    value: function verify(key, signature, data) {\n      var algorithm = this.params;\n\n      if (typeof signature === 'string') {\n        signature = Uint8Array.from(base64url.toBuffer(signature));\n      }\n\n      if (typeof data === 'string') {\n        data = new TextEncoder().encode(data);\n      }\n      // ...\n\n      return crypto.subtle.verify(algorithm, key, signature, data);\n    }\n\n    /**\n     * importKey\n     *\n     * @param {JWK} key\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'importKey',\n    value: function importKey(key) {\n      var jwk = Object.assign({}, key);\n      var algorithm = this.params;\n      var usages = key['key_ops'] || [];\n\n      if (key.use === 'sig') {\n        usages.push('verify');\n      }\n\n      if (key.use === 'enc') {\n        // TODO: handle encryption keys\n        return Promise.resolve(key);\n      }\n\n      if (key.key_ops) {\n        usages = key.key_ops;\n      }\n\n      return crypto.subtle.importKey('jwk', jwk, algorithm, true, usages).then(function (cryptoKey) {\n        Object.defineProperty(jwk, 'cryptoKey', {\n          enumerable: false,\n          value: cryptoKey\n        });\n\n        return jwk;\n      });\n    }\n  }]);\n\n  return RSASSA_PKCS1_v1_5;\n}();\n\n/**\n * Export\n */\n\n\nmodule.exports = RSASSA_PKCS1_v1_5;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(41).Buffer))\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Dependencies\n */\nvar NotSupportedError = __webpack_require__(54);\n\n/**\n * Operations\n */\nvar operations = ['sign', 'verify', 'encrypt', 'decrypt', 'importKey'];\n\n/**\n * SupportedAlgorithms\n */\n\nvar SupportedAlgorithms = function () {\n\n  /**\n   * constructor\n   */\n  function SupportedAlgorithms() {\n    var _this = this;\n\n    _classCallCheck(this, SupportedAlgorithms);\n\n    operations.forEach(function (op) {\n      _this[op] = {};\n    });\n  }\n\n  /**\n   * Supported Operations\n   */\n\n\n  _createClass(SupportedAlgorithms, [{\n    key: 'define',\n\n\n    /**\n     * define\n     *\n     * @description\n     * Register Web Crypto API algorithm parameter for an algorithm\n     * and operation.\n     *\n     * @param {string} alg\n     * @param {string} op\n     * @param {Object} argument\n     */\n    value: function define(alg, op, argument) {\n      var registeredAlgorithms = this[op];\n      registeredAlgorithms[alg] = argument;\n    }\n\n    /**\n     * normalize\n     *\n     * @description\n     * Map JWA alg name to Web Crypto API algorithm parameter\n     *\n     * @param {string} op\n     * @param {Object} alg\n     *\n     * @returns {Object}\n     */\n\n  }, {\n    key: 'normalize',\n    value: function normalize(op, alg) {\n      var registeredAlgorithms = this[op];\n\n      if (!registeredAlgorithms) {\n        return new SyntaxError(); // what kind of error should this be?\n      }\n\n      var argument = registeredAlgorithms[alg];\n\n      if (!argument) {\n        return new NotSupportedError(alg);\n      }\n\n      return argument;\n    }\n  }], [{\n    key: 'operations',\n    get: function get() {\n      return operations;\n    }\n  }]);\n\n  return SupportedAlgorithms;\n}();\n\n/**\n * Export\n */\n\n\nmodule.exports = SupportedAlgorithms;\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * NotSupportedError\n */\nvar NotSupportedError = function (_Error) {\n  _inherits(NotSupportedError, _Error);\n\n  function NotSupportedError(alg) {\n    _classCallCheck(this, NotSupportedError);\n\n    var _this = _possibleConstructorReturn(this, (NotSupportedError.__proto__ || Object.getPrototypeOf(NotSupportedError)).call(this));\n\n    _this.message = alg + \" is not a supported algorithm\";\n    return _this;\n  }\n\n  return NotSupportedError;\n}(Error);\n\n/**\n * Export\n */\n\n\nmodule.exports = NotSupportedError;\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  DataError: __webpack_require__(56),\n  NotSupportedError: __webpack_require__(54)\n};\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * DataError\n */\nvar DataError = function (_Error) {\n  _inherits(DataError, _Error);\n\n  function DataError(message) {\n    _classCallCheck(this, DataError);\n\n    return _possibleConstructorReturn(this, (DataError.__proto__ || Object.getPrototypeOf(DataError)).call(this, message));\n  }\n\n  return DataError;\n}(Error);\n\n/**\n * Export\n */\n\n\nmodule.exports = DataError;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Dependencies\n * @ignore\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(28),\n    JSONDocument = _require.JSONDocument;\n\nvar JWKSchema = __webpack_require__(58);\nvar JWA = __webpack_require__(38);\n\n/**\n * JWK Class\n */\n\nvar JWK = function (_JSONDocument) {\n  _inherits(JWK, _JSONDocument);\n\n  function JWK() {\n    _classCallCheck(this, JWK);\n\n    return _possibleConstructorReturn(this, (JWK.__proto__ || Object.getPrototypeOf(JWK)).apply(this, arguments));\n  }\n\n  _createClass(JWK, null, [{\n    key: 'importKey',\n\n\n    /**\n     * importKey\n     *\n     * TODO:\n     * - should this be on JWA?\n     */\n    value: function importKey(jwk) {\n      return JWA.importKey(jwk);\n    }\n  }, {\n    key: 'schema',\n\n\n    /**\n     * Schema\n     */\n    get: function get() {\n      return JWKSchema;\n    }\n  }]);\n\n  return JWK;\n}(JSONDocument);\n\n/**\n * Export\n */\n\n\nmodule.exports = JWK;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Dependencies\n * @ignore\n */\n\nvar _require = __webpack_require__(28),\n    JSONSchema = _require.JSONSchema;\n\nvar _require2 = __webpack_require__(59),\n    BASE64_REGEXP = _require2.BASE64_REGEXP;\n\n/**\n * JWK Schema\n */\n\n\nvar JWKSchema = new JSONSchema({\n  type: 'object',\n  properties: {\n\n    kty: {\n      type: 'string',\n      //format: 'case-sensitive',\n      enum: ['RSA', 'EC', 'oct'] // other values MAY be used\n    },\n\n    use: {\n      type: 'string',\n      //format: 'case-sensitive',\n      enum: ['sig', 'enc'] // other values MAY be used\n    },\n\n    key_ops: {\n      type: 'array',\n      //format: 'case-sensitive',\n      items: {\n        enum: ['sign', 'verify', 'encrypt', 'decrypt', 'wrapKey', 'unwrapKey', 'deriveKey', 'deriveBits'] // other values MAY be used\n      }\n    },\n\n    alg: {\n      type: 'string',\n      //format: 'case-sensitive',\n      enum: ['HS256', 'HS384', 'HS512', 'RS256', 'RS384', 'RS512', 'ES256', 'ES384', 'ES512', 'PS256', 'PS384', 'PS512', 'none'] // other values MAY be used\n    },\n\n    kid: {\n      type: 'string'\n    },\n\n    x5u: {\n      type: 'string'\n      //format: 'url'\n    },\n\n    x5c: {\n      type: 'array'\n      //format: BASE64_REGEXP\n    },\n\n    x5t: {\n      type: 'string'\n      //format: BASE64_REGEXP\n    }\n\n    //'x5t#S256': {\n    //  type: 'string',\n    //  //format: BASE64_REGEXP\n    //}\n  }\n});\n\n/**\n * Export\n */\nmodule.exports = JWKSchema;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Package dependencies\n */\nvar _require = __webpack_require__(28),\n    Formats = _require.Formats;\n\n/**\n * Format extensions\n */\n\n\nFormats.register('StringOrURI', new RegExp());\nFormats.register('NumericDate', new RegExp());\nFormats.register('URI', new RegExp());\nFormats.register('url', new RegExp());\nFormats.register('base64', new RegExp());\nFormats.register('base64url', new RegExp());\nFormats.register('MediaType', new RegExp());\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Dependencies\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(28),\n    JSONDocument = _require.JSONDocument;\n\nvar JWKSetSchema = __webpack_require__(61);\nvar JWK = __webpack_require__(57);\n\n/**\n * JWKSet\n *\n * @class\n * JWKSet represents a JSON Web Key Set as described in Section 5 of RFC 7517:\n * https://tools.ietf.org/html/rfc7517#section-5\n */\n\nvar JWKSet = function (_JSONDocument) {\n  _inherits(JWKSet, _JSONDocument);\n\n  function JWKSet() {\n    _classCallCheck(this, JWKSet);\n\n    return _possibleConstructorReturn(this, (JWKSet.__proto__ || Object.getPrototypeOf(JWKSet)).apply(this, arguments));\n  }\n\n  _createClass(JWKSet, null, [{\n    key: 'importKeys',\n\n\n    /**\n     * importKeys\n     */\n    value: function importKeys(jwks) {\n      var validation = this.schema.validate(jwks);\n\n      if (!validation.valid) {\n        return Promise.reject(new Error('Invalid JWKSet: ' + JSON.stringify(validation, null, 2)));\n      }\n\n      if (!jwks.keys) {\n        return Promise.reject(new Error('Cannot import JWKSet: keys property is empty'));\n      }\n\n      var imported = void 0,\n          importing = void 0;\n\n      try {\n        imported = new JWKSet(jwks);\n        importing = jwks.keys.map(function (key) {\n          return JWK.importKey(key);\n        });\n      } catch (err) {\n        return Promise.reject(err);\n      }\n\n      return Promise.all(importing).then(function (keys) {\n        imported.keys = keys;\n        return imported;\n      });\n    }\n  }, {\n    key: 'schema',\n\n\n    /**\n     * schema\n     */\n    get: function get() {\n      return JWKSetSchema;\n    }\n  }]);\n\n  return JWKSet;\n}(JSONDocument);\n\n/**\n * Export\n */\n\n\nmodule.exports = JWKSet;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Dependencies\n */\n\nvar _require = __webpack_require__(28),\n    JSONSchema = _require.JSONSchema;\n\nvar JWKSchema = __webpack_require__(58);\n\n/**\n * JWKSetSchema\n */\nvar JWKSetSchema = new JSONSchema({\n  type: 'object',\n  properties: {\n    keys: {\n      type: 'array',\n      items: JWKSchema\n    }\n  }\n});\n\n/**\n * Export\n */\nmodule.exports = JWKSetSchema;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Dependencies\n */\nvar base64url = __webpack_require__(39);\n\nvar _require = __webpack_require__(28),\n    JSONDocument = _require.JSONDocument;\n\nvar JWTSchema = __webpack_require__(63);\nvar JWS = __webpack_require__(67);\nvar DataError = __webpack_require__(56);\n\n/**\n * JWT\n */\n\nvar JWT = function (_JSONDocument) {\n  _inherits(JWT, _JSONDocument);\n\n  function JWT() {\n    _classCallCheck(this, JWT);\n\n    return _possibleConstructorReturn(this, (JWT.__proto__ || Object.getPrototypeOf(JWT)).apply(this, arguments));\n  }\n\n  _createClass(JWT, [{\n    key: 'isJWE',\n\n\n    /**\n     * isJWE\n     */\n    value: function isJWE() {\n      return !!this.header.enc;\n    }\n\n    /**\n     * resolveKeys\n     */\n\n  }, {\n    key: 'resolveKeys',\n    value: function resolveKeys(jwks) {\n      var kid = this.header.kid;\n      var keys = void 0,\n          match = void 0;\n\n      // treat an array as the \"keys\" property of a JWK Set\n      if (Array.isArray(jwks)) {\n        keys = jwks;\n      }\n\n      // presence of keys indicates object is a JWK Set\n      if (jwks.keys) {\n        keys = jwks.keys;\n      }\n\n      // wrap a plain object they is not a JWK Set in Array\n      if (!jwks.keys && (typeof jwks === 'undefined' ? 'undefined' : _typeof(jwks)) === 'object') {\n        keys = [jwks];\n      }\n\n      // ensure there are keys to search\n      if (!keys) {\n        throw new DataError('Invalid JWK argument');\n      }\n\n      // match by \"kid\" or \"use\" header\n      if (kid) {\n        match = keys.find(function (jwk) {\n          return jwk.kid === kid;\n        });\n      } else {\n        match = keys.find(function (jwk) {\n          return jwk.use === 'sig';\n        });\n      }\n\n      // assign matching key to JWT and return a boolean\n      if (match) {\n        this.key = match.cryptoKey;\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    /**\n     * encode\n     *\n     * @description\n     * Encode a JWT instance\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'encode',\n    value: function encode() {\n      // validate\n      var validation = this.validate();\n\n      if (!validation.valid) {\n        return Promise.reject(validation);\n      }\n\n      var token = this;\n\n      if (this.isJWE()) {\n        return JWE.encrypt(token);\n      } else {\n        return JWS.sign(token);\n      }\n    }\n\n    /**\n     * verify\n     *\n     * @description\n     * Verify a decoded JWT instance\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'verify',\n    value: function verify() {\n      var validation = this.validate();\n\n      if (!validation.valid) {\n        return Promise.reject(validation);\n      }\n\n      return JWS.verify(this);\n    }\n  }], [{\n    key: 'decode',\n\n\n    /**\n     * decode\n     *\n     * @description\n     * Decode a JSON Web Token\n     *\n     * @param {string} data\n     * @returns {JWT}\n     */\n    value: function decode(data) {\n      var ExtendedJWT = this;\n      var jwt = void 0;\n\n      if (typeof data !== 'string') {\n        throw new DataError('JWT must be a string');\n      }\n\n      // JSON of Flattened JSON Serialization\n      if (data.startsWith('{')) {\n        try {\n          data = JSON.parse(data, function () {});\n        } catch (error) {\n          throw new DataError('Invalid JWT serialization');\n        }\n\n        if (data.signatures || data.recipients) {\n          data.serialization = 'json';\n        } else {\n          data.serialization = 'flattened';\n        }\n\n        jwt = new ExtendedJWT(data, { filter: false });\n\n        // Compact Serialization\n      } else {\n        try {\n          var serialization = 'compact';\n          var segments = data.split('.');\n          var length = segments.length;\n\n          if (length !== 3 && length !== 5) {\n            throw new Error('Malformed JWT');\n          }\n\n          var header = JSON.parse(base64url.decode(segments[0]));\n\n          // JSON Web Signature\n          if (length === 3) {\n            var type = 'JWS';\n            var payload = JSON.parse(base64url.decode(segments[1]));\n            var signature = segments[2];\n\n            jwt = new ExtendedJWT({ type: type, segments: segments, header: header, payload: payload, signature: signature, serialization: serialization }, { filter: false });\n          }\n\n          // JSON Web Encryption\n          if (length === 5) {\n            //let type = 'JWE'\n            //let [protected, encryption_key, iv, ciphertext, tag] = segments\n\n            //jwt = new ExtendedJWT({\n            //  type,\n            //  protected: base64url.decode(JSON.parse(protected)),\n            //  encryption_key,\n            //  iv,\n            //  ciphertext,\n            //  tag,\n            //  serialization\n            //})\n          }\n        } catch (error) {\n          throw new DataError('Invalid JWT compact serialization');\n        }\n      }\n\n      return jwt;\n    }\n\n    /**\n     * encode\n     *\n     * @description\n     * Encode a JSON Web Token\n     *\n     * @param {Object} header\n     * @param {Object} payload\n     * @param {CryptoKey} key\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'encode',\n    value: function encode(header, payload, key) {\n      var jwt = new JWT(header, payload);\n      return jwt.encode(key);\n    }\n\n    /**\n     * verify\n     *\n     * @description\n     *\n     * @param {CryptoKey} key\n     * @param {string} token\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'verify',\n    value: function verify(key, token) {\n      var jwt = JWT.decode(token);\n      jwt.key = key;\n      return jwt.verify().then(function (verified) {\n        return jwt;\n      });\n    }\n  }, {\n    key: 'schema',\n\n\n    /**\n     * schema\n     */\n    get: function get() {\n      return JWTSchema;\n    }\n  }]);\n\n  return JWT;\n}(JSONDocument);\n\n/**\n * Export\n */\n\n\nmodule.exports = JWT;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Dependencies\n */\nvar Base64URLSchema = __webpack_require__(64);\nvar JWTClaimsSetSchema = __webpack_require__(65);\nvar JOSEHeaderSchema = __webpack_require__(66);\n\nvar _require = __webpack_require__(28),\n    JSONSchema = _require.JSONSchema;\n\n/**\n * JWTSchema\n *\n * @description\n * This schema represents all the things a deserialized JWT can be, i.e.,\n * either a JWS or JWE, and any serialization of them. Validation of well-\n * formedness for a given serialization is accomplished at the time of\n * encoding.\n */\n\n\nvar JWTSchema = new JSONSchema({\n  type: 'object',\n  properties: {\n\n    /**\n     * type\n     */\n    type: {\n      type: 'string',\n      enum: ['JWS', 'JWE']\n    },\n\n    /**\n     * segments\n     */\n    segments: {\n      type: 'array'\n    },\n\n    /**\n     * header\n     */\n    header: JOSEHeaderSchema,\n\n    /**\n     * protected\n     */\n    protected: JOSEHeaderSchema,\n\n    /**\n     * unprotected\n     */\n    unprotected: JOSEHeaderSchema,\n\n    /**\n     * iv\n     */\n    iv: Base64URLSchema,\n\n    /**\n     * aad\n     */\n    aad: Base64URLSchema,\n\n    /**\n     * ciphertext\n     */\n    ciphertext: Base64URLSchema,\n\n    /**\n     * tag\n     */\n    tag: Base64URLSchema,\n\n    /**\n     * recipients\n     */\n    recipients: {\n      type: 'array',\n      items: {\n        type: 'object',\n        properties: {\n          header: JOSEHeaderSchema,\n          encrypted_key: Base64URLSchema\n        }\n      }\n    },\n\n    /**\n     * payload\n     */\n    payload: JWTClaimsSetSchema,\n\n    /**\n     * signatures\n     */\n    signatures: {\n      type: 'array',\n      items: {\n        type: 'object',\n        properties: {\n          protected: JOSEHeaderSchema,\n          header: JOSEHeaderSchema,\n          signature: Base64URLSchema,\n          key: { type: 'object' }\n        }\n      }\n    },\n\n    /**\n     * signature\n     */\n    signature: Base64URLSchema,\n\n    /**\n     * verified\n     */\n    verified: {\n      type: 'boolean',\n      default: false\n    },\n\n    /**\n     * key\n     */\n    key: {\n      type: 'object'\n    },\n\n    /**\n     * serialization\n     */\n    serialization: {\n      type: 'string',\n      enum: ['compact', 'json', 'flattened'],\n      default: 'compact'\n    }\n  }\n});\n\n/**\n * Export\n */\nmodule.exports = JWTSchema;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Dependencies\n */\nvar _require = __webpack_require__(28),\n    JSONSchema = _require.JSONSchema;\n\n/**\n * Base64URLSchema\n */\n\n\nvar Base64URLSchema = new JSONSchema({\n  type: 'string',\n  format: 'base64url'\n});\n\n/**\n * Export\n */\nmodule.exports = Base64URLSchema;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Dependencies\n */\nvar _require = __webpack_require__(28),\n    JSONSchema = _require.JSONSchema;\n\n/**\n * JWTClaimsSetSchema\n *\n * JSON Web Token (JWT)\n * https://tools.ietf.org/html/rfc7519#section-4\n *\n * 4.  JWT Claims\n *\n *   The JWT Claims Set represents a JSON object whose members are the\n *   claims conveyed by the JWT.  The Claim Names within a JWT Claims Set\n *   MUST be unique; JWT parsers MUST either reject JWTs with duplicate\n *   Claim Names or use a JSON parser that returns only the lexically last\n *   duplicate member name, as specified in Section 15.12 (\"The JSON\n *   Object\") of ECMAScript 5.1 [ECMAScript].\n *\n *   The set of claims that a JWT must contain to be considered valid is\n *   context dependent and is outside the scope of this specification.\n *   Specific applications of JWTs will require implementations to\n *   understand and process some claims in particular ways.  However, in\n *   the absence of such requirements, all claims that are not understood\n *   by implementations MUST be ignored.\n *\n *   There are three classes of JWT Claim Names: Registered Claim Names,\n *   Public Claim Names, and Private Claim Names.\n */\n\n\nvar JWTClaimsSetSchema = new JSONSchema({\n  properties: {\n\n    /**\n     * JSON Web Token (JWT)\n     * https://tools.ietf.org/html/rfc7519#section-4.1\n     *\n     * 4.1.  Registered Claim Names\n     *\n     *   The following Claim Names are registered in the IANA \"JSON Web Token\n     *   Claims\" registry established by Section 10.1.  None of the claims\n     *   defined below are intended to be mandatory to use or implement in all\n     *   cases, but rather they provide a starting point for a set of useful,\n     *   interoperable claims.  Applications using JWTs should define which\n     *   specific claims they use and when they are required or optional.  All\n     *   the names are short because a core goal of JWTs is for the\n     *   representation to be compact.\n     */\n\n    /**\n     * iss\n     *\n     * JSON Web Token (JWT)\n     * https://tools.ietf.org/html/rfc7519#section-4.1.1\n     *\n     * 4.1.1.  \"iss\" (Issuer) Claim\n     *\n     *   The \"iss\" (issuer) claim identifies the principal that issued the\n     *   JWT.  The processing of this claim is generally application specific.\n     *   The \"iss\" value is a case-sensitive string containing a StringOrURI\n     *   value.  Use of this claim is OPTIONAL.\n     */\n    iss: {\n      type: 'string',\n      format: 'StringOrURI'\n    },\n\n    /**\n     * sub\n     *\n     * JSON Web Token (JWT)\n     * https://tools.ietf.org/html/rfc7519#section-4.1.2\n     *\n     * 4.1.2.  \"sub\" (Subject) Claim\n     *\n     *   The \"sub\" (subject) claim identifies the principal that is the\n     *   subject of the JWT.  The claims in a JWT are normally statements\n     *   about the subject.  The subject value MUST either be scoped to be\n     *   locally unique in the context of the issuer or be globally unique.\n     *   The processing of this claim is generally application specific.  The\n     *   \"sub\" value is a case-sensitive string containing a StringOrURI\n     *   value.  Use of this claim is OPTIONAL.\n     */\n    sub: {\n      type: 'string',\n      format: 'StringOrURI'\n    },\n\n    /**\n     * aud\n     *\n     * JSON Web Token (JWT)\n     * https://tools.ietf.org/html/rfc7519#section-4.1.3\n     *\n     * 4.1.3.  \"aud\" (Audience) Claim\n     *\n     *   The \"aud\" (audience) claim identifies the recipients that the JWT is\n     *   intended for.  Each principal intended to process the JWT MUST\n     *   identify itself with a value in the audience claim.  If the principal\n     *   processing the claim does not identify itself with a value in the\n     *   \"aud\" claim when this claim is present, then the JWT MUST be\n     *   rejected.  In the general case, the \"aud\" value is an array of case-\n     *   sensitive strings, each containing a StringOrURI value.  In the\n     *   special case when the JWT has one audience, the \"aud\" value MAY be a\n     *   single case-sensitive string containing a StringOrURI value.  The\n     *   interpretation of audience values is generally application specific.\n     *   Use of this claim is OPTIONAL.\n     */\n    aud: {\n      type: ['array', 'string'],\n      format: 'StringOrURI',\n      items: {\n        format: 'StringOrURI'\n      }\n    },\n\n    /**\n     * exp\n     *\n     * JSON Web Token (JWT)\n     * https://tools.ietf.org/html/rfc7519#section-4.1.4\n     *\n     * 4.1.4.  \"exp\" (Expiration Time) Claim\n     *\n     *   The \"exp\" (expiration time) claim identifies the expiration time on\n     *   or after which the JWT MUST NOT be accepted for processing.  The\n     *   processing of the \"exp\" claim requires that the current date/time\n     *   MUST be before the expiration date/time listed in the \"exp\" claim.\n     *\n     *   Implementers MAY provide for some small leeway, usually no more than\n     *   a few minutes, to account for clock skew.  Its value MUST be a number\n     *   containing a NumericDate value.  Use of this claim is OPTIONAL.\n     *\n     */\n    exp: {\n      type: 'number',\n      format: 'NumericDate'\n    },\n\n    /**\n     * nbf\n     *\n     * JSON Web Token (JWT)\n     * https://tools.ietf.org/html/rfc7519#section-4.1.5\n     *\n     * 4.1.5.  \"nbf\" (Not Before) Claim\n     *\n     *   The \"nbf\" (not before) claim identifies the time before which the JWT\n     *   MUST NOT be accepted for processing.  The processing of the \"nbf\"\n     *   claim requires that the current date/time MUST be after or equal to\n     *   the not-before date/time listed in the \"nbf\" claim.  Implementers MAY\n     *   provide for some small leeway, usually no more than a few minutes, to\n     *   account for clock skew.  Its value MUST be a number containing a\n     *   NumericDate value.  Use of this claim is OPTIONAL.\n     */\n    nbf: {\n      type: 'number',\n      format: 'NumericDate'\n    },\n\n    /**\n     * iat\n     *\n     * JSON Web Token (JWT)\n     * https://tools.ietf.org/html/rfc7519#section-4.1.6\n     *\n     * 4.1.6.  \"iat\" (Issued At) Claim\n     *\n     *   The \"iat\" (issued at) claim identifies the time at which the JWT was\n     *   issued.  This claim can be used to determine the age of the JWT.  Its\n     *   value MUST be a number containing a NumericDate value.  Use of this\n     *   claim is OPTIONAL.\n     */\n    iat: {\n      type: 'number',\n      format: 'NumericDate'\n    },\n\n    /**\n     * jti\n     *\n     * JSON Web Token (JWT)\n     * https://tools.ietf.org/html/rfc7519#section-4.1.7\n     *\n     * 4.1.7.  \"jti\" (JWT ID) Claim\n     *\n     *   The \"jti\" (JWT ID) claim provides a unique identifier for the JWT.\n     *   The identifier value MUST be assigned in a manner that ensures that\n     *   there is a negligible probability that the same value will be\n     *   accidentally assigned to a different data object; if the application\n     *   uses multiple issuers, collisions MUST be prevented among values\n     *   produced by different issuers as well.  The \"jti\" claim can be used\n     *   to prevent the JWT from being replayed.  The \"jti\" value is a case-\n     *   sensitive string.  Use of this claim is OPTIONAL.\n     */\n    jti: {\n      type: 'string'\n    }\n  }\n});\n\n/**\n * Export\n */\nmodule.exports = JWTClaimsSetSchema;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Dependencies\n */\nvar JWKSchema = __webpack_require__(58);\n\nvar _require = __webpack_require__(28),\n    JSONSchema = _require.JSONSchema;\n\n/**\n * JOSEHeaderSchema\n *\n * JSON Web Token (JWT)\n * https://tools.ietf.org/html/rfc7519#section-5\n *\n * 5.  JOSE Header\n *\n *   For a JWT object, the members of the JSON object represented by the\n *   JOSE Header describe the cryptographic operations applied to the JWT\n *   and optionally, additional properties of the JWT.  Depending upon\n *   whether the JWT is a JWS or JWE, the corresponding rules for the JOSE\n *   Header values apply.\n */\n\n\nvar JOSEHeaderSchema = new JSONSchema({\n  type: 'object',\n  properties: {\n\n    /**\n     * typ\n     *\n     * JSON Web Token (JWT)\n     * https://tools.ietf.org/html/rfc7519#section-5.1\n     *\n     * 5.1.  \"typ\" (Type) Header Parameter\n     *\n     *   The \"typ\" (type) Header Parameter defined by [JWS] and [JWE] is used\n     *   by JWT applications to declare the media type [IANA.MediaTypes] of\n     *   this complete JWT.  This is intended for use by the JWT application\n     *   when values that are not JWTs could also be present in an application\n     *   data structure that can contain a JWT object; the application can use\n     *   this value to disambiguate among the different kinds of objects that\n     *   might be present.  It will typically not be used by applications when\n     *   it is already known that the object is a JWT.  This parameter is\n     *   ignored by JWT implementations; any processing of this parameter is\n     *   performed by the JWT application.  If present, it is RECOMMENDED that\n     *   its value be \"JWT\" to indicate that this object is a JWT.  While\n     *   media type names are not case sensitive, it is RECOMMENDED that \"JWT\"\n     *   always be spelled using uppercase characters for compatibility with\n     *   legacy implementations.  Use of this Header Parameter is OPTIONAL.\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.9\n     *\n     * 4.1.9.  \"typ\" (Type) Header Parameter\n     *\n     *   The \"typ\" (type) Header Parameter is used by JWS applications to\n     *   declare the media type [IANA.MediaTypes] of this complete JWS.  This\n     *   is intended for use by the application when more than one kind of\n     *   object could be present in an application data structure that can\n     *   contain a JWS; the application can use this value to disambiguate\n     *   among the different kinds of objects that might be present.  It will\n     *   typically not be used by applications when the kind of object is\n     *   already known.  This parameter is ignored by JWS implementations; any\n     *   processing of this parameter is performed by the JWS application.\n     *   Use of this Header Parameter is OPTIONAL.\n     *\n     *   Per RFC 2045 [RFC2045], all media type values, subtype values, and\n     *   parameter names are case insensitive.  However, parameter values are\n     *   case sensitive unless otherwise specified for the specific parameter.\n     *\n     *   To keep messages compact in common situations, it is RECOMMENDED that\n     *   producers omit an \"application/\" prefix of a media type value in a\n     *   \"typ\" Header Parameter when no other '/' appears in the media type\n     *   value.  A recipient using the media type value MUST treat it as if\n     *   \"application/\" were prepended to any \"typ\" value not containing a\n     *   '/'.  For instance, a \"typ\" value of \"example\" SHOULD be used to\n     *   represent the \"application/example\" media type, whereas the media\n     *   type \"application/example;part=\"1/2\"\" cannot be shortened to\n     *   \"example;part=\"1/2\"\".\n     *\n     *   The \"typ\" value \"JOSE\" can be used by applications to indicate that\n     *   this object is a JWS or JWE using the JWS Compact Serialization or\n     *   the JWE Compact Serialization.  The \"typ\" value \"JOSE+JSON\" can be\n     *   used by applications to indicate that this object is a JWS or JWE\n     *   using the JWS JSON Serialization or the JWE JSON Serialization.\n     *   Other type values can also be used by applications.\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.11\n     *\n     * 4.1.11.  \"typ\" (Type) Header Parameter\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"typ\" Header Parameter defined in Section 4.1.9 of [JWS], except\n     *   that the type is that of this complete JWE.\n     */\n    typ: {\n      type: 'string'\n    },\n\n    /**\n     * cty\n     *\n     * JSON Web Token (JWT)\n     * https://tools.ietf.org/html/rfc7519#section-5.2\n     *\n     * 5.2.  \"cty\" (Content Type) Header Parameter\n     *\n     *   The \"cty\" (content type) Header Parameter defined by [JWS] and [JWE]\n     *   is used by this specification to convey structural information about\n     *   the JWT.\n     *\n     *   In the normal case in which nested signing or encryption operations\n     *   are not employed, the use of this Header Parameter is NOT\n     *   RECOMMENDED.  In the case that nested signing or encryption is\n     *   employed, this Header Parameter MUST be present; in this case, the\n     *   value MUST be \"JWT\", to indicate that a Nested JWT is carried in this\n     *   JWT.  While media type names are not case sensitive, it is\n     *   RECOMMENDED that \"JWT\" always be spelled using uppercase characters\n     *   for compatibility with legacy implementations.  See Appendix A.2 for\n     *   an example of a Nested JWT.\n     *\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.10\n     *\n     * 4.1.10.  \"cty\" (Content Type) Header Parameter\n     *\n     *   The \"cty\" (content type) Header Parameter is used by JWS applications\n     *   to declare the media type [IANA.MediaTypes] of the secured content\n     *   (the payload).  This is intended for use by the application when more\n     *   than one kind of object could be present in the JWS Payload; the\n     *   application can use this value to disambiguate among the different\n     *   kinds of objects that might be present.  It will typically not be\n     *   used by applications when the kind of object is already known.  This\n     *   parameter is ignored by JWS implementations; any processing of this\n     *   parameter is performed by the JWS application.  Use of this Header\n     *   Parameter is OPTIONAL.\n     *\n     *   Per RFC 2045 [RFC2045], all media type values, subtype values, and\n     *   parameter names are case insensitive.  However, parameter values are\n     *   case sensitive unless otherwise specified for the specific parameter.\n     *\n     *   To keep messages compact in common situations, it is RECOMMENDED that\n     *   producers omit an \"application/\" prefix of a media type value in a\n     *   \"cty\" Header Parameter when no other '/' appears in the media type\n     *   value.  A recipient using the media type value MUST treat it as if\n     *   \"application/\" were prepended to any \"cty\" value not containing a\n     *   '/'.  For instance, a \"cty\" value of \"example\" SHOULD be used to\n     *   represent the \"application/example\" media type, whereas the media\n     *   type \"application/example;part=\"1/2\"\" cannot be shortened to\n     *   \"example;part=\"1/2\"\".\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.12\n     *\n     * 4.1.12.  \"cty\" (Content Type) Header Parameter\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"cty\" Header Parameter defined in Section 4.1.10 of [JWS], except\n     *   that the type is that of the secured content (the plaintext).\n     */\n    cty: {\n      type: 'string',\n      enum: ['JWT']\n    },\n\n    /**\n     * alg\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.1\n     *\n     * 4.1.1.  \"alg\" (Algorithm) Header Parameter\n     *\n     *   The \"alg\" (algorithm) Header Parameter identifies the cryptographic\n     *   algorithm used to secure the JWS.  The JWS Signature value is not\n     *   valid if the \"alg\" value does not represent a supported algorithm or\n     *   if there is not a key for use with that algorithm associated with the\n     *   party that digitally signed or MACed the content.  \"alg\" values\n     *   should either be registered in the IANA \"JSON Web Signature and\n     *   Encryption Algorithms\" registry established by [JWA] or be a value\n     *   that contains a Collision-Resistant Name.  The \"alg\" value is a case-\n     *   sensitive ASCII string containing a StringOrURI value.  This Header\n     *   Parameter MUST be present and MUST be understood and processed by\n     *   implementations.\n     *\n     *   A list of defined \"alg\" values for this use can be found in the IANA\n     *   \"JSON Web Signature and Encryption Algorithms\" registry established\n     *   by [JWA]; the initial contents of this registry are the values\n     *   defined in Section 3.1 of [JWA].\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.1\n     *\n     * 4.1.1.  \"alg\" (Algorithm) Header Parameter\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"alg\" Header Parameter defined in Section 4.1.1 of [JWS], except\n     *   that the Header Parameter identifies the cryptographic algorithm used\n     *   to encrypt or determine the value of the CEK.  The encrypted content\n     *   is not usable if the \"alg\" value does not represent a supported\n     *   algorithm, or if the recipient does not have a key that can be used\n     *   with that algorithm.\n     *\n     *   A list of defined \"alg\" values for this use can be found in the IANA\n     *   \"JSON Web Signature and Encryption Algorithms\" registry established\n     *   by [JWA]; the initial contents of this registry are the values\n     *   defined in Section 4.1 of [JWA].\n     */\n    alg: {\n      type: 'string',\n      format: 'StringOrURI'\n    },\n\n    /**\n     * jku\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.2\n     *\n     * 4.1.2.  \"jku\" (JWK Set URL) Header Parameter (JWS)\n     *\n     *   The \"jku\" (JWK Set URL) Header Parameter is a URI [RFC3986] that\n     *   refers to a resource for a set of JSON-encoded public keys, one of\n     *   which corresponds to the key used to digitally sign the JWS.  The\n     *   keys MUST be encoded as a JWK Set [JWK].  The protocol used to\n     *   acquire the resource MUST provide integrity protection; an HTTP GET\n     *   request to retrieve the JWK Set MUST use Transport Layer Security\n     *   (TLS) [RFC2818] [RFC5246]; and the identity of the server MUST be\n     *   validated, as per Section 6 of RFC 6125 [RFC6125].  Also, see\n     *   Section 8 on TLS requirements.  Use of this Header Parameter is\n     *   OPTIONAL.\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.4\n     *\n     * 4.1.4.  \"jku\" (JWK Set URL) Header Parameter (JWE)\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"jku\" Header Parameter defined in Section 4.1.2 of [JWS], except\n     *   that the JWK Set resource contains the public key to which the JWE\n     *   was encrypted; this can be used to determine the private key needed\n     *   to decrypt the JWE.\n     */\n    jku: {\n      type: 'string',\n      format: 'URI'\n    },\n\n    /**\n     * jwk\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.3\n     *\n     * 4.1.3.  \"jwk\" (JSON Web Key) Header Parameter\n     *\n     *   The \"jwk\" (JSON Web Key) Header Parameter is the public key that\n     *   corresponds to the key used to digitally sign the JWS.  This key is\n     *   represented as a JSON Web Key [JWK].  Use of this Header Parameter is\n     *   OPTIONAL.\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.5\n     *\n     * 4.1.5.  \"jwk\" (JSON Web Key) Header Parameter\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"jwk\" Header Parameter defined in Section 4.1.3 of [JWS], except\n     *   that the key is the public key to which the JWE was encrypted; this\n     *   can be used to determine the private key needed to decrypt the JWE.\n     */\n    //jwk: JWKSchema,\n\n    /**\n     * kid\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.4\n     *\n     * 4.1.4.  \"kid\" (Key ID) Header Parameter\n     *\n     *   The \"kid\" (key ID) Header Parameter is a hint indicating which key\n     *   was used to secure the JWS.  This parameter allows originators to\n     *   explicitly signal a change of key to recipients.  The structure of\n     *   the \"kid\" value is unspecified.  Its value MUST be a case-sensitive\n     *   string.  Use of this Header Parameter is OPTIONAL.\n     *\n     *   When used with a JWK, the \"kid\" value is used to match a JWK \"kid\"\n     *   parameter value.\n     *\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.6\n     *\n     * 4.1.6.  \"kid\" (Key ID) Header Parameter\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"kid\" Header Parameter defined in Section 4.1.4 of [JWS], except\n     *   that the key hint references the public key to which the JWE was\n     *   encrypted; this can be used to determine the private key needed to\n     *   decrypt the JWE.  This parameter allows originators to explicitly\n     *   signal a change of key to JWE recipients.\n     */\n    kid: {\n      type: 'string'\n    },\n\n    /**\n     * x5u\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.5\n     *\n     * 4.1.5.  \"x5u\" (X.509 URL) Header Parameter\n     *\n     *   The \"x5u\" (X.509 URL) Header Parameter is a URI [RFC3986] that refers\n     *   to a resource for the X.509 public key certificate or certificate\n     *   chain [RFC5280] corresponding to the key used to digitally sign the\n     *   JWS.  The identified resource MUST provide a representation of the\n     *   certificate or certificate chain that conforms to RFC 5280 [RFC5280]\n     *   in PEM-encoded form, with each certificate delimited as specified in\n     *   Section 6.1 of RFC 4945 [RFC4945].  The certificate containing the\n     *   public key corresponding to the key used to digitally sign the JWS\n     *   MUST be the first certificate.  This MAY be followed by additional\n     *   certificates, with each subsequent certificate being the one used to\n     *   certify the previous one.  The protocol used to acquire the resource\n     *   MUST provide integrity protection; an HTTP GET request to retrieve\n     *   the certificate MUST use TLS [RFC2818] [RFC5246]; and the identity of\n     *   the server MUST be validated, as per Section 6 of RFC 6125 [RFC6125].\n     *   Also, see Section 8 on TLS requirements.  Use of this Header\n     *   Parameter is OPTIONAL.\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.7\n     *\n     * 4.1.7.  \"x5u\" (X.509 URL) Header Parameter\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"x5u\" Header Parameter defined in Section 4.1.5 of [JWS], except\n     *   that the X.509 public key certificate or certificate chain [RFC5280]\n     *   contains the public key to which the JWE was encrypted; this can be\n     *   used to determine the private key needed to decrypt the JWE.\n     */\n    x5u: {\n      type: 'string',\n      format: 'URI'\n    },\n\n    /**\n     * x5c\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.6\n     *\n     * 4.1.6.  \"x5c\" (X.509 Certificate Chain) Header Parameter\n     *\n     *   The \"x5c\" (X.509 certificate chain) Header Parameter contains the\n     *   X.509 public key certificate or certificate chain [RFC5280]\n     *   corresponding to the key used to digitally sign the JWS.  The\n     *   certificate or certificate chain is represented as a JSON array of\n     *   certificate value strings.  Each string in the array is a\n     *   base64-encoded (Section 4 of [RFC4648] -- not base64url-encoded) DER\n     *   [ITU.X690.2008] PKIX certificate value.  The certificate containing\n     *   the public key corresponding to the key used to digitally sign the\n     *   JWS MUST be the first certificate.  This MAY be followed by\n     *   additional certificates, with each subsequent certificate being the\n     *   one used to certify the previous one.  The recipient MUST validate\n     *   the certificate chain according to RFC 5280 [RFC5280] and consider\n     *   the certificate or certificate chain to be invalid if any validation\n     *   failure occurs.  Use of this Header Parameter is OPTIONAL.\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.8\n     *\n     * 4.1.8.  \"x5c\" (X.509 Certificate Chain) Header Parameter\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"x5c\" Header Parameter defined in Section 4.1.6 of [JWS], except\n     *   that the X.509 public key certificate or certificate chain [RFC5280]\n     *   contains the public key to which the JWE was encrypted; this can be\n     *   used to determine the private key needed to decrypt the JWE.\n     */\n    x5c: {\n      type: 'array',\n      items: {\n        type: 'string',\n        format: 'base64'\n      }\n    },\n\n    /**\n     * x5t\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.7\n     *\n     * 4.1.7.  \"x5t\" (X.509 Certificate SHA-1 Thumbprint) Header Parameter\n     *\n     *   The \"x5t\" (X.509 certificate SHA-1 thumbprint) Header Parameter is a\n     *   base64url-encoded SHA-1 thumbprint (a.k.a. digest) of the DER\n     *   encoding of the X.509 certificate [RFC5280] corresponding to the key\n     *   used to digitally sign the JWS.  Note that certificate thumbprints\n     *   are also sometimes known as certificate fingerprints.  Use of this\n     *   Header Parameter is OPTIONAL.\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.9\n     *\n     * 4.1.9.  \"x5t\" (X.509 Certificate SHA-1 Thumbprint) Header Parameter\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"x5t\" Header Parameter defined in Section 4.1.7 of [JWS], except\n     *   that the certificate referenced by the thumbprint contains the public\n     *   key to which the JWE was encrypted; this can be used to determine the\n     *   private key needed to decrypt the JWE.  Note that certificate\n     *   thumbprints are also sometimes known as certificate fingerprints.\n     */\n    x5t: {\n      type: 'string',\n      format: 'base64url'\n    },\n\n    /**\n     * x5t#S256\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.8\n     *\n     * 4.1.8.  \"x5t#S256\" (X.509 Certificate SHA-256 Thumbprint) Header\n     *         Parameter\n     *\n     *   The \"x5t#S256\" (X.509 certificate SHA-256 thumbprint) Header\n     *   Parameter is a base64url-encoded SHA-256 thumbprint (a.k.a. digest)\n     *   of the DER encoding of the X.509 certificate [RFC5280] corresponding\n     *   to the key used to digitally sign the JWS.  Note that certificate\n     *   thumbprints are also sometimes known as certificate fingerprints.\n     *   Use of this Header Parameter is OPTIONAL.\n     *\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.10\n     *\n     * 4.1.10.  \"x5t#S256\" (X.509 Certificate SHA-256 Thumbprint) Header\n     *          Parameter\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"x5t#S256\" Header Parameter defined in Section 4.1.8 of [JWS],\n     *   except that the certificate referenced by the thumbprint contains the\n     *   public key to which the JWE was encrypted; this can be used to\n     *   determine the private key needed to decrypt the JWE.  Note that\n     *   certificate thumbprints are also sometimes known as certificate\n     *   fingerprints.\n     */\n    //'x5t#S256': {\n    //  type: 'string',\n    //  format: 'base64url'\n    //},\n\n    /**\n     * crit\n     *\n     * JSON Web Signature (JWS)\n     * https://tools.ietf.org/html/rfc7515#section-4.1.11\n     *\n     * 4.1.11.  \"crit\" (Critical) Header Parameter\n     *\n     *   The \"crit\" (critical) Header Parameter indicates that extensions to\n     *   this specification and/or [JWA] are being used that MUST be\n     *   understood and processed.  Its value is an array listing the Header\n     *   Parameter names present in the JOSE Header that use those extensions.\n     *   If any of the listed extension Header Parameters are not understood\n     *   and supported by the recipient, then the JWS is invalid.  Producers\n     *   MUST NOT include Header Parameter names defined by this specification\n     *   or [JWA] for use with JWS, duplicate names, or names that do not\n     *   occur as Header Parameter names within the JOSE Header in the \"crit\"\n     *   list.  Producers MUST NOT use the empty list \"[]\" as the \"crit\"\n     *   value.  Recipients MAY consider the JWS to be invalid if the critical\n     *   list contains any Header Parameter names defined by this\n     *   specification or [JWA] for use with JWS or if any other constraints\n     *   on its use are violated.  When used, this Header Parameter MUST be\n     *   integrity protected; therefore, it MUST occur only within the JWS\n     *   Protected Header.  Use of this Header Parameter is OPTIONAL.  This\n     *   Header Parameter MUST be understood and processed by implementations.\n     *\n     *   An example use, along with a hypothetical \"exp\" (expiration time)\n     *   field is:\n     *\n     *     {\"alg\":\"ES256\",\n     *     \"crit\":[\"exp\"],\n     *     \"exp\":1363284000\n     *     }\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.13\n     *\n     *   4.1.13.  \"crit\" (Critical) Header Parameter\n     *\n     *   This parameter has the same meaning, syntax, and processing rules as\n     *   the \"crit\" Header Parameter defined in Section 4.1.11 of [JWS],\n     *   except that Header Parameters for a JWE are being referred to, rather\n     *   than Header Parameters for a JWS.\n     */\n    crit: {\n      type: 'array',\n      items: {\n        type: 'string'\n      },\n      minItems: 1\n    },\n\n    /**\n     * enc\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.2\n     *\n     * 4.1.2.  \"enc\" (Encryption Algorithm) Header Parameter\n     *\n     *   The \"enc\" (encryption algorithm) Header Parameter identifies the\n     *   content encryption algorithm used to perform authenticated encryption\n     *   on the plaintext to produce the ciphertext and the Authentication\n     *   Tag.  This algorithm MUST be an AEAD algorithm with a specified key\n     *   length.  The encrypted content is not usable if the \"enc\" value does\n     *   not represent a supported algorithm.  \"enc\" values should either be\n     *   registered in the IANA \"JSON Web Signature and Encryption Algorithms\"\n     *   registry established by [JWA] or be a value that contains a\n     *   Collision-Resistant Name.  The \"enc\" value is a case-sensitive ASCII\n     *   string containing a StringOrURI value.  This Header Parameter MUST be\n     *   present and MUST be understood and processed by implementations.\n     *\n     *   A list of defined \"enc\" values for this use can be found in the IANA\n     *   \"JSON Web Signature and Encryption Algorithms\" registry established\n     *   by [JWA]; the initial contents of this registry are the values\n     *   defined in Section 5.1 of [JWA].\n     */\n    enc: {\n      type: 'string',\n      format: 'StringOrURI'\n    },\n\n    /**\n     * zip\n     *\n     * JSON Web Encryption (JWE)\n     * https://tools.ietf.org/html/rfc7516#section-4.1.3\n     *\n     * 4.1.3.  \"zip\" (Compression Algorithm) Header Parameter\n     *\n     *   The \"zip\" (compression algorithm) applied to the plaintext before\n     *   encryption, if any.  The \"zip\" value defined by this specification\n     *   is:\n     *\n     *   o  \"DEF\" - Compression with the DEFLATE [RFC1951] algorithm\n     *\n     *   Other values MAY be used.  Compression algorithm values can be\n     *   registered in the IANA \"JSON Web Encryption Compression Algorithms\"\n     *   registry established by [JWA].  The \"zip\" value is a case-sensitive\n     *   string.  If no \"zip\" parameter is present, no compression is applied\n     *   to the plaintext before encryption.  When used, this Header Parameter\n     *   MUST be integrity protected; therefore, it MUST occur only within the\n     *   JWE Protected Header.  Use of this Header Parameter is OPTIONAL.\n     *   This Header Parameter MUST be understood and processed by\n     *   implementations.\n     */\n    zip: {\n      type: 'string'\n    }\n  }\n});\n\n/**\n * Export\n */\nmodule.exports = JOSEHeaderSchema;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Dependencies\n */\nvar base64url = __webpack_require__(39);\nvar JWA = __webpack_require__(38);\n\nvar _require = __webpack_require__(55),\n    DataError = _require.DataError;\n\n/**\n * JWS\n */\n\n\nvar JWS = function () {\n  function JWS() {\n    _classCallCheck(this, JWS);\n  }\n\n  _createClass(JWS, null, [{\n    key: 'sign',\n\n\n    /**\n     * sign\n     *\n     * @description\n     * Encode a JWT instance\n     *\n     * @param {Object} token\n     * @returns {Promise}\n     */\n    value: function sign(token) {\n      var payload = base64url(JSON.stringify(token.payload));\n\n      // compact serialization\n      if (token.serialization === 'compact') {\n        var key = token.key,\n            alg = token.header.alg;\n\n        var header = base64url(JSON.stringify(token.header));\n        var data = header + '.' + payload;\n\n        return JWA.sign(alg, key, data).then(function (signature) {\n          return data + '.' + signature;\n        });\n      }\n\n      // JSON serialization\n      if (token.serialization === 'json') {}\n\n      // Flattened serialization\n      if (token.serialization === 'flattened') {}\n\n      return Promise.reject(new DataError('Unsupported serialization'));\n    }\n\n    /**\n     * verify\n     */\n\n  }, {\n    key: 'verify',\n    value: function verify(jwt) {\n      // multiple signatures\n      if (jwt.signatures) {\n        // ...\n      }\n\n      var key = jwt.key,\n          signature = jwt.signature,\n          alg = jwt.header.alg;\n\n      // one signature\n\n      if (jwt.signature) {\n        var _jwt$segments = _slicedToArray(jwt.segments, 2),\n            header = _jwt$segments[0],\n            payload = _jwt$segments[1];\n\n        var data = header + '.' + payload;\n\n        if (alg === 'none') {\n          return Promise.reject(new DataError('Signature provided to verify with alg: none'));\n        }\n\n        return JWA.verify(alg, key, signature, data).then(function (verified) {\n          jwt.verified = verified;\n          return verified;\n        });\n      }\n\n      if (alg === 'none') {\n        if (!key && !signature) {\n          jwt.verified = true;\n\n          return Promise.resolve(true);\n        }\n\n        if (key) {\n          return Promise.reject(new DataError('Key provided to verify signature with alg: none'));\n        }\n      }\n\n      // no signatures to verify\n      return Promise.reject(new DataError('Missing signature(s)'));\n    }\n  }]);\n\n  return JWS;\n}();\n\n/**\n * Export\n */\n\n\nmodule.exports = JWS;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {/**\n * Dependencies\n */\nconst assert = __webpack_require__(21);\n\nconst base64url = __webpack_require__(39);\n\nconst crypto = __webpack_require__(49);\n\nconst {\n  JWT\n} = __webpack_require__(37);\n\nconst FormUrlEncoded = __webpack_require__(69);\n\nconst {\n  URL\n} = __webpack_require__(27);\n/**\n * Authentication Request\n */\n\n\nclass AuthenticationRequest {\n  /**\n   * create\n   *\n   * @description\n   * Create a new authentication request with generated state and nonce,\n   * validate presence of required parameters, serialize the request data and\n   * persist it to the session, and return a promise for an authentication\n   * request URI.\n   *\n   * @param {RelyingParty} rp – instance of RelyingParty\n   * @param {Object} options - optional request parameters\n   * @param {Object} session – reference to localStorage or other session object\n   *\n   * @returns {Promise}\n   */\n  static create(rp, options, session) {\n    const {\n      provider,\n      defaults,\n      registration\n    } = rp;\n    let issuer, endpoint, client, params;\n    return Promise.resolve().then(() => {\n      // validate presence of OP configuration, RP client registration,\n      // and default parameters\n      assert(provider.configuration, 'RelyingParty provider OpenID Configuration is missing');\n      assert(defaults.authenticate, 'RelyingParty default authentication parameters are missing');\n      assert(registration, 'RelyingParty client registration is missing'); // define basic elements of the request\n\n      issuer = provider.configuration.issuer;\n      endpoint = provider.configuration.authorization_endpoint;\n      client = {\n        client_id: registration.client_id\n      };\n      params = Object.assign(defaults.authenticate, client, options); // validate presence of required configuration and parameters\n\n      assert(issuer, 'Missing issuer in provider OpenID Configuration');\n      assert(endpoint, 'Missing authorization_endpoint in provider OpenID Configuration');\n      assert(params.scope, 'Missing scope parameter in authentication request');\n      assert(params.response_type, 'Missing response_type parameter in authentication request');\n      assert(params.client_id, 'Missing client_id parameter in authentication request');\n      assert(params.redirect_uri, 'Missing redirect_uri parameter in authentication request'); // generate state and nonce random octets\n\n      params.state = Array.from(crypto.getRandomValues(new Uint8Array(16)));\n      params.nonce = Array.from(crypto.getRandomValues(new Uint8Array(16))); // hash the state and nonce parameter values\n\n      return Promise.all([crypto.subtle.digest({\n        name: 'SHA-256'\n      }, new Uint8Array(params.state)), crypto.subtle.digest({\n        name: 'SHA-256'\n      }, new Uint8Array(params.nonce))]);\n    }) // serialize the request with original values, store in session by\n    // encoded state param, and replace state/nonce octets with encoded\n    // digests\n    .then(digests => {\n      let state = base64url(Buffer.from(digests[0]));\n      let nonce = base64url(Buffer.from(digests[1]));\n      let key = `${issuer}/requestHistory/${state}`; // store the request params for response validation\n      // with serialized octet values for state and nonce\n\n      session[key] = JSON.stringify(params); // replace state and nonce octets with base64url encoded digests\n\n      params.state = state;\n      params.nonce = nonce;\n    }).then(() => AuthenticationRequest.generateSessionKeys()).then(sessionKeys => {\n      AuthenticationRequest.storeSessionKeys(sessionKeys, params, session);\n    }) // optionally encode a JWT with the request parameters\n    // and replace params with `{ request: <jwt> }\n    .then(() => {\n      if (provider.configuration.request_parameter_supported) {\n        return AuthenticationRequest.encodeRequestParams(params).then(encodedParams => {\n          params = encodedParams;\n        });\n      }\n    }) // render the request URI and terminate the algorithm\n    .then(() => {\n      let url = new URL(endpoint);\n      url.search = FormUrlEncoded.encode(params);\n      return url.href;\n    });\n  }\n\n  static generateSessionKeys() {\n    return crypto.subtle.generateKey({\n      name: \"RSASSA-PKCS1-v1_5\",\n      modulusLength: 2048,\n      publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n      hash: {\n        name: \"SHA-256\"\n      }\n    }, true, [\"sign\", \"verify\"]).then(keyPair => {\n      // returns a keypair object\n      return Promise.all([crypto.subtle.exportKey('jwk', keyPair.publicKey), crypto.subtle.exportKey('jwk', keyPair.privateKey)]);\n    }).then(jwkPair => {\n      let [publicJwk, privateJwk] = jwkPair;\n      return {\n        public: publicJwk,\n        private: privateJwk\n      };\n    });\n  }\n\n  static storeSessionKeys(sessionKeys, params, session) {\n    // store the private one in session, public one goes into params\n    session['oidc.session.privateKey'] = JSON.stringify(sessionKeys.private);\n    params.key = sessionKeys.public;\n  }\n\n  static encodeRequestParams(params) {\n    const excludeParams = ['scope', 'client_id', 'response_type', 'state'];\n    const keysToEncode = Object.keys(params).filter(key => !excludeParams.includes(key));\n    let payload = {};\n    keysToEncode.forEach(key => {\n      payload[key] = params[key];\n    });\n    let requestParamJwt = new JWT({\n      header: {\n        alg: 'none'\n      },\n      payload\n    }, {\n      filter: false\n    });\n    return requestParamJwt.encode().then(requestParamCompact => {\n      let newParams = {\n        scope: params['scope'],\n        client_id: params['client_id'],\n        response_type: params['response_type'],\n        request: requestParamCompact,\n        state: params['state']\n      };\n      return newParams;\n    });\n  }\n\n}\n/**\n * Export\n */\n\n\nmodule.exports = AuthenticationRequest;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(41).Buffer))\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports) {\n\n/**\n * Dependencies\n */\n\n/**\n * FormUrlEncoded\n */\nclass FormUrlEncoded {\n  /**\n   * Encode\n   *\n   * @description\n   * Represent an object as x-www-form-urlencoded string.\n   *\n   * @param {Object} data\n   * @returns {string}\n   */\n  static encode(data) {\n    let pairs = [];\n    Object.keys(data).forEach(function (key) {\n      pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(data[key]));\n    });\n    return pairs.join('&');\n  }\n  /**\n   * Decode\n   *\n   * @description\n   * Parse a x-www-form-urlencoded into an object.\n   *\n   * @param {string} data\n   * @returns {Object}\n   */\n\n\n  static decode(data) {\n    let obj = {};\n    data.split('&').forEach(function (property) {\n      let pair = property.split('=');\n      let key = decodeURIComponent(pair[0]);\n      let val = decodeURIComponent(pair[1]);\n      obj[key] = val;\n    });\n    return obj;\n  }\n\n}\n/**\n * Export\n */\n\n\nmodule.exports = FormUrlEncoded;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, Buffer) {/**\n * Dependencies\n */\nconst {\n  URL\n} = __webpack_require__(27);\n\nconst assert = __webpack_require__(21);\n\nconst crypto = __webpack_require__(49);\n\nconst base64url = __webpack_require__(39);\n\nconst fetch = __webpack_require__(5);\n\nconst Headers = fetch.Headers ? fetch.Headers : global.Headers;\n\nconst FormUrlEncoded = __webpack_require__(69);\n\nconst IDToken = __webpack_require__(71);\n\nconst Session = __webpack_require__(73);\n\nconst onHttpError = __webpack_require__(74);\n\nconst HttpError = __webpack_require__(76);\n/**\n * AuthenticationResponse\n */\n\n\nclass AuthenticationResponse {\n  /**\n   * @param rp {RelyingParty}\n   * @param [redirect] {string} req.query\n   * @param [body] {string} req.body.text\n   * @param session {Session|Storage} req.session or localStorage or similar\n   * @param params {object} hashmap\n   * @param mode {string} 'query'/'fragment'/'form_post',\n   *   determined in `parseResponse()`\n   */\n  constructor({\n    rp,\n    redirect,\n    body,\n    session,\n    mode,\n    params = {}\n  }) {\n    this.rp = rp;\n    this.redirect = redirect;\n    this.body = body;\n    this.session = session;\n    this.mode = mode;\n    this.params = params;\n  }\n  /**\n   * validateResponse\n   *\n   * @description\n   * Authentication response validation.\n   *\n   * @param {string|Object} response\n   *\n   * @returns {Promise<Session>}\n   */\n\n\n  static validateResponse(response) {\n    return Promise.resolve(response).then(this.parseResponse).then(this.errorResponse).then(this.matchRequest).then(this.validateStateParam).then(this.validateResponseMode).then(this.validateResponseParams).then(this.exchangeAuthorizationCode).then(this.validateIDToken).then(Session.fromAuthResponse);\n  }\n  /**\n   * parseResponse\n   *\n   * @param {object} response\n   *\n   * @returns {object}\n   */\n\n\n  static parseResponse(response) {\n    let {\n      redirect,\n      body\n    } = response; // response must be either a redirect uri or request body, but not both\n\n    if (redirect && body || !redirect && !body) {\n      throw new HttpError(400, 'Invalid response mode');\n    } // parse redirect uri\n\n\n    if (redirect) {\n      let url = new URL(redirect);\n      let {\n        search,\n        hash\n      } = url;\n\n      if (search && hash || !search && !hash) {\n        throw new HttpError(400, 'Invalid response mode');\n      }\n\n      if (search) {\n        response.params = FormUrlEncoded.decode(search.substring(1));\n        response.mode = 'query';\n      }\n\n      if (hash) {\n        response.params = FormUrlEncoded.decode(hash.substring(1));\n        response.mode = 'fragment';\n      }\n    } // parse request form body\n\n\n    if (body) {\n      response.params = FormUrlEncoded.decode(body);\n      response.mode = 'form_post';\n    }\n\n    return response;\n  }\n  /**\n   * errorResponse\n   *\n   * @param {AuthenticationResponse} response\n   *\n   * @throws {Error} If response params include the OAuth2 'error' param,\n   *   throws an error based on it.\n   *\n   * @returns {AuthenticationResponse} Chainable\n   *\n   * @todo Figure out HTTP status code (typically 400, 401 or 403)\n   *   based on the OAuth2/OIDC `error` code, probably using an external library\n   */\n\n\n  static errorResponse(response) {\n    const errorCode = response.params.error;\n\n    if (errorCode) {\n      const errorParams = {};\n      errorParams['error'] = errorCode;\n      errorParams['error_description'] = response.params['error_description'];\n      errorParams['error_uri'] = response.params['error_uri'];\n      errorParams['state'] = response.params['state'];\n      const error = new Error(`AuthenticationResponse error: ${errorCode}`);\n      error.info = errorParams;\n      throw error;\n    }\n\n    return response;\n  }\n  /**\n   * matchRequest\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static matchRequest(response) {\n    let {\n      rp,\n      params,\n      session\n    } = response;\n    let state = params.state;\n    let issuer = rp.provider.configuration.issuer;\n\n    if (!state) {\n      throw new Error('Missing state parameter in authentication response');\n    }\n\n    let key = `${issuer}/requestHistory/${state}`;\n    let request = session[key];\n\n    if (!request) {\n      throw new Error('Mismatching state parameter in authentication response');\n    }\n\n    response.request = JSON.parse(request);\n    return response;\n  }\n  /**\n   * validateStateParam\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateStateParam(response) {\n    let octets = new Uint8Array(response.request.state);\n    let encoded = response.params.state;\n    return crypto.subtle.digest({\n      name: 'SHA-256'\n    }, octets).then(digest => {\n      if (encoded !== base64url(Buffer.from(digest))) {\n        throw new Error('Mismatching state parameter in authentication response');\n      }\n\n      return response;\n    });\n  }\n  /**\n   * validateResponseMode\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateResponseMode(response) {\n    if (response.request.response_type !== 'code' && response.mode === 'query') {\n      throw new Error('Invalid response mode');\n    }\n\n    return response;\n  }\n  /**\n   * validateResponseParams\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateResponseParams(response) {\n    let {\n      request,\n      params\n    } = response;\n    let expectedParams = request.response_type.split(' ');\n\n    if (expectedParams.includes('code')) {\n      assert(params.code, 'Missing authorization code in authentication response'); // TODO assert novelty of code\n    }\n\n    if (expectedParams.includes('id_token')) {\n      assert(params.id_token, 'Missing id_token in authentication response');\n    }\n\n    if (expectedParams.includes('token')) {\n      assert(params.access_token, 'Missing access_token in authentication response');\n      assert(params.token_type, 'Missing token_type in authentication response');\n    }\n\n    return response;\n  }\n  /**\n   * exchangeAuthorizationCode\n   *\n   * @param {Object} response\n   * @returns {Promise} response object\n   */\n\n\n  static exchangeAuthorizationCode(response) {\n    let {\n      rp,\n      params,\n      request\n    } = response;\n    let code = params.code; // only exchange the authorization code when the response type is \"code\"\n\n    if (!code || request['response_type'] !== 'code') {\n      return Promise.resolve(response);\n    }\n\n    let {\n      provider,\n      registration\n    } = rp;\n    let id = registration['client_id'];\n    let secret = registration['client_secret']; // verify the client is not public\n\n    if (!secret) {\n      return Promise.reject(new Error('Client cannot exchange authorization code because ' + 'it is not a confidential client'));\n    } // initialize token request arguments\n\n\n    let endpoint = provider.configuration.token_endpoint;\n    let method = 'POST'; // initialize headers\n\n    let headers = new Headers({\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }); // initialize the token request parameters\n\n    let bodyContents = {\n      'grant_type': 'authorization_code',\n      'code': code,\n      'redirect_uri': request['redirect_uri'] // determine client authentication method\n\n    };\n    let authMethod = registration['token_endpoint_auth_method'] || 'client_secret_basic'; // client secret basic authentication\n\n    if (authMethod === 'client_secret_basic') {\n      let credentials = new Buffer(`${id}:${secret}`).toString('base64');\n      headers.set('Authorization', `Basic ${credentials}`);\n    } // client secret post authentication\n\n\n    if (authMethod === 'client_secret_post') {\n      bodyContents['client_id'] = id;\n      bodyContents['client_secret'] = secret;\n    }\n\n    let body = FormUrlEncoded.encode(bodyContents); // TODO\n    // client_secret_jwt authentication\n    // private_key_jwt\n    // make the token request\n\n    return fetch(endpoint, {\n      method,\n      headers,\n      body\n    }).then(onHttpError('Error exchanging authorization code')).then(tokenResponse => tokenResponse.json()).then(tokenResponse => {\n      assert(tokenResponse['access_token'], 'Missing access_token in token response');\n      assert(tokenResponse['token_type'], 'Missing token_type in token response');\n      assert(tokenResponse['id_token'], 'Missing id_token in token response'); // anything else?\n      // IS THIS THE RIGHT THING TO DO HERE?\n\n      response.params = Object.assign(response.params, tokenResponse);\n      return response;\n    });\n  }\n  /**\n   * validateIDToken\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateIDToken(response) {\n    // only validate the ID Token if present in the response\n    if (!response.params.id_token) {\n      return Promise.resolve(response);\n    }\n\n    return Promise.resolve(response).then(AuthenticationResponse.decryptIDToken).then(AuthenticationResponse.decodeIDToken).then(AuthenticationResponse.validateIssuer).then(AuthenticationResponse.validateAudience).then(AuthenticationResponse.resolveKeys).then(AuthenticationResponse.verifySignature).then(AuthenticationResponse.validateExpires).then(AuthenticationResponse.verifyNonce).then(AuthenticationResponse.validateAcr).then(AuthenticationResponse.validateAuthTime).then(AuthenticationResponse.validateAccessTokenHash).then(AuthenticationResponse.validateAuthorizationCodeHash);\n  }\n  /**\n   * decryptIDToken\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static decryptIDToken(response) {\n    // TODO\n    return Promise.resolve(response);\n  }\n  /**\n   * decodeIDToken\n   *\n   * Note: If the `id_token` is not present in params, this method does not\n   * get called (short-circuited in `validateIDToken()`).\n   *\n   * @param response {AuthenticationResponse}\n   * @param response.params {object}\n   * @param [response.params.id_token] {string} IDToken encoded as a JWT\n   *\n   * @returns {AuthenticationResponse} Chainable\n   */\n\n\n  static decodeIDToken(response) {\n    let jwt = response.params.id_token;\n\n    try {\n      response.decoded = IDToken.decode(jwt);\n    } catch (decodeError) {\n      const error = new HttpError(400, 'Error decoding ID Token');\n      error.cause = decodeError;\n      error.info = {\n        id_token: jwt\n      };\n      throw error;\n    }\n\n    return response;\n  }\n  /**\n   * validateIssuer\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateIssuer(response) {\n    let configuration = response.rp.provider.configuration;\n    let payload = response.decoded.payload; // validate issuer of token matches this relying party's provider\n\n    if (payload.iss !== configuration.issuer) {\n      throw new Error('Mismatching issuer in ID Token');\n    }\n\n    return response;\n  }\n  /**\n   * validateAudience\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateAudience(response) {\n    let registration = response.rp.registration;\n    let {\n      aud,\n      azp\n    } = response.decoded.payload; // validate audience includes this relying party\n\n    if (typeof aud === 'string' && aud !== registration['client_id']) {\n      throw new Error('Mismatching audience in id_token');\n    } // validate audience includes this relying party\n\n\n    if (Array.isArray(aud) && !aud.includes(registration['client_id'])) {\n      throw new Error('Mismatching audience in id_token');\n    } // validate authorized party is present if required\n\n\n    if (Array.isArray(aud) && !azp) {\n      throw new Error('Missing azp claim in id_token');\n    } // validate authorized party is this relying party\n\n\n    if (azp && azp !== registration['client_id']) {\n      throw new Error('Mismatching azp claim in id_token');\n    }\n\n    return response;\n  }\n  /**\n   * resolveKeys\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static resolveKeys(response) {\n    let rp = response.rp;\n    let provider = rp.provider;\n    let decoded = response.decoded;\n    return Promise.resolve(provider.jwks).then(jwks => jwks ? jwks : rp.jwks()).then(jwks => {\n      if (decoded.resolveKeys(jwks)) {\n        return Promise.resolve(response);\n      } else {\n        throw new Error('Cannot resolve signing key for ID Token');\n      }\n    });\n  }\n  /**\n   * verifySignature\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static verifySignature(response) {\n    let alg = response.decoded.header.alg;\n    let registration = response.rp.registration;\n    let expectedAlgorithm = registration['id_token_signed_response_alg'] || 'RS256'; // validate signing algorithm matches expectation\n\n    if (alg !== expectedAlgorithm) {\n      throw new Error(`Expected ID Token to be signed with ${expectedAlgorithm}`);\n    }\n\n    return response.decoded.verify().then(verified => {\n      if (!verified) {\n        throw new Error('Invalid ID Token signature');\n      }\n\n      return response;\n    });\n  }\n  /**\n   * validateExpires\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateExpires(response) {\n    let exp = response.decoded.payload.exp; // validate expiration of token\n\n    if (exp <= Math.floor(Date.now() / 1000)) {\n      throw new Error('Expired ID Token');\n    }\n\n    return response;\n  }\n  /**\n   * verifyNonce\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static verifyNonce(response) {\n    let octets = new Uint8Array(response.request.nonce);\n    let nonce = response.decoded.payload.nonce;\n\n    if (!nonce) {\n      throw new Error('Missing nonce in ID Token');\n    }\n\n    return crypto.subtle.digest({\n      name: 'SHA-256'\n    }, octets).then(digest => {\n      if (nonce !== base64url(Buffer.from(digest))) {\n        throw new Error('Mismatching nonce in ID Token');\n      }\n\n      return response;\n    });\n  }\n  /**\n   * validateAcr\n   *\n   * @param {Object} response\n   * @returns {Object}\n   */\n\n\n  static validateAcr(response) {\n    // TODO\n    return response;\n  }\n  /**\n   * validateAuthTime\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateAuthTime(response) {\n    // TODO\n    return response;\n  }\n  /**\n   * validateAccessTokenHash\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateAccessTokenHash(response) {\n    // TODO\n    return response;\n  }\n  /**\n   * validateAuthorizationCodeHash\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateAuthorizationCodeHash(response) {\n    // TODO\n    return response;\n  }\n\n}\n/**\n * Export\n */\n\n\nmodule.exports = AuthenticationResponse;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20), __webpack_require__(41).Buffer))\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Local dependencies\n */\nconst {\n  JWT\n} = __webpack_require__(37);\n\nconst IDTokenSchema = __webpack_require__(72);\n/**\n * IDToken\n */\n\n\nclass IDToken extends JWT {\n  /**\n   * Schema\n   */\n  static get schema() {\n    return IDTokenSchema;\n  }\n\n}\n/**\n * Export\n */\n\n\nmodule.exports = IDToken;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Local dependencies\n */\nconst {\n  JWTSchema\n} = __webpack_require__(37);\n/**\n * IDToken Schema\n */\n\n\nconst IDTokenSchema = JWTSchema.extend({\n  properties: {\n    /**\n     * header\n     * http://openid.net/specs/openid-connect-core-1_0.html#IDToken\n     * ID Tokens SHOULD NOT use the JWS or JWE x5u, x5c, jku, or jwk Header\n     * Parameter fields. Instead, references to keys used are communicated in\n     * advance using Discovery and Registration parameters, per Section 10.\n     */\n    header: {//not: { required: ['x5u', 'x5c', 'jku', 'jwk'] }\n    },\n\n    /**\n     * payload\n     */\n    payload: {\n      properties: {\n        /**\n         * iss\n         *\n         * REQUIRED. Issuer Identifier for the Issuer of the response.\n         * The iss value is a case sensitive URL using the https scheme\n         * that contains scheme, host, and optionally, port number and\n         * path components and no query or fragment components.\n         */\n        iss: {\n          type: 'string',\n          format: 'url'\n        },\n\n        /**\n         * sub\n         *\n         * REQUIRED. Subject Identifier. A locally unique and never\n         * reassigned identifier within the Issuer for the End-User, which\n         * is intended to be consumed by the Client, e.g., 24400320 or\n         * AItOawmwtWwcT0k51BayewNvutrJUqsvl6qs7A4. It MUST NOT exceed 255\n         * ASCII characters in length. The sub value is a case sensitive\n         * string.\n         */\n        sub: {\n          type: 'string',\n          maxLength: 255\n        },\n\n        /**\n         * aud\n         *\n         * REQUIRED. Audience(s) that this ID Token is intended for. It\n         * MUST contain the OAuth 2.0 client_id of the Relying Party as an\n         * audience value. It MAY also contain identifiers for other audiences.\n         * In the general case, the aud value is an array of case sensitive\n         * strings. In the common special case when there is one audience,\n         * the aud value MAY be a single case sensitive string.\n         */\n        // inherited from JWTClaimsSetSchema\n\n        /**\n         * exp\n         *\n         * REQUIRED. Expiration time on or after which the ID Token MUST NOT\n         * be accepted for processing. The processing of this parameter\n         * requires that the current date/time MUST be before the expiration\n         * date/time listed in the value. Implementers MAY provide for some\n         * small leeway, usually no more than a few minutes, to account for\n         * clock skew. Its value is a JSON number representing the number of\n         * seconds from 1970-01-01T0:0:0Z as measured in UTC until the\n         * date/time. See RFC 3339 [RFC3339] for details regarding date/times\n         * in general and UTC in particular.\n         */\n        // inherited from JWTClaimsSetSchema\n\n        /**\n         * iat\n         *\n         * REQUIRED. Time at which the JWT was issued. Its value is a\n         * JSON number representing the number of seconds from\n         * 1970-01-01T0:0:0Z as measured in UTC until the date/time.\n         */\n        // inherited from JWTClaimsSetSchema\n\n        /**\n         * auth_time\n         *\n         * Time when the End-User authentication occurred. Its value is a\n         * JSON number representing the number of seconds from\n         * 1970-01-01T0:0:0Z as measured in UTC until the date/time. When a\n         * max_age request is made or when auth_time is requested as an\n         * Essential Claim, then this Claim is REQUIRED; otherwise, its\n         * inclusion is OPTIONAL. (The auth_time Claim semantically\n         * corresponds to the OpenID 2.0 PAPE [OpenID.PAPE] auth_time\n         * response parameter.)\n         */\n        auth_time: {\n          type: 'integer',\n          format: 'NumericDate'\n        },\n\n        /**\n         * nonce\n         *\n         * String value used to associate a Client session with an ID Token,\n         * and to mitigate replay attacks. The value is passed through\n         * unmodified from the Authentication Request to the ID Token. If\n         * present in the ID Token, Clients MUST verify that the nonce Claim\n         * Value is equal to the value of the nonce parameter sent in the\n         * Authentication Request. If present in the Authentication Request,\n         * Authorization Servers MUST include a nonce Claim in the ID Token\n         * with the Claim Value being the nonce value sent in the\n         * Authentication Request. Authorization Servers SHOULD perform no\n         * other processing on nonce values used. The nonce value is a case\n         * sensitive string.\n         */\n        nonce: {\n          type: 'string'\n        },\n\n        /**\n         * acr\n         *\n         * OPTIONAL. Authentication Context Class Reference. String\n         * specifying an Authentication Context Class Reference value that\n         * identifies the Authentication Context Class that the authentication\n         * performed satisfied. The value \"0\" indicates the End-User\n         * authentication did not meet the requirements of ISO/IEC 29115\n         * [ISO29115] level 1. Authentication using a long-lived browser\n         * cookie, for instance, is one example where the use of \"level 0\" is\n         * appropriate. Authentications with level 0 SHOULD NOT be used to\n         * authorize access to any resource of any monetary value. (This\n         * corresponds to the OpenID 2.0 PAPE [OpenID.PAPE] nist_auth_level\n         * 0.) An absolute URI or an RFC 6711 [RFC6711] registered name\n         * SHOULD be used as the acr value; registered names MUST NOT be used\n         * with a different meaning than that which is registered. Parties\n         * using this claim will need to agree upon the meanings of the\n         * values used, which may be context-specific. The acr value is a\n         * case sensitive string.\n         */\n        acr: {\n          type: 'string'\n        },\n\n        /**\n         * amr\n         * OPTIONAL. Authentication Methods References. JSON array of strings\n         * that are identifiers for authentication methods used in the\n         * authentication. For instance, values might indicate that both\n         * password and OTP authentication methods were used. The definition\n         * of particular values to be used in the amr Claim is beyond the\n         * scope of this specification. Parties using this claim will need to\n         * agree upon the meanings of the values used, which may be context-\n         * specific. The amr value is an array of case sensitive strings.\n         */\n        amr: {\n          type: 'array',\n          items: {\n            type: 'string'\n          }\n        },\n\n        /**\n         * azp\n         * OPTIONAL. Authorized party - the party to which the ID Token was\n         * issued. If present, it MUST contain the OAuth 2.0 Client ID of this\n         * party. This Claim is only needed when the ID Token has a single\n         * audience value and that audience is different than the authorized\n         * party. It MAY be included even when the authorized party is the\n         * same as the sole audience. The azp value is a case sensitive string\n         * containing a StringOrURI value.\n         */\n        azp: {\n          type: 'string',\n          format: 'StringOrURI'\n        }\n      },\n\n      /**\n       * Required Claims\n       */\n      required: ['iss', 'sub', 'aud', 'exp', 'iat']\n    }\n  }\n});\n/**\n * Export\n */\n\nmodule.exports = IDTokenSchema;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst fetch = __webpack_require__(5);\n\nconst onHttpError = __webpack_require__(74);\n\nconst PoPToken = __webpack_require__(75);\n\nclass Session {\n  /**\n   * @param options {Object}\n   *\n   * @param options.credentialType {string} 'access_token' or 'pop_token'\n   *\n   * @param options.issuer {string} Identity provider (issuer of ID/Access Token)\n   *\n   * @param options.authorization {object}\n   * @param options.authorization.client_id {string} OIDC/OAuth2 client id\n   * @param [options.authorization.id_token] {string} Compact-serialized id_token param\n   * @param [options.authorization.access_token] {string} Compact-serialized access_token param\n   * @param [options.authorization.refresh_token] {string} Compact-serialized refresh_token\n   *\n   * @param [options.sessionKey] {string} Serialized client session key generated\n   *   during the Authentication Request, used to issue PoPTokens\n   *\n   * @param [options.idClaims] {object} Decoded/verified ID Token JWT payload\n   *\n   * @param [options.accessClaims] {object} Decoded/verified Access Token JWT payload\n   */\n  constructor(options) {\n    this.credentialType = options.credentialType || 'access_token';\n    this.issuer = options.issuer;\n    this.authorization = options.authorization || {};\n    this.sessionKey = options.sessionKey;\n    this.idClaims = options.idClaims;\n    this.accessClaims = options.accessClaims;\n  }\n\n  static from(options) {\n    return new Session(options);\n  }\n  /**\n   * @param response {AuthenticationResponse}\n   *\n   * @returns {Session} RelyingParty Session object\n   */\n\n\n  static fromAuthResponse(response) {\n    const RelyingParty = __webpack_require__(19); // import here due to circular dep\n\n\n    let idClaims = response.decoded && response.decoded.payload || {};\n    let {\n      rp\n    } = response;\n    let registration = rp.registration;\n    let rpAuthOptions = rp.defaults.authenticate || {};\n    let credentialType = rpAuthOptions['credential_type'] || rp.defaults.popToken ? 'pop_token' : 'access_token';\n    let sessionKey = response.session[RelyingParty.SESSION_PRIVATE_KEY];\n    let options = {\n      credentialType,\n      sessionKey,\n      issuer: idClaims.iss,\n      idClaims,\n      authorization: {\n        client_id: registration['client_id'],\n        access_token: response.params['access_token'],\n        id_token: response.params['id_token'],\n        refresh_token: response.params['refresh_token']\n      }\n    };\n    return Session.from(options);\n  }\n  /**\n   * Authenticated fetch() getter\n   *\n   * @returns {function}\n   */\n\n\n  get fetch() {\n    /**\n     * fetch() function signature\n     *\n     * @param url {RequestInfo|string}\n     * @param options {object}\n     *\n     * @returns {Function<Promise<Response>>}\n     */\n    return (url, options) => {\n      return Promise.resolve().then(() => {\n        if (this.hasCredentials()) {\n          return this.fetchWithCredentials(url, options);\n        } else {\n          return fetch(url, options);\n        }\n      }).then(onHttpError('Error while fetching resource'));\n    };\n  }\n  /**\n   * bearerTokenFor\n   *\n   * @param url {string}\n   *\n   * @returns {Promise<string>}\n   */\n\n\n  bearerTokenFor(url) {\n    switch (this.credentialType) {\n      case 'pop_token':\n        return PoPToken.issueFor(url, this);\n\n      default:\n        // 'access_token' etc\n        return Promise.resolve(this.authorization[this.credentialType]);\n    }\n  }\n  /**\n   * hasCredentials\n   *\n   * @returns {boolean}\n   */\n\n\n  hasCredentials() {\n    switch (this.credentialType) {\n      case 'pop_token':\n        return !!this.authorization['id_token'];\n\n      default:\n        // 'access_token' etc\n        return !!this.authorization[this.credentialType];\n    }\n  }\n  /**\n   * fetchWithCredentials\n   *\n   * @param url {RequestInfo|string}\n   * @param options {object}\n   *\n   * @returns {Promise<Response>}\n   */\n\n\n  fetchWithCredentials(url, options = {}) {\n    options.headers = options.headers || {};\n    return this.bearerTokenFor(url).then(token => {\n      options.headers.authorization = `Bearer ${token}`;\n      return fetch(url, options);\n    });\n  }\n\n}\n\nmodule.exports = Session;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * Throws an error when a fetch response status code indicates a 400 or 500\n * HTTP error. (The whatwg fetch api does not normally reject on http error\n * responses).\n *\n * Usage:\n *\n * ```\n * return fetch(url)\n *   .then(onHttpError('Error while fetching resource')\n *   .catch(err => console.log(err))\n *\n * // -> 'Error while fetching resource: 404 Not Found' error\n * // if a 404 response is encountered\n * ```\n *\n * @param [message] {string} Optional error message to clarify context\n *\n * @throws {Error} For http status codes > 300\n *\n * @return {Object} fetch response object (passed through if no error)\n */\n\nfunction onHttpError(message = 'fetch error') {\n  return response => {\n    if (response.status >= 200 && response.status < 300) {\n      return response;\n    }\n\n    let errorMessage = `${message}: ${response.status} ${response.statusText}`;\n    let error = new Error(errorMessage);\n    error.response = response;\n    error.statusCode = response.status;\n    throw error;\n  };\n}\n\nmodule.exports = onHttpError;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  URL\n} = __webpack_require__(27);\n\nconst {\n  JWT,\n  JWK\n} = __webpack_require__(37);\n\nconst DEFAULT_MAX_AGE = 3600; // Default token expiration, in seconds\n\nclass PoPToken extends JWT {\n  /**\n   * @param resourceServerUri {string} RS URI for which this token is intended\n   *\n   * @param session {Session}\n   * @param session.sessionKey {string}\n   * @param session.authorization.client_id {string}\n   * @param session.authorization.id_token {string}\n   *\n   * @returns {Promise<string>} PoPToken, encoded as compact JWT\n   */\n  static issueFor(resourceServerUri, session) {\n    if (!resourceServerUri) {\n      throw new Error('Cannot issue PoPToken - missing resource server URI');\n    }\n\n    if (!session.sessionKey) {\n      throw new Error('Cannot issue PoPToken - missing session key');\n    }\n\n    if (!session.authorization.id_token) {\n      throw new Error('Cannot issue PoPToken - missing id token');\n    }\n\n    let jwk = JSON.parse(session.sessionKey);\n    return JWK.importKey(jwk).then(importedSessionJwk => {\n      let options = {\n        aud: new URL(resourceServerUri).origin,\n        key: importedSessionJwk,\n        iss: session.authorization.client_id,\n        id_token: session.authorization.id_token\n      };\n      return PoPToken.issue(options);\n    }).then(jwt => {\n      return jwt.encode();\n    });\n  }\n  /**\n   * issue\n   *\n   * @param options {Object}\n   * @param options.iss {string} Token issuer (RP client_id)\n   * @param options.aud {string|Array<string>} Audience for the token\n   *   (such as the Resource Server url)\n   * @param options.key {JWK} Proof of Possession (private) signing key, see\n   *   https://tools.ietf.org/html/rfc7800#section-3.1\n   *\n   * @param options.id_token {string} JWT compact encoded ID Token\n   *\n   * Optional:\n   * @param [options.iat] {number} Issued at timestamp (in seconds)\n   * @param [options.max] {number} Max token lifetime in seconds\n   *\n   * @returns {PoPToken} Proof of Possession Token (JWT instance)\n   */\n\n\n  static issue(options) {\n    let {\n      aud,\n      iss,\n      key\n    } = options;\n    let alg = key.alg;\n    let iat = options.iat || Math.floor(Date.now() / 1000);\n    let max = options.max || DEFAULT_MAX_AGE;\n    let exp = iat + max; // token expiration\n\n    let header = {\n      alg\n    };\n    let payload = {\n      iss,\n      aud,\n      exp,\n      iat,\n      id_token: options.id_token,\n      token_type: 'pop'\n    };\n    let jwt = new PoPToken({\n      header,\n      payload,\n      key: key.cryptoKey\n    }, {\n      filter: false\n    });\n    return jwt;\n  }\n\n}\n\nmodule.exports = PoPToken;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = HttpError\nvar StandardError = __webpack_require__(77)\nvar STATUS_CODE_TO_NAME = __webpack_require__(78)\nvar STATUS_NAME_TO_CODE = exports\n\nfunction HttpError(code, msg, props) {\n  if (typeof code == \"string\") code = STATUS_NAME_TO_CODE[code]\n  if (typeof code != \"number\") throw new TypeError(\"Non-numeric HTTP code\")\n  if (typeof msg == \"object\" && msg != null) { props = msg; msg = null }\n  StandardError.call(this, msg || STATUS_CODE_TO_NAME[code], props)\n  this.code = code\n}\n\nHttpError.prototype = Object.create(StandardError.prototype, {\n  constructor: {value: HttpError, configurable: true, writable: true}\n})\n\n// Set name explicitly for when the code gets minified.\nHttpError.prototype.name = \"HttpError\"\n\nObject.defineProperties(HttpError.prototype, {\n  statusCode: alias(\"code\"),\n  statusMessage: alias(\"message\"),\n\n  status: {\n    configurable: true,\n    get: function() { return this.code },\n    set: function(value) {\n      Object.defineProperty(this, \"status\", {\n        value: value, configurable: true, enumerable: true, writable: true\n      })\n    }\n  }\n})\n\nHttpError.prototype.toString = function() {\n  return this.name + \": \" + this.code + \" \" + this.message\n}\n\nfor (var code in STATUS_CODE_TO_NAME) {\n  var name = STATUS_CODE_TO_NAME[code]\n  exports[name.replace(\"'\", \"\").replace(/[- ]/g, \"_\").toUpperCase()] = +code\n}\n\nfunction alias(name) {\n  return {\n    configurable: true,\n    get: function() { return this[name] },\n    set: function(value) { return this[name] = value }\n  }\n}\n\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports) {\n\nvar has = Object.hasOwnProperty\nvar proto = Object.getPrototypeOf\nvar trace = Error.captureStackTrace\nmodule.exports = StandardError\n\nfunction StandardError(msg, props) {\n  // Let all properties be enumerable for easier serialization.\n  if (msg && typeof msg == \"object\") props = msg, msg = undefined\n  else this.message = msg\n\n  // Name has to be an own property (or on the prototype a single step up) for\n  // the stack to be printed with the correct name.\n  if (props) for (var key in props) this[key] = props[key]\n  if (!has.call(this, \"name\"))\n    this.name = has.call(proto(this), \"name\")? this.name : this.constructor.name\n\n  if (trace && !(\"stack\" in this)) trace(this, this.constructor)\n}\n\nStandardError.prototype = Object.create(Error.prototype, {\n  constructor: {value: StandardError, configurable: true, writable: true}\n})\n\n// Set name explicitly for when the code gets minified.\nStandardError.prototype.name = \"StandardError\"\n\n\n/***/ }),\n/* 78 */\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"100\\\":\\\"Continue\\\",\\\"101\\\":\\\"Switching Protocols\\\",\\\"102\\\":\\\"Processing\\\",\\\"200\\\":\\\"OK\\\",\\\"201\\\":\\\"Created\\\",\\\"202\\\":\\\"Accepted\\\",\\\"203\\\":\\\"Non-Authoritative Information\\\",\\\"204\\\":\\\"No Content\\\",\\\"205\\\":\\\"Reset Content\\\",\\\"206\\\":\\\"Partial Content\\\",\\\"207\\\":\\\"Multi-Status\\\",\\\"208\\\":\\\"Already Reported\\\",\\\"226\\\":\\\"IM Used\\\",\\\"300\\\":\\\"Multiple Choices\\\",\\\"301\\\":\\\"Moved Permanently\\\",\\\"302\\\":\\\"Found\\\",\\\"303\\\":\\\"See Other\\\",\\\"304\\\":\\\"Not Modified\\\",\\\"305\\\":\\\"Use Proxy\\\",\\\"307\\\":\\\"Temporary Redirect\\\",\\\"308\\\":\\\"Permanent Redirect\\\",\\\"400\\\":\\\"Bad Request\\\",\\\"401\\\":\\\"Unauthorized\\\",\\\"402\\\":\\\"Payment Required\\\",\\\"403\\\":\\\"Forbidden\\\",\\\"404\\\":\\\"Not Found\\\",\\\"405\\\":\\\"Method Not Allowed\\\",\\\"406\\\":\\\"Not Acceptable\\\",\\\"407\\\":\\\"Proxy Authentication Required\\\",\\\"408\\\":\\\"Request Timeout\\\",\\\"409\\\":\\\"Conflict\\\",\\\"410\\\":\\\"Gone\\\",\\\"411\\\":\\\"Length Required\\\",\\\"412\\\":\\\"Precondition Failed\\\",\\\"413\\\":\\\"Payload Too Large\\\",\\\"414\\\":\\\"URI Too Long\\\",\\\"415\\\":\\\"Unsupported Media Type\\\",\\\"416\\\":\\\"Range Not Satisfiable\\\",\\\"417\\\":\\\"Expectation Failed\\\",\\\"418\\\":\\\"I'm a teapot\\\",\\\"421\\\":\\\"Misdirected Request\\\",\\\"422\\\":\\\"Unprocessable Entity\\\",\\\"423\\\":\\\"Locked\\\",\\\"424\\\":\\\"Failed Dependency\\\",\\\"425\\\":\\\"Unordered Collection\\\",\\\"426\\\":\\\"Upgrade Required\\\",\\\"428\\\":\\\"Precondition Required\\\",\\\"429\\\":\\\"Too Many Requests\\\",\\\"431\\\":\\\"Request Header Fields Too Large\\\",\\\"500\\\":\\\"Internal Server Error\\\",\\\"501\\\":\\\"Not Implemented\\\",\\\"502\\\":\\\"Bad Gateway\\\",\\\"503\\\":\\\"Service Unavailable\\\",\\\"504\\\":\\\"Gateway Timeout\\\",\\\"505\\\":\\\"HTTP Version Not Supported\\\",\\\"506\\\":\\\"Variant Also Negotiates\\\",\\\"507\\\":\\\"Insufficient Storage\\\",\\\"508\\\":\\\"Loop Detected\\\",\\\"509\\\":\\\"Bandwidth Limit Exceeded\\\",\\\"510\\\":\\\"Not Extended\\\",\\\"511\\\":\\\"Network Authentication Required\\\"}\");\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Dependencies\n */\nconst {\n  JSONSchema\n} = __webpack_require__(28);\n/**\n * RelyingParty Schema\n *\n * This schema initializes and verifies Relying Party client configuration.\n * RelyingParty objects can be persisted and rehydrated. By encapsulating this data in\n * it's own class, it's possible to have multiple RP configurations running\n * simultaneously.\n */\n\n\nconst RelyingPartySchema = new JSONSchema({\n  type: 'object',\n  properties: {\n    /**\n     * provider\n     *\n     * Information about the provider, including issuer URL, human readable name,\n     * and any configuration or provider metadata retrieved from the OP.\n     */\n    provider: {\n      type: 'object',\n      properties: {\n        name: {\n          type: 'string'\n        },\n        url: {\n          type: 'string',\n          format: 'uri'\n        },\n        // NOTE:\n        // OpenID Configuration (discovery response) and JSON Web Keys Set for an\n        // issuer can be cached here. However the cache should not be persisted or\n        // relied upon.\n        //\n        configuration: {},\n        // .well-known/openid-configuration\n        jwks: {} // /jwks\n\n      },\n      required: ['url']\n    },\n\n    /**\n     * defaults\n     *\n     * Default request parameters for authentication and dynamic registration requests.\n     * These values can be extended or overridden via arguments to the respective\n     * request methods.\n     *\n     * These are part of the relying party client configuration and can be serialized\n     * and persisted.\n     */\n    defaults: {\n      type: 'object',\n      properties: {\n        /**\n         * Use Proof of Possession token semantics for the ID Token\n         */\n        popToken: {\n          type: 'boolean',\n          default: false\n        },\n\n        /**\n         * Default authentication request parameters\n         */\n        authenticate: {\n          type: 'object',\n          properties: {\n            redirect_uri: {\n              type: 'string',\n              format: 'uri'\n            },\n            response_type: {\n              type: 'string',\n              default: 'id_token token',\n              // browser detection\n              enum: ['code', 'token', 'id_token token', 'id_token token code']\n            },\n            display: {\n              type: 'string',\n              default: 'page',\n              enum: ['page', 'popup']\n            },\n            scope: {\n              type: ['string', 'array'],\n              default: ['openid']\n            }\n          }\n        },\n\n        /**\n         * Default client registration parameters\n         */\n        register: {}\n      }\n    },\n\n    /**\n     * registration\n     *\n     * This is the client registration response from dynamic registration. It should\n     * always reflect the client configuration on the openid provider. A client access\n     * token is stored here\n     */\n    registration: {},\n    // ClientMetadataSchema\n\n    /**\n     * store\n     */\n    store: {\n      type: 'object',\n      default: {}\n    }\n  }\n});\n/**\n * Export\n */\n\nmodule.exports = RelyingPartySchema;\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _require = __webpack_require__(27),\n    URL = _require.URL;\n\nvar _require2 = __webpack_require__(37),\n    JWT = _require2.JWT,\n    JWK = _require2.JWK;\n\nvar DEFAULT_MAX_AGE = 3600; // Default token expiration, in seconds\n\nvar PoPToken = function (_JWT) {\n  _inherits(PoPToken, _JWT);\n\n  function PoPToken() {\n    _classCallCheck(this, PoPToken);\n\n    return _possibleConstructorReturn(this, (PoPToken.__proto__ || Object.getPrototypeOf(PoPToken)).apply(this, arguments));\n  }\n\n  _createClass(PoPToken, null, [{\n    key: 'issueFor',\n\n    /**\n     * @param resourceServerUri {string} RS URI for which this token is intended\n     *\n     * @param session {Session}\n     * @param session.sessionKey {string}\n     * @param session.authorization.client_id {string}\n     * @param session.authorization.id_token {string}\n     *\n     * @returns {Promise<string>} PoPToken, encoded as compact JWT\n     */\n    value: function issueFor(resourceServerUri, session) {\n      if (!resourceServerUri) {\n        throw new Error('Cannot issue PoPToken - missing resource server URI');\n      }\n\n      if (!session.sessionKey) {\n        throw new Error('Cannot issue PoPToken - missing session key');\n      }\n\n      if (!session.authorization.id_token) {\n        throw new Error('Cannot issue PoPToken - missing id token');\n      }\n\n      var jwk = JSON.parse(session.sessionKey);\n      return JWK.importKey(jwk).then(function (importedSessionJwk) {\n        var options = {\n          aud: new URL(resourceServerUri).origin,\n          key: importedSessionJwk,\n          iss: session.authorization.client_id,\n          id_token: session.authorization.id_token\n        };\n        return PoPToken.issue(options);\n      }).then(function (jwt) {\n        return jwt.encode();\n      });\n    }\n    /**\n     * issue\n     *\n     * @param options {Object}\n     * @param options.iss {string} Token issuer (RP client_id)\n     * @param options.aud {string|Array<string>} Audience for the token\n     *   (such as the Resource Server url)\n     * @param options.key {JWK} Proof of Possession (private) signing key, see\n     *   https://tools.ietf.org/html/rfc7800#section-3.1\n     *\n     * @param options.id_token {string} JWT compact encoded ID Token\n     *\n     * Optional:\n     * @param [options.iat] {number} Issued at timestamp (in seconds)\n     * @param [options.max] {number} Max token lifetime in seconds\n     *\n     * @returns {PoPToken} Proof of Possession Token (JWT instance)\n     */\n\n  }, {\n    key: 'issue',\n    value: function issue(options) {\n      var aud = options.aud,\n          iss = options.iss,\n          key = options.key;\n      var alg = key.alg;\n      var iat = options.iat || Math.floor(Date.now() / 1000);\n      var max = options.max || DEFAULT_MAX_AGE;\n      var exp = iat + max; // token expiration\n\n      var header = {\n        alg: alg\n      };\n      var payload = {\n        iss: iss,\n        aud: aud,\n        exp: exp,\n        iat: iat,\n        id_token: options.id_token,\n        token_type: 'pop'\n      };\n      var jwt = new PoPToken({\n        header: header,\n        payload: payload,\n        key: key.cryptoKey\n      }, {\n        filter: false\n      });\n      return jwt;\n    }\n  }]);\n\n  return PoPToken;\n}(JWT);\n\nmodule.exports = PoPToken;\n\n/***/ }),\n/* 81 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openIdpPopup\", function() { return openIdpPopup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"obtainSession\", function() { return obtainSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"popupHandler\", function() { return popupHandler; });\n/* harmony import */ var _ipc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n/* harmony import */ var _url_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n\n\nfunction openIdpPopup(popupUri) {\n  const width = 650;\n  const height = 400;\n  const left = window.screenX + (window.innerWidth - width) / 2;\n  const top = window.screenY + (window.innerHeight - height) / 2;\n  const settings = \"width=\".concat(width, \",height=\").concat(height, \",left=\").concat(left, \",top=\").concat(top);\n  return window.open(popupUri, 'solid-auth-client', settings);\n}\nfunction obtainSession(store, popup, options) {\n  return new Promise((resolve, reject) => {\n    const popupServer = new _ipc__WEBPACK_IMPORTED_MODULE_0__[\"Server\"](popup, Object(_url_util__WEBPACK_IMPORTED_MODULE_1__[\"originOf\"])(options.popupUri || ''), popupHandler(store, options, session => {\n      popupServer.stop();\n      resolve(session);\n    }));\n    popupServer.start();\n  });\n}\nfunction popupHandler(store, _ref, foundSessionCb) {\n  let {\n    popupUri,\n    callbackUri\n  } = _ref;\n  return async function (method) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    switch (method) {\n      // Origin\n      case 'getAppOrigin':\n        return window.location.origin;\n      // Storage\n\n      case 'storage/getItem':\n        return store.getItem(...args);\n\n      case 'storage/setItem':\n        return store.setItem(...args);\n\n      case 'storage/removeItem':\n        return store.removeItem(...args);\n      // Login\n\n      case 'getLoginOptions':\n        return {\n          popupUri,\n          callbackUri\n        };\n\n      case 'foundSession':\n        foundSessionCb(...args);\n    }\n  };\n}\n\n/***/ })\n/******/ ])[\"default\"];\n//# sourceMappingURL=index.js.map"],"names":["module","modules","installedModules","__webpack_require__","moduleId","exports","name","getter","value","mode","ns","key","object","property","__webpack_exports__","_solid_auth_client__WEBPACK_IMPORTED_MODULE_0__","auth","warned","SolidAuthClient","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default","events__WEBPACK_IMPORTED_MODULE_1__","events__WEBPACK_IMPORTED_MODULE_1___default","_authn_fetch__WEBPACK_IMPORTED_MODULE_2__","_popup__WEBPACK_IMPORTED_MODULE_3__","_session__WEBPACK_IMPORTED_MODULE_4__","_storage__WEBPACK_IMPORTED_MODULE_5__","_url_util__WEBPACK_IMPORTED_MODULE_6__","_webid_oidc__WEBPACK_IMPORTED_MODULE_7__","ownKeys","enumerableOnly","keys","symbols","sym","_objectSpread","target","i","source","globalFetch","input","options","idp","defaultLoginOptions","popup","session","storage","err","callback","url","_defineProperty","obj","R","ReflectApply","receiver","args","ReflectOwnKeys","ProcessEmitWarning","warning","NumberIsNaN","EventEmitter","defaultMaxListeners","arg","n","$getMaxListeners","that","type","doError","events","er","handler","len","listeners","arrayClone","_addListener","listener","prepend","m","existing","w","onceWrapper","_onceWrap","state","wrapped","list","position","originalListener","spliceOne","_listeners","unwrap","evlistener","unwrapListeners","emitter","listenerCount","arr","copy","index","ret","authnFetch","_url_util__WEBPACK_IMPORTED_MODULE_1__","_host__WEBPACK_IMPORTED_MODULE_2__","_session__WEBPACK_IMPORTED_MODULE_3__","_webid_oidc__WEBPACK_IMPORTED_MODULE_4__","fetch","shouldShareCredentials","resp","requestHost","currentUrl","currentUrlNoParams","navigateTo","originOf","toUrlString","getLocation","getHost","saveHost","updateHostFromResponse","_session__WEBPACK_IMPORTED_MODULE_1__","_storage__WEBPACK_IMPORTED_MODULE_2__","_webid_oidc__WEBPACK_IMPORTED_MODULE_3__","host","hosts","_ref","requiresAuth","data","getSession","saveSession","clearSession","_storage__WEBPACK_IMPORTED_MODULE_1__","NAMESPACE","defaultStorage","getData","updateStorage","asyncStorage","memStorage","ipcStorage","hasLocalStorage","store","serialized","e","update","currentData","newData","val","client","Server","Client","clientWindow","clientOrigin","handle","event","origin","req","id","method","serverWindow","serverOrigin","_len","_key","resolve","reject","responseListener","timeout","_ref2","login","currentSession","logout","getRegisteredRp","fetchWithCredentials","_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default","auth_header__WEBPACK_IMPORTED_MODULE_2__","_solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3__","_solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default","_solid_oidc_rp_lib_PoPToken__WEBPACK_IMPORTED_MODULE_4__","_solid_oidc_rp_lib_PoPToken__WEBPACK_IMPORTED_MODULE_4___default","_url_util__WEBPACK_IMPORTED_MODULE_5__","_storage__WEBPACK_IMPORTED_MODULE_6__","rp","saveAppHashFragment","sendAuthRequest","getStoredRp","restoreAppHashFragment","storeData","registerRp","storeRp","rpConfig","opts","callbackUri","responseType","clientNameI18n","_","supplementaryOptions","registration","_ref3","_ref4","appHashFragment","wwwAuthHeader","headers","origHeaders","entries","popToken","objectWithoutPropertiesLoose","_objectWithoutProperties","excluded","sourceSymbolKeys","_objectWithoutPropertiesLoose","sourceKeys","_format","_parse","_interopRequireDefault","_util","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","arr2","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_i","_s","xxx","build","params","prev","values","transform","challenge","_default","scheme","token","isToken","str","isScheme","quote","unquote","body","normalize","_cur","cur","parseProperties","string","res","start","global","assert","URL","Headers","JSONDocument","JWKSet","AuthenticationRequest","AuthenticationResponse","RelyingPartySchema","onHttpError","FormUrlEncoded","RelyingParty","validation","jwks","issuer","response","json","error","configuration","uri","authResponse","access_token","id_token_hint","post_logout_redirect_uri","SESSION_PRIVATE_KEY","idToken","g","objectAssign","compare","a","b","x","y","isBuffer","util","hasOwn","pSlice","functionsHaveNames","pToString","isView","arrbuf","ok","regex","getName","func","match","getMessage","stackStartFunction","fail","out","fn_name","idx","next_line","truncate","s","inspect","something","rawname","self","actual","expected","message","operator","_deepEqual","strict","memos","actualIndex","objEquiv","isArguments","actualVisitedObjects","aIsArgs","bIsArgs","ka","objectKeys","kb","notDeepStrictEqual","expectedException","_tryBlock","block","_throws","shouldThrow","userProvidedMessage","isUnwantedException","isUnexpectedException","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","toObject","shouldUseNative","test1","test2","order2","test3","letter","from","to","process","getOwnPropertyDescriptors","descriptors","formatRegExp","f","isString","objects","isNull","isObject","fn","msg","deprecated","debugs","debugEnviron","set","isUndefined","pid","ctx","stylizeNoColor","isBoolean","stylizeWithColor","formatValue","styleType","style","arrayToHash","array","hash","recurseTimes","isFunction","primitive","formatPrimitive","visibleKeys","isError","formatError","isRegExp","isDate","base","braces","isArray","output","formatArray","formatProperty","reduceToSingleString","simple","isNumber","l","desc","line","length","ar","isNullOrUndefined","isSymbol","re","objectToString","d","isPrimitive","o","pad","months","timestamp","time","add","prop","kCustomPromisifiedSymbol","original","promiseResolve","promiseReject","promise","callbackifyOnRejected","reason","cb","newReason","callbackify","callbackified","maybeCb","rej","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","Item","noop","dir","ctor","superCtor","TempCtor","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_classCallCheck","instance","DATETIME_REGEXP","URI_REGEXP","EMAIL_REGEXP","IPV4_REGEXP","IPV6_REGEXP","HOSTNAME_REGEXP","Formats","pattern","format","formats","_typeof","Initializer","schema","root","declarations","level","properties","additionalProperties","items","additionalItems","subschema","initializer","_index","JSONPatch","alternate","ops","patch","mapping","JSONPointer","SILENT","OPERATIONS","_this","operation","op","pointer","THROW","RECOVER","expr","current","tokens","JSONMapping","right","left","Validator","JSONSchema","extender","result","indexCount","validator","address","types","conditions","keywords","validations","constraints","keyword","enumerated","anyOf","allOf","oneOf","not","required","isRequired","segment","patternProperties","_schema","minProperties","maxProperties","dependencies","dependency","item","_schema2","counter","minItems","maxItems","uniqueItems","minLength","maxLength","matcher","_schema3","minimum","exclusiveMinimum","_schema4","maximum","exclusiveMaximum","multipleOf","decimals","pow","condition","JWA","JWK","JWT","JWS","Base64URLSchema","JOSEHeaderSchema","JWKSchema","JWKSetSchema","JWTClaimsSetSchema","JWTSchema","supportedAlgorithms","_require","NotSupportedError","alg","normalizedAlgorithm","signature","Buffer","pad_string_1","encode","encoding","fromBase64","decode","base64url","toBase64","base64","toBuffer","ieee754","SlowBuffer","typedArraySupport","kMaxLength","createBuffer","encodingOrOffset","allocUnsafe","fromArrayBuffer","fromString","fromObject","assertSize","size","alloc","fill","checked","byteLength","fromArrayLike","byteOffset","isnan","buffer","pos","buf","loweredCase","utf8ToBytes","base64ToBytes","slowToString","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","max","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","read","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","toHex","bytes","newBuf","sliceLen","checkOffset","ext","noAssert","mul","checkInt","min","maxBytes","objectWriteUInt16","littleEndian","objectWriteUInt32","limit","sub","checkIEEE754","writeFloat","writeDouble","targetStart","code","INVALID_BASE64_RE","base64clean","stringtrim","units","leadSurrogate","byteArray","c","hi","lo","src","dst","toByteArray","fromByteArray","lookup","revLookup","Arr","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","tmp","curByte","tripletToBase64","num","encodeChunk","uint8","extraBytes","parts","maxChunkLength","len2","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","toString","padString","segmentLength","stringLength","diff","padLength","paddedStringLength","None","HMAC","RSASSA_PKCS1_v1_5","SupportedAlgorithms","crypto","TextEncoder","algorithm","jwk","usages","cryptoKey","operations","argument","registeredAlgorithms","_possibleConstructorReturn","call","_inherits","subClass","superClass","_Error","DataError","_JSONDocument","_require2","imported","importing","kid","ExtendedJWT","jwt","serialization","segments","header","payload","verified","sliceIterator","_jwt$segments","provider","defaults","endpoint","digests","nonce","sessionKeys","encodedParams","keyPair","jwkPair","publicJwk","privateJwk","excludeParams","keysToEncode","requestParamCompact","pairs","pair","IDToken","Session","HttpError","redirect","search","errorCode","errorParams","request","octets","encoded","digest","expectedParams","secret","bodyContents","authMethod","credentials","tokenResponse","decodeError","aud","azp","decoded","expectedAlgorithm","IDTokenSchema","PoPToken","idClaims","credentialType","sessionKey","errorMessage","DEFAULT_MAX_AGE","resourceServerUri","importedSessionJwk","iss","iat","exp","StandardError","STATUS_CODE_TO_NAME","STATUS_NAME_TO_CODE","alias","has","proto","trace","_JWT","openIdpPopup","obtainSession","popupHandler","_ipc__WEBPACK_IMPORTED_MODULE_0__","popupUri","top","settings","popupServer","foundSessionCb"],"mappings":"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","x_google_ignoreList":[0]}